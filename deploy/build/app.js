
// source\OsmMap.js
function OSMMapType(e){this.MapCacheBasePath=e.MapCacheExternal?"/media/internal/.MapTool/":"/media/internal/appdata/cz.72ka.googlemaps/cache/OSM/"}OSMMapType.prototype={tileSize:{width:256,height:256,D:"px",I:"px"},isPng:!0,name:"OpenStreetMap",credit:"OpenStreetMap",maxZoom:18,getTile:function(e,t,a){this.checkFileExist(this.MapCacheBasePath+t+"/"+e.x+"/"+e.y+".png",t,e.x,e.y,a);var n=this.MapCacheBasePath+t+"/"+e.x+"/"+e.y+".png",i=a.createElement("img");return i.width=this.tileSize.width,i.height=this.tileSize.height,i.src=n,i.id="NoTrans"+(""+t)+(""+e.x)+(""+e.y),i},checkFileExist:function(e,t,a,n,i){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==o.readyState){if(200==o.status)return!0;this.downloadTile("http://tile.openstreetmap.org/"+t+"/"+a+"/"+n+".png",t,a,n,i)}}.bind(this),o.open("HEAD",e,!0),o.send()},downloadTile:function(e,t,a,n,i){var o=document.getElementById("NoTrans"+(""+t)+(""+a)+(""+n));o.src="images/saving-to-cache.png";var r=new enyo.ServiceRequest({service:"palm://com.palm.downloadmanager/",method:"download",x:a,y:n,ownerDocument:i,zoom:t});r.response(this,"downloadSuccess"),r.error(this,"downloadFailure"),r.go({target:e,targetDir:this.MapCacheBasePath+t+"/"+a+"/",targetFilename:n+".png"})},downloadSuccess:function(e){this.refreshTile(e.target,e.zoom,e.x,e.y,e.ownerDocument)},downloadFailure:function(){enyo.log("Error while downloading tile.")},refreshTile:function(e,t,a,n){var e=document.getElementById("NoTrans"+(""+t)+(""+a)+(""+n));e.src="http://tile.openstreetmap.org/"+t+"/"+a+"/"+n+".png"}};

// lib\layout\version.js
enyo&&enyo.version&&(enyo.version.layout="2.5.1");

// lib\layout\contextual\source\ContextualLayout.js
(function(t){t.kind({name:"enyo.ContextualLayout",kind:"Layout",adjustPosition:function(){if(this.container.showing&&this.container.hasNode()){this.resetPositioning();var t=this.getViewWidth(),i=this.getViewHeight(),e=this.container.vertFlushMargin,o=i-this.container.vertFlushMargin,s=this.container.horizFlushMargin,n=t-this.container.horizFlushMargin;if(e>this.offset.top+this.offset.height||this.offset.top>o){if(this.applyVerticalFlushPositioning(s,n))return;if(this.applyHorizontalFlushPositioning(s,n))return;if(this.applyVerticalPositioning())return}else if((s>this.offset.left+this.offset.width||this.offset.left>n)&&this.applyHorizontalPositioning())return;var h=this.getBoundingRect(this.container.node);if(h.width>this.container.widePopup){if(this.applyVerticalPositioning())return}else if(h.height>this.container.longPopup&&this.applyHorizontalPositioning())return;if(this.applyVerticalPositioning())return;if(this.applyHorizontalPositioning())return}},initVerticalPositioning:function(){this.resetPositioning(),this.container.addClass("vertical");var t=this.getBoundingRect(this.container.node),i=this.getViewHeight();return this.container.floating?i/2>this.offset.top?(this.applyPosition({top:this.offset.top+this.offset.height,bottom:"auto"}),this.container.addClass("below")):(this.applyPosition({top:this.offset.top-t.height,bottom:"auto"}),this.container.addClass("above")):t.top+t.height>i&&i-t.bottom<t.top-t.height?this.container.addClass("above"):this.container.addClass("below"),t=this.getBoundingRect(this.container.node),t.top+t.height>i||0>t.top?!1:!0},applyVerticalPositioning:function(){if(!this.initVerticalPositioning())return!1;var t=this.getBoundingRect(this.container.node),i=this.getViewWidth();if(this.container.floating){var e=this.offset.left+this.offset.width/2-t.width/2;e+t.width>i?(this.applyPosition({left:this.offset.left+this.offset.width-t.width}),this.container.addClass("left")):0>e?(this.applyPosition({left:this.offset.left}),this.container.addClass("right")):this.applyPosition({left:e})}else{var o=this.offset.left+this.offset.width/2-t.left-t.width/2;t.right+o>i?(this.applyPosition({left:this.offset.left+this.offset.width-t.right}),this.container.addRemoveClass("left",!0)):0>t.left+o?this.container.addRemoveClass("right",!0):this.applyPosition({left:o})}return!0},applyVerticalFlushPositioning:function(t,i){if(!this.initVerticalPositioning())return!1;var e=this.getBoundingRect(this.container.node),o=this.getViewWidth();return t>this.offset.left+this.offset.width/2?(this.offset.left+this.offset.width/2<this.container.horizBuffer?this.applyPosition({left:this.container.horizBuffer+(this.container.floating?0:-e.left)}):this.applyPosition({left:this.offset.width/2+(this.container.floating?this.offset.left:0)}),this.container.addClass("right"),this.container.addClass("corner"),!0):this.offset.left+this.offset.width/2>i?(this.offset.left+this.offset.width/2>o-this.container.horizBuffer?this.applyPosition({left:o-this.container.horizBuffer-e.right}):this.applyPosition({left:this.offset.left+this.offset.width/2-e.right}),this.container.addClass("left"),this.container.addClass("corner"),!0):!1},initHorizontalPositioning:function(){this.resetPositioning();var t=this.getBoundingRect(this.container.node),i=this.getViewWidth();return this.container.floating?i/2>this.offset.left+this.offset.width?(this.applyPosition({left:this.offset.left+this.offset.width}),this.container.addRemoveClass("left",!0)):(this.applyPosition({left:this.offset.left-t.width}),this.container.addRemoveClass("right",!0)):this.offset.left-t.width>0?(this.applyPosition({left:this.offset.left-t.left-t.width}),this.container.addRemoveClass("right",!0)):(this.applyPosition({left:this.offset.width}),this.container.addRemoveClass("left",!0)),this.container.addRemoveClass("horizontal",!0),t=this.getBoundingRect(this.container.node),0>t.left||t.left+t.width>i?!1:!0},applyHorizontalPositioning:function(){if(!this.initHorizontalPositioning())return!1;var t=this.getBoundingRect(this.container.node),i=this.getViewHeight(),e=this.offset.top+this.offset.height/2;return this.container.floating?e>=i/2-.05*i&&i/2+.05*i>=e?this.applyPosition({top:this.offset.top+this.offset.height/2-t.height/2,bottom:"auto"}):i/2>this.offset.top+this.offset.height?(this.applyPosition({top:this.offset.top,bottom:"auto"}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:this.offset.top-t.height+2*this.offset.height,bottom:"auto"}),this.container.addRemoveClass("low",!0)):e>=i/2-.05*i&&i/2+.05*i>=e?this.applyPosition({top:(this.offset.height-t.height)/2}):i/2>this.offset.top+this.offset.height?(this.applyPosition({top:-this.offset.height}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:t.top-t.height-this.offset.top+this.offset.height}),this.container.addRemoveClass("low",!0)),!0},applyHorizontalFlushPositioning:function(t,i){if(!this.initHorizontalPositioning())return!1;var e=this.getBoundingRect(this.container.node),o=this.getViewHeight();return this.container.floating?o/2>this.offset.top?(this.applyPosition({top:this.offset.top+this.offset.height/2}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:this.offset.top+this.offset.height/2-e.height}),this.container.addRemoveClass("low",!0)):e.top+e.height>o&&o-e.bottom<e.top-e.height?(this.applyPosition({top:e.top-e.height-this.offset.top-this.offset.height/2}),this.container.addRemoveClass("low",!0)):(this.applyPosition({top:this.offset.height/2}),this.container.addRemoveClass("high",!0)),t>this.offset.left+this.offset.width?(this.container.addClass("left"),this.container.addClass("corner"),!0):this.offset.left>i?(this.container.addClass("right"),this.container.addClass("corner"),!0):!1},getBoundingRect:function(t){var i=t.getBoundingClientRect();return i.width&&i.height?i:{left:i.left,right:i.right,top:i.top,bottom:i.bottom,width:i.right-i.left,height:i.bottom-i.top}},getViewHeight:function(){return void 0===window.innerHeight?document.documentElement.clientHeight:window.innerHeight},getViewWidth:function(){return void 0===window.innerWidth?document.documentElement.clientWidth:window.innerWidth},applyPosition:function(t){var i="";for(var e in t)i+=e+":"+t[e]+(isNaN(t[e])?"; ":"px; ");this.container.addStyles(i)},resetPositioning:function(){this.container.removeClass("right"),this.container.removeClass("left"),this.container.removeClass("high"),this.container.removeClass("low"),this.container.removeClass("corner"),this.container.removeClass("below"),this.container.removeClass("above"),this.container.removeClass("vertical"),this.container.removeClass("horizontal"),this.applyPosition({left:"auto"}),this.applyPosition({top:"auto"})},reflow:function(){this.offset=this.container.activatorOffset,this.adjustPosition()}})})(enyo,this);

// lib\layout\fittable\source\FittableLayout.js
(function(t){t.kind({name:"enyo.FittableLayout",kind:"Layout",noDefer:!0,constructor:t.inherit(function(i){return function(){i.apply(this,arguments),this.container.addRemoveClass("force-left-to-right",t.Control.prototype.rtl&&!this.container.get("rtl")),this.useFlex=t.FittableLayout.flexAvailable&&this.container.useFlex===!0,this.useFlex?this.container.addClass(this.flexLayoutClass):this.container.addClass(this.fitLayoutClass)}}),calcFitIndex:function(){var t,i,e=this.container.children;for(i=0;e.length>i;i++)if(t=e[i],t.fit&&t.showing)return i},getFitControl:function(){var t=this.container.children,i=t[this.fitIndex];return i&&i.fit&&i.showing||(this.fitIndex=this.calcFitIndex(),i=t[this.fitIndex]),i},shouldReverse:function(){return this.container.rtl&&"h"===this.orient},getFirstChild:function(){var t=this.getShowingChildren();return this.shouldReverse()?t[t.length-1]:t[0]},getLastChild:function(){var t=this.getShowingChildren();return this.shouldReverse()?t[0]:t[t.length-1]},getShowingChildren:function(){for(var t=[],i=0,e=this.container.children,o=e.length;o>i;i++)e[i].showing&&t.push(e[i]);return t},_reflow:function(i,e,o,s){this.container.addRemoveClass("enyo-stretch",!this.container.noStretch);var n,h,a,r,l,f=this.getFitControl(),d=this.container.hasNode(),c=0,g=0,p=0;if(f&&d){if(n=t.dom.calcPaddingExtents(d),h=f.getBounds(),c=d[e]-(n[o]+n[s]),this.shouldReverse()){r=this.getFirstChild(),p=c-(h[o]+h[i]);var u=t.dom.getComputedBoxValue(r.hasNode(),"margin",o)||0;if(r==f)g=u;else{var y=r.getBounds(),m=y[o];g=h[o]+u-m}}else{a=this.getLastChild(),g=h[o]-(n[o]||0);var w=t.dom.getComputedBoxValue(a.hasNode(),"margin",s)||0;if(a==f)p=w;else{var v=a.getBounds(),C=h[o]+h[i],P=v[o]+v[i]+w;p=P-C}}l=c-(g+p),f.applyStyle(i,l+"px")}},flow:function(){if(this.useFlex){var t,i,e=this.container.children;for(this.container.addClass(this.flexLayoutClass),this.container.addRemoveClass("nostretch",this.container.noStretch),t=0;e.length>t;t++)i=e[t],i.addClass("enyo-flex-item"),i.addRemoveClass("flex",i.fit)}},reflow:function(){this.useFlex||("h"==this.orient?this._reflow("width","clientWidth","left","right"):this._reflow("height","clientHeight","top","bottom"))},statics:{flexAvailable:!1}}),t.kind({name:"enyo.FittableColumnsLayout",kind:"FittableLayout",orient:"h",fitLayoutClass:"enyo-fittable-columns-layout",flexLayoutClass:"enyo-flex-container columns"}),t.kind({name:"enyo.FittableRowsLayout",kind:"FittableLayout",fitLayoutClass:"enyo-fittable-rows-layout",orient:"v",flexLayoutClass:"enyo-flex-container rows"}),function(){var i=document.createElement("div");t.FittableLayout.flexAvailable=void 0!==i.style.flexBasis||void 0!==i.style.webkitFlexBasis||void 0!==i.style.mozFlexBasis||void 0!==i.style.msFlexBasis}()})(enyo,this);

// lib\layout\fittable\source\FittableRows.js
(function(t){t.kind({name:"enyo.FittableRows",layoutKind:"FittableRowsLayout",noStretch:!1})})(enyo,this);

// lib\layout\fittable\source\FittableColumns.js
(function(t){t.kind({name:"enyo.FittableColumns",layoutKind:"FittableColumnsLayout",noStretch:!1})})(enyo,this);

// lib\layout\fittable\source\FittableHeaderLayout.js
(function(t){t.kind({name:"enyo.FittableHeaderLayout",kind:"FittableColumnsLayout",applyFitSize:t.inherit(function(t){return function(i,e,o,n){var s=o-n,h=this.getFitControl();0>s?(h.applyStyle("padding-left",Math.abs(s)+"px"),h.applyStyle("padding-right",null)):s>0?(h.applyStyle("padding-left",null),h.applyStyle("padding-right",Math.abs(s)+"px")):(h.applyStyle("padding-left",null),h.applyStyle("padding-right",null)),t.apply(this,arguments)}})})})(enyo,this);

// lib\layout\list\source\FlyweightRepeater.js
(function(t){var e=t.HTMLStringDelegate,i=Object.create(e);i.generateInnerHtml=function(t){var i="";t.index=null;for(var n=0,o=0;t.count>n;n++)o=t.rowOffset+(this.bottomUp?t.count-n-1:n),t.setupItem(o),t.$.client.setAttribute("data-enyo-index",o),"h"==t.orient&&t.$.client.setStyle("display:inline-block;"),i+=e.generateChildHtml(t),t.$.client.teardownRender();return i},t.kind({name:"enyo.FlyweightRepeater",kind:"enyo.Control",published:{count:0,noSelect:!1,multiSelect:!1,toggleSelected:!1,clientClasses:"",clientStyle:"",rowOffset:0,orient:"v"},events:{onSetupItem:"",onRenderRow:""},bottomUp:!1,renderDelegate:i,components:[{kind:"Selection",onSelect:"selectDeselect",onDeselect:"selectDeselect"},{name:"client"}],create:t.inherit(function(t){return function(){t.apply(this,arguments),this.noSelectChanged(),this.multiSelectChanged(),this.clientClassesChanged(),this.clientStyleChanged()}}),noSelectChanged:function(){this.noSelect&&this.$.selection.clear()},multiSelectChanged:function(){this.$.selection.setMulti(this.multiSelect)},clientClassesChanged:function(){this.$.client.setClasses(this.clientClasses)},clientStyleChanged:function(){this.$.client.setStyle(this.clientStyle)},setupItem:function(t){this.doSetupItem({index:t,selected:this.isSelected(t)})},generateChildHtml:function(){return this.renderDelegate.generateInnerHtml(this)},previewDomEvent:function(t){var e=this.index=this.rowForEvent(t);t.rowIndex=t.index=e,t.flyweight=this},decorateEvent:t.inherit(function(t){return function(e,i){var n=i&&null!=i.index?i.index:this.index;i&&null!=n&&(i.index=n,i.flyweight=this),t.apply(this,arguments)}}),tap:function(t,e){this.noSelect||-1===e.index||(this.toggleSelected?this.$.selection.toggle(e.index):this.$.selection.select(e.index))},selectDeselect:function(t,e){this.renderRow(e.key)},getSelection:function(){return this.$.selection},isSelected:function(t){return this.getSelection().isSelected(t)},renderRow:function(e){if(!(this.rowOffset>e||e>=this.count+this.rowOffset)){this.setupItem(e);var i=this.fetchRowNode(e);if(i){var n=t.HTMLStringDelegate;t.dom.setInnerHtml(i,n.generateChildHtml(this.$.client)),this.$.client.teardownChildren(),this.doRenderRow({rowIndex:e})}}},fetchRowNode:function(t){return this.hasNode()?this.node.querySelector('[data-enyo-index="'+t+'"]'):void 0},rowForEvent:function(t){if(!this.hasNode())return-1;for(var e=t.target;e&&e!==this.node;){var i=e.getAttribute&&e.getAttribute("data-enyo-index");if(null!==i)return Number(i);e=e.parentNode}return-1},prepareRow:function(e){if(!(this.rowOffset>e||e>=this.count+this.rowOffset)){this.setupItem(e);var i=this.fetchRowNode(e);t.FlyweightRepeater.claimNode(this.$.client,i)}},lockRow:function(){this.$.client.teardownChildren()},performOnRow:function(e,i,n){this.rowOffset>e||e>=this.count+this.rowOffset||i&&(this.prepareRow(e),t.call(n||null,i),this.lockRow())},statics:{claimNode:function(t,e){var i;e&&(i=e.id!==t.id?e.querySelector("#"+t.id):e),t.generated=Boolean(i||!t.tag),t.node=i,t.node&&t.rendered();for(var n,o=0,s=t.children;n=s[o];o++)this.claimNode(n,e)}}})})(enyo,this);

// lib\layout\list\source\List.js
(function(t){t.kind({name:"enyo.List",kind:"Scroller",classes:"enyo-list",published:{count:0,rowsPerPage:50,orient:"v",bottomUp:!1,noSelect:!1,multiSelect:!1,toggleSelected:!1,fixedSize:!1,reorderable:!1,centerReorderContainer:!0,reorderComponents:[],pinnedReorderComponents:[],swipeableComponents:[],enableSwipe:!1,persistSwipeableItem:!1},events:{onSetupItem:"",onSetupReorderComponents:"",onSetupPinnedReorderComponents:"",onReorder:"",onSetupSwipeItem:"",onSwipeDrag:"",onSwipe:"",onSwipeComplete:""},handlers:{onAnimateFinish:"animateFinish",onRenderRow:"rowRendered",ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",onup:"up",onholdpulse:"holdpulse",onflick:"flick"},rowSize:0,listTools:[{name:"port",classes:"enyo-list-port enyo-border-box",components:[{name:"generator",kind:"FlyweightRepeater",canGenerate:!1,components:[{tag:null,name:"client"}]},{name:"holdingarea",allowHtml:!0,classes:"enyo-list-holdingarea"},{name:"page0",allowHtml:!0,classes:"enyo-list-page"},{name:"page1",allowHtml:!0,classes:"enyo-list-page"},{name:"placeholder",classes:"enyo-list-placeholder"},{name:"swipeableComponents",style:"position:absolute; display:block; top:-1000px; left:0;"}]}],reorderHoldTimeMS:600,draggingRowIndex:-1,initHoldCounter:3,holdCounter:3,holding:!1,placeholderRowIndex:-1,dragToScrollThreshold:.1,scrollDistance:0,prevScrollTop:0,autoScrollTimeoutMS:20,autoScrollTimeout:null,autoscrollPageY:0,pinnedReorderMode:!1,initialPinPosition:-1,itemMoved:!1,currentPageNumber:-1,completeReorderTimeout:null,swipeIndex:null,swipeDirection:null,persistentItemVisible:!1,persistentItemOrigin:null,swipeComplete:!1,completeSwipeTimeout:null,completeSwipeDelayMS:500,normalSwipeSpeedMS:200,fastSwipeSpeedMS:100,percentageDraggedThreshold:.2,importProps:t.inherit(function(t){return function(e){e&&e.reorderable&&(this.touch=!0),t.apply(this,arguments)}}),create:t.inherit(function(t){return function(){this.pageSizes=[],this.orientV="v"==this.orient,this.vertical=this.orientV?"default":"hidden",t.apply(this,arguments),this.$.generator.orient=this.orient,this.getStrategy().translateOptimized=!0,this.$.port.addRemoveClass("horizontal",!this.orientV),this.$.port.addRemoveClass("vertical",this.orientV),this.$.page0.addRemoveClass("vertical",this.orientV),this.$.page1.addRemoveClass("vertical",this.orientV),this.bottomUpChanged(),this.noSelectChanged(),this.multiSelectChanged(),this.toggleSelectedChanged(),this.$.generator.setRowOffset(0),this.$.generator.setCount(this.count)}}),initComponents:t.inherit(function(t){return function(){this.createReorderTools(),t.apply(this,arguments),this.createSwipeableComponents()}}),createReorderTools:function(){this.createComponent({name:"reorderContainer",classes:"enyo-list-reorder-container",ondown:"sendToStrategy",ondrag:"sendToStrategy",ondragstart:"sendToStrategy",ondragfinish:"sendToStrategy",onflick:"sendToStrategy"})},createStrategy:t.inherit(function(t){return function(){this.controlParentName="strategy",t.apply(this,arguments),this.createChrome(this.listTools),this.controlParentName="client",this.discoverControlParent()}}),createSwipeableComponents:function(){for(var t=0;this.swipeableComponents.length>t;t++)this.$.swipeableComponents.createComponent(this.swipeableComponents[t],{owner:this.owner})},rendered:t.inherit(function(t){return function(){t.apply(this,arguments),this.$.generator.node=this.$.port.hasNode(),this.$.generator.generated=!0,this.reset()}}),handleResize:t.inherit(function(t){return function(){t.apply(this,arguments),this.refresh()}}),bottomUpChanged:function(){this.$.generator.bottomUp=this.bottomUp,this.$.page0.applyStyle(this.pageBound,null),this.$.page1.applyStyle(this.pageBound,null),this.pageBound=this.orientV?this.bottomUp?"bottom":"top":this.rtl?this.bottomUp?"left":"right":this.bottomUp?"right":"left",!this.orientV&&this.bottomUp&&(this.$.page0.applyStyle("left","auto"),this.$.page1.applyStyle("left","auto")),this.hasNode()&&this.reset()},noSelectChanged:function(){this.$.generator.setNoSelect(this.noSelect)},multiSelectChanged:function(){this.$.generator.setMultiSelect(this.multiSelect)},toggleSelectedChanged:function(){this.$.generator.setToggleSelected(this.toggleSelected)},countChanged:function(){this.hasNode()&&this.updateMetrics()},sendToStrategy:function(t,e){this.$.strategy.dispatchEvent("on"+e.type,e,t)},updateMetrics:function(){this.defaultPageSize=this.rowsPerPage*(this.rowSize||100),this.pageCount=Math.ceil(this.count/this.rowsPerPage),this.portSize=0;for(var t=0;this.pageCount>t;t++)this.portSize+=this.getPageSize(t);this.adjustPortSize()},holdpulse:function(t,e){return this.getReorderable()&&!this.isReordering()?e.holdTime>=this.reorderHoldTimeMS&&this.shouldStartReordering(t,e)?(this.startReordering(e),!1):void 0:void 0},dragstart:function(t,e){return this.isReordering()?!0:this.isSwipeable()?this.swipeDragStart(t,e):void 0},drag:function(t,e){return this.shouldDoReorderDrag(e)?(e.preventDefault(),this.reorderDrag(e),!0):this.isSwipeable()?(e.preventDefault(),this.swipeDrag(t,e),!0):void 0},dragfinish:function(t,e){this.isReordering()?this.finishReordering(t,e):this.isSwipeable()&&this.swipeDragFinish(t,e)},up:function(t,e){this.isReordering()&&this.finishReordering(t,e)},generatePage:function(t,e){this.page=t;var i=this.rowsPerPage*this.page;this.$.generator.setRowOffset(i);var o=Math.min(this.count-i,this.rowsPerPage);this.$.generator.setCount(o);var n=this.$.generator.generateChildHtml();e.setContent(n),this.getReorderable()&&this.draggingRowIndex>-1&&this.hideReorderingRow();var s=e.getBounds(),r=this.orientV?s.height:s.width;if(!this.rowSize&&r>0&&(this.rowSize=Math.floor(r/o),this.updateMetrics()),!this.fixedSize){var h=this.getPageSize(t);h!=r&&r>0&&(this.pageSizes[t]=r,this.portSize+=r-h)}},pageForRow:function(t){return Math.floor(t/this.rowsPerPage)},update:function(t){var e=!1,i=this.positionToPageInfo(t),o=i.pos+this.scrollerSize/2,n=Math.floor(o/Math.max(i.size,this.scrollerSize)+.5)+i.no,s=0===n%2?n:n-1;this.p0!=s&&this.isPageInRange(s)&&(this.removedInitialPage=this.removedInitialPage||this.draggingRowPage==this.p0,this.generatePage(s,this.$.page0),this.positionPage(s,this.$.page0),this.p0=s,e=!0,this.p0RowBounds=this.getPageRowSizes(this.$.page0)),s=0===n%2?Math.max(1,n-1):n,this.p1!=s&&this.isPageInRange(s)&&(this.removedInitialPage=this.removedInitialPage||this.draggingRowPage==this.p1,this.generatePage(s,this.$.page1),this.positionPage(s,this.$.page1),this.p1=s,e=!0,this.p1RowBounds=this.getPageRowSizes(this.$.page1)),e&&(this.$.generator.setRowOffset(0),this.$.generator.setCount(this.count),this.fixedSize||(this.adjustBottomPage(),this.adjustPortSize()))},getPageRowSizes:function(e){for(var i,o,n={},s=e.hasNode().querySelectorAll("div[data-enyo-index]"),r=0;s.length>r;r++)i=s[r].getAttribute("data-enyo-index"),null!==i&&(o=t.dom.getBounds(s[r]),n[parseInt(i,10)]={height:o.height,width:o.width});return n},updateRowBounds:function(t){this.p0RowBounds[t]?this.updateRowBoundsAtIndex(t,this.p0RowBounds,this.$.page0):this.p1RowBounds[t]&&this.updateRowBoundsAtIndex(t,this.p1RowBounds,this.$.page1)},updateRowBoundsAtIndex:function(e,i,o){var n=o.hasNode().querySelector('div[data-enyo-index="'+e+'"]'),s=t.dom.getBounds(n);i[e].height=s.height,i[e].width=s.width},updateForPosition:function(t){this.update(this.calcPos(t))},calcPos:function(t){return this.bottomUp?this.portSize-this.scrollerSize-t:t},adjustBottomPage:function(){var t=this.p0>=this.p1?this.$.page0:this.$.page1;this.positionPage(t.pageNo,t)},adjustPortSize:function(){this.scrollerSize=this.orientV?this.getBounds().height:this.getBounds().width;var t=Math.max(this.scrollerSize,this.portSize);this.$.port.applyStyle(this.orientV?"height":"width",t+"px"),this.orientV||this.$.port.applyStyle("height",this.getBounds().height+"px")},positionPage:function(t,e){e.pageNo=t;var i=this.pageToPosition(t);e.applyStyle(this.pageBound,i+"px")},pageToPosition:function(t){for(var e=0;t>0;)t--,e+=this.getPageSize(t);return e},positionToPageInfo:function(t){for(var e=-1,i=this.calcPos(t),o=this.defaultPageSize;i>=0;)e++,o=this.getPageSize(e),i-=o;return e=Math.max(e,0),{no:e,size:o,pos:i+o,startRow:e*this.rowsPerPage,endRow:Math.min((e+1)*this.rowsPerPage-1,this.count-1)}},isPageInRange:function(t){return t==Math.max(0,Math.min(this.pageCount-1,t))},getPageSize:function(t){var e=this.pageSizes[t];if(!e){var i=this.rowsPerPage*t,o=Math.min(this.count-i,this.rowsPerPage);e=this.defaultPageSize*(o/this.rowsPerPage)}return Math.max(1,e)},invalidatePages:function(){this.p0=this.p1=null,this.p0RowBounds={},this.p1RowBounds={},this.$.page0.setContent(""),this.$.page1.setContent("")},invalidateMetrics:function(){this.pageSizes=[],this.rowSize=0,this.updateMetrics()},scroll:t.inherit(function(t){return function(e,i){var o=t.apply(this,arguments),n=this.orientV?this.getScrollTop():this.getScrollLeft();return this.lastPos===n?o:(this.lastPos=n,this.update(n),this.pinnedReorderMode&&this.reorderScroll(e,i),o)}}),setScrollTop:t.inherit(function(t){return function(e){this.update(e),t.apply(this,arguments),this.twiddle()}}),getScrollPosition:function(){return this.calcPos(this[this.orientV?"getScrollTop":"getScrollLeft"]())},setScrollPosition:function(t){this[this.orientV?"setScrollTop":"setScrollLeft"](this.calcPos(t))},scrollToBottom:t.inherit(function(t){return function(){this.update(this.getScrollBounds().maxTop),t.apply(this,arguments)}}),scrollToRow:function(t){var e=this.pageForRow(t),i=this.pageToPosition(e);if(this.updateForPosition(i),i=this.pageToPosition(e),this.setScrollPosition(i),e==this.p0||e==this.p1){var o=this.$.generator.fetchRowNode(t);if(o){var n=this.orientV?o.offsetTop:o.offsetLeft;this.bottomUp&&(n=this.getPageSize(e)-(this.orientV?o.offsetHeight:o.offsetWidth)-n);var s=this.getScrollPosition()+n;this.setScrollPosition(s)}}},scrollToStart:function(){this[this.bottomUp?this.orientV?"scrollToBottom":"scrollToRight":"scrollToTop"]()},scrollToEnd:function(){this[this.bottomUp?this.orientV?"scrollToTop":"scrollToLeft":this.orientV?"scrollToBottom":"scrollToRight"]()},refresh:function(){this.invalidatePages(),this.update(this[this.orientV?"getScrollTop":"getScrollLeft"]()),this.stabilize(),4===t.platform.android&&this.twiddle()},reset:function(){this.getSelection().clear(),this.invalidateMetrics(),this.invalidatePages(),this.stabilize(),this.scrollToStart()},getSelection:function(){return this.$.generator.getSelection()},select:function(t,e){return this.getSelection().select(t,e)},deselect:function(t){return this.getSelection().deselect(t)},isSelected:function(t){return this.$.generator.isSelected(t)},renderRow:function(t){this.$.generator.renderRow(t)},rowRendered:function(t,e){this.updateRowBounds(e.rowIndex)},prepareRow:function(t){this.$.generator.prepareRow(t)},lockRow:function(){this.$.generator.lockRow()},performOnRow:function(t,e,i){this.$.generator.performOnRow(t,e,i)},animateFinish:function(){return this.twiddle(),!0},twiddle:function(){var e=this.getStrategy();t.call(e,"twiddle")},pageForPageNumber:function(t,e){return 0===t%2?e&&t!==this.p0?null:this.$.page0:e&&t!==this.p1?null:this.$.page1},shouldStartReordering:function(t,e){return!this.getReorderable()||null==e.rowIndex||0>e.rowIndex||this.pinnedReorderMode||null==e.index||0>e.index?!1:!0},startReordering:function(t){this.$.strategy.listReordering=!0,this.buildReorderContainer(),this.doSetupReorderComponents({index:t.index}),this.styleReorderContainer(t),this.draggingRowIndex=this.placeholderRowIndex=t.rowIndex,this.draggingRowPage=this.pageForRow(this.draggingRowIndex),this.removeDraggingRowNode=t.dispatchTarget.retainNode(t.target),this.removedInitialPage=!1,this.itemMoved=!1,this.initialPageNumber=this.currentPageNumber=this.pageForRow(t.rowIndex),this.prevScrollTop=this.getScrollTop(),this.replaceNodeWithPlaceholder(t.rowIndex)},buildReorderContainer:function(){this.$.reorderContainer.destroyClientControls();for(var t=0;this.reorderComponents.length>t;t++)this.$.reorderContainer.createComponent(this.reorderComponents[t],{owner:this.owner});this.$.reorderContainer.render()},styleReorderContainer:function(t){this.setItemPosition(this.$.reorderContainer,t.rowIndex),this.setItemBounds(this.$.reorderContainer,t.rowIndex),this.$.reorderContainer.setShowing(!0),this.centerReorderContainer&&this.centerReorderContainerOnPointer(t)},appendNodeToReorderContainer:function(t){this.$.reorderContainer.createComponent({allowHtml:!0,content:t.innerHTML}).render()},centerReorderContainerOnPointer:function(e){var i=t.dom.calcNodePosition(this.hasNode()),o=this.$.reorderContainer.getBounds(),n=e.pageX-i.left-parseInt(o.width,10)/2,s=e.pageY-i.top+this.getScrollTop()-parseInt(o.height,10)/2;"ScrollStrategy"!=this.getStrategyKind()&&(n-=this.getScrollLeft(),s-=this.getScrollTop()),this.positionReorderContainer(n,s)},positionReorderContainer:function(t,e){this.$.reorderContainer.addClass("enyo-animatedTopAndLeft"),this.$.reorderContainer.addStyles("left:"+t+"px;top:"+e+"px;"),this.setPositionReorderContainerTimeout()},setPositionReorderContainerTimeout:function(){this.clearPositionReorderContainerTimeout(),this.positionReorderContainerTimeout=setTimeout(this.bindSafely(function(){this.$.reorderContainer.removeClass("enyo-animatedTopAndLeft"),this.clearPositionReorderContainerTimeout()}),100)},clearPositionReorderContainerTimeout:function(){this.positionReorderContainerTimeout&&(clearTimeout(this.positionReorderContainerTimeout),this.positionReorderContainerTimeout=null)},shouldDoReorderDrag:function(){return!this.getReorderable()||0>this.draggingRowIndex||this.pinnedReorderMode?!1:!0},reorderDrag:function(t){this.positionReorderNode(t),this.checkForAutoScroll(t),this.updatePlaceholderPosition(t.pageY)},updatePlaceholderPosition:function(t){var e=this.getRowIndexFromCoordinate(t);-1!==e&&(e>=this.placeholderRowIndex?this.movePlaceholderToIndex(Math.min(this.count,e+1)):this.movePlaceholderToIndex(e))},positionReorderNode:function(t){var e=this.$.reorderContainer.getBounds(),i=e.left+t.ddx,o=e.top+t.ddy;o="ScrollStrategy"==this.getStrategyKind()?o+(this.getScrollTop()-this.prevScrollTop):o,this.$.reorderContainer.addStyles("top: "+o+"px ; left: "+i+"px"),this.prevScrollTop=this.getScrollTop()},checkForAutoScroll:function(e){var i,o=t.dom.calcNodePosition(this.hasNode()),n=this.getBounds();this.autoscrollPageY=e.pageY,e.pageY-o.top<n.height*this.dragToScrollThreshold?(i=100*(1-(e.pageY-o.top)/(n.height*this.dragToScrollThreshold)),this.scrollDistance=-1*i):e.pageY-o.top>n.height*(1-this.dragToScrollThreshold)?(i=100*((e.pageY-o.top-n.height*(1-this.dragToScrollThreshold))/(n.height-n.height*(1-this.dragToScrollThreshold))),this.scrollDistance=1*i):this.scrollDistance=0,0===this.scrollDistance?this.stopAutoScrolling():this.autoScrollTimeout||this.startAutoScrolling()},stopAutoScrolling:function(){this.autoScrollTimeout&&(clearTimeout(this.autoScrollTimeout),this.autoScrollTimeout=null)},startAutoScrolling:function(){this.autoScrollTimeout=setInterval(this.bindSafely(this.autoScroll),this.autoScrollTimeoutMS)},autoScroll:function(){0===this.scrollDistance?this.stopAutoScrolling():this.autoScrollTimeout||this.startAutoScrolling(),this.setScrollPosition(this.getScrollPosition()+this.scrollDistance),this.positionReorderNode({ddx:0,ddy:0}),this.updatePlaceholderPosition(this.autoscrollPageY)},movePlaceholderToIndex:function(t){var e,i;if(!(0>t)){t>=this.count?(e=null,i=this.pageForPageNumber(this.pageForRow(this.count-1)).hasNode()):(e=this.$.generator.fetchRowNode(t),i=e.parentNode);var o=this.pageForRow(t);o>=this.pageCount&&(o=this.currentPageNumber),i.insertBefore(this.placeholderNode,e),this.currentPageNumber!==o&&(this.updatePageSize(this.currentPageNumber),this.updatePageSize(o),this.updatePagePositions(o)),this.placeholderRowIndex=t,this.currentPageNumber=o,this.itemMoved=!0}},finishReordering:function(t,e){return!this.isReordering()||this.pinnedReorderMode||this.completeReorderTimeout?void 0:(this.stopAutoScrolling(),this.$.strategy.listReordering=!1,this.moveReorderedContainerToDroppedPosition(e),this.completeReorderTimeout=setTimeout(this.bindSafely(this.completeFinishReordering,e),100),e.preventDefault(),!0)},moveReorderedContainerToDroppedPosition:function(){var t=this.getRelativeOffset(this.placeholderNode,this.hasNode()),e="ScrollStrategy"==this.getStrategyKind()?t.top:t.top-this.getScrollTop(),i=t.left-this.getScrollLeft();this.positionReorderContainer(i,e)},completeFinishReordering:function(t){return this.completeReorderTimeout=null,this.placeholderRowIndex>this.draggingRowIndex&&(this.placeholderRowIndex=Math.max(0,this.placeholderRowIndex-1)),this.draggingRowIndex!=this.placeholderRowIndex||!this.pinnedReorderComponents.length||this.pinnedReorderMode||this.itemMoved?(this.removeDraggingRowNode(),this.removePlaceholderNode(),this.emptyAndHideReorderContainer(),this.pinnedReorderMode=!1,this.reorderRows(t),this.draggingRowIndex=this.placeholderRowIndex=-1,this.refresh(),void 0):(this.beginPinnedReorder(t),void 0)},beginPinnedReorder:function(e){this.buildPinnedReorderContainer(),this.doSetupPinnedReorderComponents(t.mixin(e,{index:this.draggingRowIndex})),this.pinnedReorderMode=!0,this.initialPinPosition=e.pageY},emptyAndHideReorderContainer:function(){this.$.reorderContainer.destroyComponents(),this.$.reorderContainer.setShowing(!1)},buildPinnedReorderContainer:function(){this.$.reorderContainer.destroyClientControls();for(var t=0;this.pinnedReorderComponents.length>t;t++)this.$.reorderContainer.createComponent(this.pinnedReorderComponents[t],{owner:this.owner});this.$.reorderContainer.render()},reorderRows:function(t){this.doReorder(this.makeReorderEvent(t)),this.positionReorderedNode(),this.updateListIndices()},makeReorderEvent:function(t){return t.reorderFrom=this.draggingRowIndex,t.reorderTo=this.placeholderRowIndex,t},positionReorderedNode:function(){if(!this.removedInitialPage){var t=this.$.generator.fetchRowNode(this.placeholderRowIndex);if(t&&(t.parentNode.insertBefore(this.hiddenNode,t),this.showNode(this.hiddenNode)),this.hiddenNode=null,this.currentPageNumber!=this.initialPageNumber){var e,i,o=this.pageForPageNumber(this.currentPageNumber),n=this.pageForPageNumber(this.currentPageNumber+1);this.initialPageNumber<this.currentPageNumber?(e=o.hasNode().firstChild,n.hasNode().appendChild(e)):(e=o.hasNode().lastChild,i=n.hasNode().firstChild,n.hasNode().insertBefore(e,i)),this.correctPageSizes(),this.updatePagePositions(this.initialPageNumber)}}},updateListIndices:function(){if(this.shouldDoRefresh())return this.refresh(),this.correctPageSizes(),void 0;var t,e,i,o,n=Math.min(this.draggingRowIndex,this.placeholderRowIndex),s=Math.max(this.draggingRowIndex,this.placeholderRowIndex),r=this.draggingRowIndex-this.placeholderRowIndex>0?1:-1;if(1===r){for(t=this.$.generator.fetchRowNode(this.draggingRowIndex),t&&t.setAttribute("data-enyo-index","reordered"),e=s-1,i=s;e>=n;e--)t=this.$.generator.fetchRowNode(e),t&&(o=parseInt(t.getAttribute("data-enyo-index"),10),i=o+1,t.setAttribute("data-enyo-index",i));t=this.hasNode().querySelector('[data-enyo-index="reordered"]'),t.setAttribute("data-enyo-index",this.placeholderRowIndex)}else for(t=this.$.generator.fetchRowNode(this.draggingRowIndex),t&&t.setAttribute("data-enyo-index",this.placeholderRowIndex),e=n+1,i=n;s>=e;e++)t=this.$.generator.fetchRowNode(e),t&&(o=parseInt(t.getAttribute("data-enyo-index"),10),i=o-1,t.setAttribute("data-enyo-index",i))},shouldDoRefresh:function(){return Math.abs(this.initialPageNumber-this.currentPageNumber)>1},getNodeStyle:function(e){var i=this.$.generator.fetchRowNode(e);if(i){var o=this.getRelativeOffset(i,this.hasNode()),n=t.dom.getBounds(i);return{h:n.height,w:n.width,left:o.left,top:o.top}}},getRelativeOffset:function(t,e){var i={top:0,left:0};if(t!==e&&t.parentNode)do i.top+=t.offsetTop||0,i.left+=t.offsetLeft||0,t=t.offsetParent;while(t&&t!==e);return i},replaceNodeWithPlaceholder:function(e){var i=this.$.generator.fetchRowNode(e);if(!i)return t.log("No node - "+e),void 0;this.placeholderNode=this.createPlaceholderNode(i),this.hiddenNode=this.hideNode(i);var o=this.pageForPageNumber(this.currentPageNumber);o.hasNode().insertBefore(this.placeholderNode,this.hiddenNode)},createPlaceholderNode:function(e){var i=this.$.placeholder.hasNode().cloneNode(!0),o=t.dom.getBounds(e);return i.style.height=o.height+"px",i.style.width=o.width+"px",i},removePlaceholderNode:function(){this.removeNode(this.placeholderNode),this.placeholderNode=null},removeNode:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},updatePageSize:function(t){if(!(0>t)){var e=this.pageForPageNumber(t,!0);if(e){var i=this.pageSizes[t],o=Math.max(1,e.getBounds().height);this.pageSizes[t]=o,this.portSize+=o-i}}},updatePagePositions:function(t){this.positionPage(this.currentPageNumber,this.pageForPageNumber(this.currentPageNumber)),this.positionPage(t,this.pageForPageNumber(t))},correctPageSizes:function(){var t=this.initialPageNumber%2;this.updatePageSize(this.currentPageNumber,this.$["page"+this.currentPage]),t!=this.currentPageNumber&&this.updatePageSize(this.initialPageNumber,this.$["page"+t])},hideNode:function(t){return t.style.display="none",t},showNode:function(t){return t.style.display="block",t},dropPinnedRow:function(t){this.moveReorderedContainerToDroppedPosition(t),this.completeReorderTimeout=setTimeout(this.bindSafely(this.completeFinishReordering,t),100)},cancelPinnedMode:function(t){this.placeholderRowIndex=this.draggingRowIndex,this.dropPinnedRow(t)},getRowIndexFromCoordinate:function(e){var i=this.getScrollTop()+e-t.dom.calcNodePosition(this.hasNode()).top;if(0>i)return-1;var o=this.positionToPageInfo(i),n=o.no==this.p0?this.p0RowBounds:this.p1RowBounds;if(!n)return this.count;for(var s=o.pos,r=this.placeholderNode?t.dom.getBounds(this.placeholderNode).height:0,h=0,a=o.startRow;o.endRow>=a;++a){if(a===this.placeholderRowIndex&&(h+=r,h>=s))return-1;if(a!==this.draggingRowIndex&&(h+=n[a].height,h>=s))return a}return a},getIndexPosition:function(e){return t.dom.calcNodePosition(this.$.generator.fetchRowNode(e))},setItemPosition:function(t,e){var i=this.getNodeStyle(e),o="ScrollStrategy"==this.getStrategyKind()?i.top:i.top-this.getScrollTop(),n="top:"+o+"px; left:"+i.left+"px;";t.addStyles(n)},setItemBounds:function(t,e){var i=this.getNodeStyle(e),o="width:"+i.w+"px; height:"+i.h+"px;";t.addStyles(o)},reorderScroll:function(){"ScrollStrategy"==this.getStrategyKind()&&this.$.reorderContainer.addStyles("top:"+(this.initialPinPosition+this.getScrollTop()-this.rowSize)+"px;"),this.updatePlaceholderPosition(this.initialPinPosition)},hideReorderingRow:function(){var t=this.hasNode().querySelector('[data-enyo-index="'+this.draggingRowIndex+'"]');t&&(this.hiddenNode=this.hideNode(t))},isReordering:function(){return this.draggingRowIndex>-1},isSwiping:function(){return null!=this.swipeIndex&&!this.swipeComplete&&null!=this.swipeDirection},swipeDragStart:function(t,e){return null==e.index||e.vertical?!0:(this.completeSwipeTimeout&&this.completeSwipe(e),this.swipeComplete=!1,this.swipeIndex!=e.index&&(this.clearSwipeables(),this.swipeIndex=e.index),this.swipeDirection=e.xDirection,this.persistentItemVisible||this.startSwipe(e),this.draggedXDistance=0,this.draggedYDistance=0,!0)},swipeDrag:function(t,e){return this.persistentItemVisible?(this.dragPersistentItem(e),this.preventDragPropagation):this.isSwiping()?(this.dragSwipeableComponents(this.calcNewDragPosition(e.ddx)),this.draggedXDistance=e.dx,this.draggedYDistance=e.dy,e.xDirection!=this.lastSwipeDirection&&e.xDirection&&(this.lastSwipeDirection=e.xDirection),!0):!1},swipeDragFinish:function(t,e){if(this.persistentItemVisible)this.dragFinishPersistentItem(e);else{if(!this.isSwiping())return!1;var i=this.calcPercentageDragged(this.draggedXDistance);i>this.percentageDraggedThreshold&&this.lastSwipeDirection===this.swipeDirection?this.swipe(this.fastSwipeSpeedMS):this.backOutSwipe(e)}return this.preventDragPropagation},isSwipeable:function(){return this.enableSwipe&&0!==this.$.swipeableComponents.controls.length&&!this.isReordering()&&!this.pinnedReorderMode},positionSwipeableContainer:function(e,i){var o=this.$.generator.fetchRowNode(e);if(o){var n=this.getRelativeOffset(o,this.hasNode()),s=t.dom.getBounds(o),r=1==i?-1*s.width:s.width;this.$.swipeableComponents.addStyles("top: "+n.top+"px; left: "+r+"px; height: "+s.height+"px; width: "+s.width+"px;")}},calcNewDragPosition:function(t){var e=this.$.swipeableComponents.getBounds(),i=e.left,o=this.$.swipeableComponents.getBounds(),n=1==this.swipeDirection?0:-1*o.width,s=1==this.swipeDirection?i+t>n?n:i+t:n>i+t?n:i+t;return s},dragSwipeableComponents:function(t){this.$.swipeableComponents.applyStyle("left",t+"px")},startSwipe:function(t){t.index=this.swipeIndex,this.positionSwipeableContainer(this.swipeIndex,t.xDirection),this.$.swipeableComponents.setShowing(!0),this.setPersistentItemOrigin(t.xDirection),this.doSetupSwipeItem(t)},dragPersistentItem:function(t){var e=0,i="right"==this.persistentItemOrigin?Math.max(e,e+t.dx):Math.min(e,e+t.dx);this.$.swipeableComponents.applyStyle("left",i+"px")},dragFinishPersistentItem:function(t){var e=this.calcPercentageDragged(t.dx)>.2,i=t.dx>0?"right":0>t.dx?"left":null;this.persistentItemOrigin==i?e?this.slideAwayItem():this.bounceItem(t):this.bounceItem(t)},setPersistentItemOrigin:function(t){this.persistentItemOrigin=1==t?"left":"right"},calcPercentageDragged:function(t){return Math.abs(t/this.$.swipeableComponents.getBounds().width)},swipe:function(t){this.swipeComplete=!0,this.animateSwipe(0,t)},backOutSwipe:function(){var t=this.$.swipeableComponents.getBounds(),e=1==this.swipeDirection?-1*t.width:t.width;this.animateSwipe(e,this.fastSwipeSpeedMS),this.swipeDirection=null},bounceItem:function(){var t=this.$.swipeableComponents.getBounds();t.left!=t.width&&this.animateSwipe(0,this.normalSwipeSpeedMS)},slideAwayItem:function(){var t=this.$.swipeableComponents,e=t.getBounds().width,i="left"==this.persistentItemOrigin?-1*e:e;this.animateSwipe(i,this.normalSwipeSpeedMS),this.persistentItemVisible=!1,this.setPersistSwipeableItem(!1)},clearSwipeables:function(){this.$.swipeableComponents.setShowing(!1),this.persistentItemVisible=!1,this.setPersistSwipeableItem(!1)},completeSwipe:function(){this.completeSwipeTimeout&&(clearTimeout(this.completeSwipeTimeout),this.completeSwipeTimeout=null),this.getPersistSwipeableItem()?this.swipeComplete&&(this.persistentItemVisible=!0):(this.$.swipeableComponents.setShowing(!1),this.swipeComplete&&this.doSwipeComplete({index:this.swipeIndex,xDirection:this.swipeDirection})),this.swipeIndex=null,this.swipeDirection=null},animateSwipe:function(e,i){var o=t.now(),n=this.$.swipeableComponents,s=parseInt(n.getBounds().left,10),r=e-s;this.stopAnimateSwipe();var h=this.bindSafely(function(){var e=t.now()-o,a=e/i,l=s+r*Math.min(a,1);n.applyStyle("left",l+"px"),this.job=t.requestAnimationFrame(h),e/i>=1&&(this.stopAnimateSwipe(),this.completeSwipeTimeout=setTimeout(this.bindSafely(function(){this.completeSwipe()}),this.completeSwipeDelayMS))});this.job=t.requestAnimationFrame(h)},stopAnimateSwipe:function(){this.job&&(this.job=t.cancelRequestAnimationFrame(this.job))}})})(enyo,this);

// lib\layout\list\source\PulldownList.js
(function(t){t.kind({name:"enyo.PulldownList",kind:"List",touch:!0,pully:null,pulldownTools:[{name:"pulldown",classes:"enyo-list-pulldown",components:[{name:"puller",kind:"Puller"}]}],events:{onPullStart:"",onPullCancel:"",onPull:"",onPullRelease:"",onPullComplete:""},handlers:{onScrollStart:"scrollStartHandler",onScrollStop:"scrollStopHandler",ondragfinish:"dragfinish"},pullingMessage:"Pull down to refresh...",pulledMessage:"Release to refresh...",loadingMessage:"Loading...",pullingIconClass:"enyo-puller-arrow enyo-puller-arrow-down",pulledIconClass:"enyo-puller-arrow enyo-puller-arrow-up",loadingIconClass:"",create:t.inherit(function(t){return function(){var e={kind:"Puller",showing:!1,text:this.loadingMessage,iconClass:this.loadingIconClass,onCreate:"setPully"};this.listTools.splice(0,0,e),t.apply(this,arguments),this.setPulling()}}),initComponents:t.inherit(function(e){return function(){this.createChrome(this.pulldownTools),this.accel=t.dom.canAccelerate(),this.translation=this.accel?"translate3d":"translate",this.strategyKind=this.resetStrategyKind(),e.apply(this,arguments)}}),resetStrategyKind:function(){return t.platform.android>=3?"TranslateScrollStrategy":"TouchScrollStrategy"},setPully:function(t,e){this.pully=e.originator},scrollStartHandler:function(){this.firedPullStart=!1,this.firedPull=!1,this.firedPullCancel=!1},scroll:t.inherit(function(e){return function(){var i=e.apply(this,arguments);this.completingPull&&this.pully.setShowing(!1);var o=this.getStrategy().$.scrollMath||this.getStrategy(),n=-1*this.getScrollTop();return o.isInOverScroll()&&n>0&&(t.dom.transformValue(this.$.pulldown,this.translation,"0,"+n+"px"+(this.accel?",0":"")),this.firedPullStart||(this.firedPullStart=!0,this.pullStart(),this.pullHeight=this.$.pulldown.getBounds().height),n>this.pullHeight&&!this.firedPull&&(this.firedPull=!0,this.firedPullCancel=!1,this.pull()),this.firedPull&&!this.firedPullCancel&&this.pullHeight>n&&(this.firedPullCancel=!0,this.firedPull=!1,this.pullCancel())),i}}),scrollStopHandler:function(){this.completingPull&&(this.completingPull=!1,this.doPullComplete())},dragfinish:function(){if(this.firedPull){var t=this.getStrategy().$.scrollMath||this.getStrategy();t.setScrollY(-1*this.getScrollTop()-this.pullHeight),this.pullRelease()}},completePull:function(){this.completingPull=!0;var t=this.getStrategy().$.scrollMath||this.getStrategy();t.setScrollY(this.pullHeight),t.start()},pullStart:function(){this.setPulling(),this.pully.setShowing(!1),this.$.puller.setShowing(!0),this.doPullStart()},pull:function(){this.setPulled(),this.doPull()},pullCancel:function(){this.setPulling(),this.doPullCancel()},pullRelease:function(){this.$.puller.setShowing(!1),this.pully.setShowing(!0),this.doPullRelease()},setPulling:function(){this.$.puller.setText(this.pullingMessage),this.$.puller.setIconClass(this.pullingIconClass)},setPulled:function(){this.$.puller.setText(this.pulledMessage),this.$.puller.setIconClass(this.pulledIconClass)}}),t.kind({name:"enyo.Puller",kind:"enyo.Control",classes:"enyo-puller",published:{text:"",iconClass:""},events:{onCreate:""},components:[{name:"icon"},{name:"text",tag:"span",classes:"enyo-puller-text"}],create:t.inherit(function(t){return function(){t.apply(this,arguments),this.doCreate(),this.textChanged(),this.iconClassChanged()}}),textChanged:function(){this.$.text.setContent(this.text)},iconClassChanged:function(){this.$.icon.setClasses(this.iconClass)}})})(enyo,this);

// lib\layout\list\source\AroundList.js
(function(t){t.kind({name:"enyo.AroundList",kind:"enyo.List",listTools:[{name:"port",classes:"enyo-list-port enyo-border-box",components:[{name:"aboveClient"},{name:"generator",kind:"FlyweightRepeater",canGenerate:!1,components:[{tag:null,name:"client"}]},{name:"holdingarea",allowHtml:!0,classes:"enyo-list-holdingarea"},{name:"page0",allowHtml:!0,classes:"enyo-list-page"},{name:"page1",allowHtml:!0,classes:"enyo-list-page"},{name:"belowClient"},{name:"placeholder"},{name:"swipeableComponents",style:"position:absolute; display:block; top:-1000px; left:0px;"}]}],aboveComponents:null,belowComponents:null,initComponents:t.inherit(function(t){return function(){t.apply(this,arguments),this.aboveComponents&&this.$.aboveClient.createComponents(this.aboveComponents,{owner:this.owner}),this.belowComponents&&this.$.belowClient.createComponents(this.belowComponents,{owner:this.owner})}}),updateMetrics:function(){this.defaultPageSize=this.rowsPerPage*(this.rowSize||100),this.pageCount=Math.ceil(this.count/this.rowsPerPage),this.aboveHeight=this.$.aboveClient.getBounds().height,this.belowHeight=this.$.belowClient.getBounds().height,this.portSize=this.aboveHeight+this.belowHeight;for(var t=0;this.pageCount>t;t++)this.portSize+=this.getPageSize(t);this.adjustPortSize()},positionPage:function(t,e){e.pageNo=t;var i=this.pageToPosition(t),o=this.bottomUp?this.belowHeight:this.aboveHeight;i+=o,e.applyStyle(this.pageBound,i+"px")},scrollToContentStart:function(){var t=this.bottomUp?this.belowHeight:this.aboveHeight;this.setScrollPosition(t)}})})(enyo,this);

// lib\layout\list\source\GridListImageItem.js
(function(t){t.kind({name:"enyo.GridListImageItem",classes:"enyo-gridlist-imageitem",components:[{name:"image",kind:"enyo.Image",classes:"image"},{name:"caption",classes:"caption"},{name:"subCaption",classes:"sub-caption"}],published:{source:"",caption:"",subCaption:"",selected:!1,centered:!0,imageSizing:"",useCaption:!0,useSubCaption:!0},bindings:[{from:".source",to:".$.image.src"},{from:".caption",to:".$.caption.content"},{from:".caption",to:".$.caption.showing",kind:"enyo.EmptyBinding"},{from:".subCaption",to:".$.subCaption.content"},{from:".subCaption",to:".$.subCaption.showing",kind:"enyo.EmptyBinding"}],create:t.inherit(function(t){return function(){t.apply(this,arguments),this.selectedChanged(),this.imageSizingChanged(),this.centeredChanged()}}),selectedChanged:function(){this.addRemoveClass("selected",this.selected)},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)},imageSizingChanged:function(){this.$.image.setSizing(this.imageSizing),this.addRemoveClass("sized-image",!!this.imageSizing),this.imageSizing&&(this.useCaptionChanged(),this.useSubCaptionChanged())},useCaptionChanged:function(){this.addRemoveClass("use-caption",this.useCaption)},useSubCaptionChanged:function(){this.addRemoveClass("use-subcaption",this.useSubCaption)},centeredChanged:function(){this.addRemoveClass("centered",this.centered)}})})(enyo,this);

// lib\layout\slideable\source\Slideable.js
(function(t){t.kind({name:"enyo.Slideable",kind:"Control",published:{axis:"h",value:0,unit:"px",min:0,max:0,accelerated:"auto",overMoving:!0,draggable:!0},events:{onAnimateFinish:"",onChange:""},preventDragPropagation:!1,tools:[{kind:"Animator",onStep:"animatorStep",onEnd:"animatorComplete"}],handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},kDragScalar:1,dragEventProp:"dx",unitModifier:!1,canTransform:!1,dragMoveProp:"dx",shouldDragProp:"horizontal",transform:"translateX",dimension:"width",boundary:"left",create:t.inherit(function(t){return function(){t.apply(this,arguments),this.acceleratedChanged(),this.transformChanged(),this.axisChanged(),this.valueChanged(),this.addClass("enyo-slideable")}}),initComponents:t.inherit(function(t){return function(){this.createComponents(this.tools),t.apply(this,arguments)}}),rendered:t.inherit(function(t){return function(){t.apply(this,arguments),this.canModifyUnit(),this.updateDragScalar()}}),handleResize:t.inherit(function(t){return function(){t.apply(this,arguments),this.updateDragScalar()}}),canModifyUnit:function(){if(!this.canTransform){var t=this.getInitialStyleValue(this.hasNode(),this.boundary);t.match(/px/i)&&"%"===this.unit&&(this.unitModifier=this.getBounds()[this.dimension])}},getInitialStyleValue:function(e,i){var o=t.dom.getComputedStyle(e);return o?o.getPropertyValue(i):e&&e.currentStyle?e.currentStyle[i]:"0"},updateBounds:function(t,e){var i={};i[this.boundary]=t,this.setBounds(i,this.unit),this.setInlineStyles(t,e)},updateDragScalar:function(){if("%"==this.unit){var t=this.getBounds()[this.dimension];this.kDragScalar=t?100/t:1,this.canTransform||this.updateBounds(this.value,100)}},transformChanged:function(){this.canTransform=t.dom.canTransform()},acceleratedChanged:function(){(!t.platform.android||2>=t.platform.android)&&t.dom.accelerate(this,this.accelerated)},axisChanged:function(){var t="h"==this.axis;this.dragMoveProp=t?"dx":"dy",this.shouldDragProp=t?"horizontal":"vertical",this.transform=t?"translateX":"translateY",this.dimension=t?"width":"height",this.boundary=t?"left":"top"},setInlineStyles:function(t,e){var i={};this.unitModifier?(i[this.boundary]=this.percentToPixels(t,this.unitModifier),i[this.dimension]=this.unitModifier,this.setBounds(i)):(e?i[this.dimension]=e:i[this.boundary]=t,this.setBounds(i,this.unit))},valueChanged:function(e){var i=this.value;this.isOob(i)&&!this.isAnimating()&&(this.value=this.overMoving?this.dampValue(i):this.clampValue(i)),t.platform.android>2&&(this.value?(0===e||void 0===e)&&t.dom.accelerate(this,this.accelerated):t.dom.accelerate(this,!1)),this.canTransform?t.dom.transformValue(this,this.transform,this.value+this.unit):this.setInlineStyles(this.value,!1),this.doChange()},getAnimator:function(){return this.$.animator},isAtMin:function(){return this.value<=this.calcMin()},isAtMax:function(){return this.value>=this.calcMax()},calcMin:function(){return this.min},calcMax:function(){return this.max},clampValue:function(t){var e=this.calcMin(),i=this.calcMax();return Math.max(e,Math.min(t,i))},dampValue:function(t){return this.dampBound(this.dampBound(t,this.min,1),this.max,-1)},dampBound:function(t,e,i){var o=t;return e*i>o*i&&(o=e+(o-e)/4),o},percentToPixels:function(t,e){return Math.floor(e/100*t)},pixelsToPercent:function(t){var e=this.unitModifier?this.getBounds()[this.dimension]:this.container.getBounds()[this.dimension];return 100*(t/e)},shouldDrag:function(t){return this.draggable&&t[this.shouldDragProp]},isOob:function(t){return t>this.calcMax()||this.calcMin()>t},dragstart:function(t,e){return this.shouldDrag(e)?(e.preventDefault(),this.$.animator.stop(),e.dragInfo={},this.dragging=!0,this.drag0=this.value,this.dragd0=0,this.preventDragPropagation):void 0},drag:function(t,e){if(this.dragging){e.preventDefault();var i=this.canTransform?e[this.dragMoveProp]*this.kDragScalar:this.pixelsToPercent(e[this.dragMoveProp]),o=this.drag0+i,n=i-this.dragd0;return this.dragd0=i,n&&(e.dragInfo.minimizing=0>n),this.setValue(o),this.preventDragPropagation}},dragfinish:function(t,e){return this.dragging?(this.dragging=!1,this.completeDrag(e),e.preventTap(),this.preventDragPropagation):void 0},completeDrag:function(t){this.value!==this.calcMax()&&this.value!=this.calcMin()&&this.animateToMinMax(t.dragInfo.minimizing)},isAnimating:function(){return this.$.animator.isAnimating()},play:function(t,e){this.$.animator.play({startValue:t,endValue:e,node:this.hasNode()})},animateTo:function(t){this.play(this.value,t)},animateToMin:function(){this.animateTo(this.calcMin())},animateToMax:function(){this.animateTo(this.calcMax())},animateToMinMax:function(t){t?this.animateToMin():this.animateToMax()},animatorStep:function(t){return this.setValue(t.value),!0},animatorComplete:function(t){return this.doAnimateFinish(t),!0},toggleMinMax:function(){this.animateToMinMax(!this.isAtMin())}})})(enyo,this);

// lib\layout\panels\source\arrangers\Arranger.js
(function(t){t.kind({name:"enyo.Arranger",kind:"Layout",layoutClass:"enyo-arranger",accelerated:"auto",dragProp:"ddx",dragDirectionProp:"xDirection",canDragProp:"horizontal",incrementalPoints:!1,destroy:t.inherit(function(t){return function(){for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)e._arranger=null;t.apply(this,arguments)}}),arrange:function(){},size:function(){},start:function(){var t=this.container.fromIndex,e=this.container.toIndex,i=this.container.transitionPoints=[t];if(this.incrementalPoints)for(var n=Math.abs(e-t)-2,o=t;n>=0;)o+=t>e?-1:1,i.push(o),n--;i.push(this.container.toIndex)},finish:function(){},calcArrangementDifference:function(){},canDragEvent:function(t){return t[this.canDragProp]},calcDragDirection:function(t){return t[this.dragDirectionProp]},calcDrag:function(t){return t[this.dragProp]},drag:function(t,e,i,n,o){var s=this.measureArrangementDelta(-t,e,i,n,o);return s},measureArrangementDelta:function(t,e,i,n,o){var s=this.calcArrangementDifference(e,i,n,o),r=s?t/Math.abs(s):0;return r*=this.container.fromIndex>this.container.toIndex?-1:1},_arrange:function(t){this.containerBounds||this.reflow();var e=this.getOrderedControls(t);this.arrange(e,t)},arrangeControl:function(e,i){e._arranger=t.mixin(e._arranger||{},i)},flow:function(){this.c$=[].concat(this.container.getPanels()),this.controlsIndex=0;for(var e,i=0,n=this.container.getPanels();e=n[i];i++)if(t.dom.accelerate(e,!e.preventAccelerate&&this.accelerated),t.platform.safari)for(var o,s=e.children,r=0;o=s[r];r++)t.dom.accelerate(o,this.accelerated)},reflow:function(){var t=this.container.hasNode();this.containerBounds=t?{width:t.clientWidth,height:t.clientHeight}:{},this.size()},flowArrangement:function(){var t=this.container.arrangement;if(t)for(var e,i=0,n=this.container.getPanels();(e=n[i])&&t[i];i++)this.flowControl(e,t[i])},flowControl:function(e,i){t.Arranger.positionControl(e,i);var n=i.opacity;null!=n&&t.Arranger.opacifyControl(e,n)},getOrderedControls:function(t){for(var e=Math.floor(t),i=e-this.controlsIndex,n=i>0,o=this.c$||[],s=0;Math.abs(i)>s;s++)n?o.push(o.shift()):o.unshift(o.pop());return this.controlsIndex=e,o},statics:{positionControl:function(e,i,n){if(n=n||"px",!this.updating)if(!t.dom.canTransform()||e.preventTransform||t.platform.android||10===t.platform.ie)t.dom.canTransform()&&e.preventTransform&&t.dom.transform(e,{translateX:null,translateY:null}),e.setBounds(i,n);else{var o=i.left,s=i.top;o=t.isString(o)?o:o&&o+n,s=t.isString(s)?s:s&&s+n,t.dom.transform(e,{translateX:o||null,translateY:s||null})}},opacifyControl:function(e,i){var n=i;n=n>.99?1:.01>n?0:n,9>t.platform.ie?e.applyStyle("filter","progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*n+")"):e.applyStyle("opacity",n)}}})})(enyo,this);

// lib\layout\panels\source\arrangers\CardArranger.js
(function(t){t.kind({name:"enyo.CardArranger",kind:"Arranger",layoutClass:"enyo-arranger enyo-arranger-fit",calcArrangementDifference:function(){return this.containerBounds.width},arrange:function(t){for(var e,i,n=0;e=t[n];n++)i=0===n?1:0,this.arrangeControl(e,{opacity:i})},start:t.inherit(function(t){return function(){t.apply(this,arguments);for(var e,i=this.container.getPanels(),n=0;e=i[n];n++){var o=e.showing;e.setShowing(n==this.container.fromIndex||n==this.container.toIndex),e.showing&&!o&&e.resize()}}}),finish:t.inherit(function(t){return function(){t.apply(this,arguments);for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)e.setShowing(n==this.container.toIndex)}}),destroy:t.inherit(function(e){return function(){for(var i,n=this.container.getPanels(),o=0;i=n[o];o++)t.Arranger.opacifyControl(i,1),i.showing||i.setShowing(!0);e.apply(this,arguments)}})})})(enyo,this);

// lib\layout\panels\source\arrangers\CardSlideInArranger.js
(function(t){t.kind({name:"enyo.CardSlideInArranger",kind:"CardArranger",start:function(){for(var t,e=this.container.getPanels(),i=0;t=e[i];i++){var n=t.showing;t.setShowing(i==this.container.fromIndex||i==this.container.toIndex),t.showing&&!n&&t.resize()}var o=this.container.fromIndex;i=this.container.toIndex,this.container.transitionPoints=[i+"."+o+".s",i+"."+o+".f"]},finish:t.inherit(function(t){return function(){t.apply(this,arguments);for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)e.setShowing(n==this.container.toIndex)}}),arrange:function(t,e){for(var i,n,o=e.split("."),s=o[0],r=o[1],a="s"==o[2],h=this.containerBounds.width,l=0,d=this.container.getPanels();i=d[l];l++)n=h,r==l&&(n=a?0:-h),s==l&&(n=a?h:0),r==l&&r==s&&(n=0),this.arrangeControl(i,{left:n})},destroy:t.inherit(function(e){return function(){for(var i,n=this.container.getPanels(),o=0;i=n[o];o++)t.Arranger.positionControl(i,{left:null});e.apply(this,arguments)}})})})(enyo,this);

// lib\layout\panels\source\arrangers\CarouselArranger.js
(function(t){t.kind({name:"enyo.CarouselArranger",kind:"Arranger",size:function(){var e,i,n,o,s,r=this.container.getPanels(),a=this.containerPadding=this.container.hasNode()?t.dom.calcPaddingExtents(this.container.node):{},h=this.containerBounds;h.height-=a.top+a.bottom,h.width-=a.left+a.right;var l;for(e=0,n=0;s=r[e];e++)o=t.dom.calcMarginExtents(s.hasNode()),s.width=s.getBounds().width,s.marginWidth=o.right+o.left,n+=(s.fit?0:s.width)+s.marginWidth,s.fit&&(l=s);if(l){var d=h.width-n;l.width=d>=0?d:l.width}for(e=0,i=a.left;s=r[e];e++)s.setBounds({top:a.top,bottom:a.bottom,width:s.fit?s.width:null})},arrange:function(t,e){this.container.wrap?this.arrangeWrap(t,e):this.arrangeNoWrap(t,e)},arrangeNoWrap:function(t,e){var i,n,o,s,r=this.container.getPanels(),a=this.container.clamp(e),h=this.containerBounds.width;for(i=a,o=0;(s=r[i])&&(o+=s.width+s.marginWidth,!(o>h));i++);var l=h-o,d=0;if(l>0)for(i=a-1,n=0;s=r[i];i--)if(n+=s.width+s.marginWidth,0>=l-n){d=l-n,a=i;break}var c,u;for(i=0,u=this.containerPadding.left+d;s=r[i];i++)c=s.width+s.marginWidth,a>i?this.arrangeControl(s,{left:-c}):(this.arrangeControl(s,{left:Math.floor(u)}),u+=c)},arrangeWrap:function(t){for(var e,i=0,n=this.containerPadding.left;e=t[i];i++)this.arrangeControl(e,{left:n}),n+=e.width+e.marginWidth},calcArrangementDifference:function(t,e,i,n){var o=Math.abs(t%this.c$.length);return e[o].left-n[o].left},destroy:t.inherit(function(e){return function(){for(var i,n=this.container.getPanels(),o=0;i=n[o];o++)t.Arranger.positionControl(i,{left:null,top:null}),i.applyStyle("top",null),i.applyStyle("bottom",null),i.applyStyle("left",null),i.applyStyle("width",null);e.apply(this,arguments)}})})})(enyo,this);

// lib\layout\panels\source\arrangers\CollapsingArranger.js
(function(t){t.kind({name:"enyo.CollapsingArranger",kind:"CarouselArranger",peekWidth:0,size:t.inherit(function(t){return function(){this.clearLastSize(),t.apply(this,arguments)}}),clearLastSize:function(){for(var t,e=0,i=this.container.getPanels();t=i[e];e++)t._fit&&e!=i.length-1&&(t.applyStyle("width",null),t._fit=null)},constructor:t.inherit(function(t){return function(){t.apply(this,arguments),this.peekWidth=null!=this.container.peekWidth?this.container.peekWidth:this.peekWidth}}),arrange:function(t,e){for(var i,n=this.container.getPanels(),o=0,s=this.containerPadding.left,r=0;i=n[o];o++)i.getShowing()?(this.arrangeControl(i,{left:s+r*this.peekWidth}),o>=e&&(s+=i.width+i.marginWidth-this.peekWidth),r++):(this.arrangeControl(i,{left:s}),o>=e&&(s+=i.width+i.marginWidth)),o==n.length-1&&0>e&&this.arrangeControl(i,{left:s-e})},calcArrangementDifference:function(t,e,i,n){var o=this.container.getPanels().length-1;return Math.abs(n[o].left-e[o].left)},flowControl:t.inherit(function(t){return function(e,i){if(t.apply(this,arguments),this.container.realtimeFit){var n=this.container.getPanels(),o=n.length-1,s=n[o];e==s&&this.fitControl(e,i.left)}}}),finish:t.inherit(function(t){return function(){if(t.apply(this,arguments),!this.container.realtimeFit&&this.containerBounds){var e=this.container.getPanels(),i=this.container.arrangement,n=e.length-1,o=e[n];this.fitControl(o,i[n].left)}}}),fitControl:function(t,e){t._fit=!0,t.applyStyle("width",this.containerBounds.width-e+"px"),t.resize()}})})(enyo,this);

// lib\layout\panels\source\arrangers\DockRightArranger.js
(function(t){t.kind({name:"enyo.DockRightArranger",kind:"Arranger",basePanel:!1,overlap:0,layoutWidth:0,constructor:t.inherit(function(t){return function(){t.apply(this,arguments),this.overlap=null!=this.container.overlap?this.container.overlap:this.overlap,this.layoutWidth=null!=this.container.layoutWidth?this.container.layoutWidth:this.layoutWidth}}),size:function(){var e,i,n,o=this.container.getPanels(),s=this.containerPadding=this.container.hasNode()?t.dom.calcPaddingExtents(this.container.node):{},r=this.containerBounds;r.width-=s.left+s.right;var a,h=r.width,l=o.length;for(this.container.transitionPositions={},e=0;n=o[e];e++)n.width=0===e&&this.container.basePanel?h:n.getBounds().width;for(e=0;n=o[e];e++){0===e&&this.container.basePanel&&n.setBounds({width:h}),n.setBounds({top:s.top,bottom:s.bottom});for(var d=0;n=o[d];d++){var c;if(0===e&&this.container.basePanel)c=0;else if(e>d)c=h;else{if(e!==d)break;a=h>this.layoutWidth?this.overlap:0,c=h-o[e].width+a}this.container.transitionPositions[e+"."+d]=c}if(l>d)for(var u=!1,g=e+1;l>g;g++){if(a=0,u)a=0;else if(o[e].width+o[g].width-this.overlap>h)a=0,u=!0;else{for(a=o[e].width-this.overlap,i=e;g>i;i++){var p=a+o[i+1].width-this.overlap;if(!(h>p)){a=h;break}a=p}a=h-a}this.container.transitionPositions[e+"."+g]=a}}},arrange:function(t,e){var i,n,o=this.container.getPanels(),s=this.container.clamp(e);for(i=0;n=o[i];i++){var r=this.container.transitionPositions[i+"."+s];this.arrangeControl(n,{left:r})}},calcArrangementDifference:function(t,e,i){var n=this.container.getPanels(),o=i>t?n[i].width:n[t].width;return o},destroy:t.inherit(function(e){return function(){for(var i,n=this.container.getPanels(),o=0;i=n[o];o++)t.Arranger.positionControl(i,{left:null,top:null}),i.applyStyle("top",null),i.applyStyle("bottom",null),i.applyStyle("left",null),i.applyStyle("width",null);e.apply(this,arguments)}})})})(enyo,this);

// lib\layout\panels\source\arrangers\OtherArrangers.js
(function(t){t.kind({name:"enyo.LeftRightArranger",kind:"Arranger",margin:40,axisSize:"width",offAxisSize:"height",axisPosition:"left",constructor:t.inherit(function(t){return function(){t.apply(this,arguments),this.margin=null!=this.container.margin?this.container.margin:this.margin}}),size:function(){for(var t,e,i=this.container.getPanels(),n=this.containerBounds[this.axisSize],o=n-this.margin-this.margin,s=0;e=i[s];s++)t={},t[this.axisSize]=o,t[this.offAxisSize]="100%",e.setBounds(t)},start:t.inherit(function(t){return function(){t.apply(this,arguments);for(var e,i=this.container.fromIndex,n=this.container.toIndex,o=this.getOrderedControls(n),s=Math.floor(o.length/2),r=0;e=o[r];r++)i>n?r==o.length-s?e.applyStyle("z-index",0):e.applyStyle("z-index",1):r==o.length-1-s?e.applyStyle("z-index",0):e.applyStyle("z-index",1)}}),arrange:function(t,e){var i,n,o;if(1==this.container.getPanels().length)return o={},o[this.axisPosition]=this.margin,this.arrangeControl(this.container.getPanels()[0],o),void 0;var s=Math.floor(this.container.getPanels().length/2),r=this.getOrderedControls(Math.floor(e)-s),a=this.containerBounds[this.axisSize]-this.margin-this.margin,h=this.margin-a*s;for(i=0;n=r[i];i++)o={},o[this.axisPosition]=h,this.arrangeControl(n,o),h+=a},calcArrangementDifference:function(t,e,i,n){if(1==this.container.getPanels().length)return 0;var o=Math.abs(t%this.c$.length);return e[o][this.axisPosition]-n[o][this.axisPosition]},destroy:t.inherit(function(e){return function(){for(var i,n=this.container.getPanels(),o=0;i=n[o];o++)t.Arranger.positionControl(i,{left:null,top:null}),t.Arranger.opacifyControl(i,1),i.applyStyle("left",null),i.applyStyle("top",null),i.applyStyle("height",null),i.applyStyle("width",null);e.apply(this,arguments)}})}),t.kind({name:"enyo.TopBottomArranger",kind:"LeftRightArranger",dragProp:"ddy",dragDirectionProp:"yDirection",canDragProp:"vertical",axisSize:"height",offAxisSize:"width",axisPosition:"top"}),t.kind({name:"enyo.SpiralArranger",kind:"Arranger",incrementalPoints:!0,inc:20,size:function(){for(var t,e=this.container.getPanels(),i=this.containerBounds,n=this.controlWidth=i.width/3,o=this.controlHeight=i.height/3,s=0;t=e[s];s++)t.setBounds({width:n,height:o})},arrange:function(t){for(var e,i=this.inc,n=0,o=t.length;e=t[n];n++){var s=Math.cos(2*(n/o)*Math.PI)*n*i+this.controlWidth,r=Math.sin(2*(n/o)*Math.PI)*n*i+this.controlHeight;this.arrangeControl(e,{left:s,top:r})}},start:t.inherit(function(t){return function(){t.apply(this,arguments);for(var e,i=this.getOrderedControls(this.container.toIndex),n=0;e=i[n];n++)e.applyStyle("z-index",i.length-n)}}),calcArrangementDifference:function(){return this.controlWidth},destroy:t.inherit(function(e){return function(){for(var i,n=this.container.getPanels(),o=0;i=n[o];o++)i.applyStyle("z-index",null),t.Arranger.positionControl(i,{left:null,top:null}),i.applyStyle("left",null),i.applyStyle("top",null),i.applyStyle("height",null),i.applyStyle("width",null);e.apply(this,arguments)}})}),t.kind({name:"enyo.GridArranger",kind:"Arranger",incrementalPoints:!0,colWidth:100,colHeight:100,size:function(){for(var t,e=this.container.getPanels(),i=this.colWidth,n=this.colHeight,o=0;t=e[o];o++)t.setBounds({width:i,height:n})},arrange:function(t){for(var e,i=this.colWidth,n=this.colHeight,o=Math.max(1,Math.floor(this.containerBounds.width/i)),s=0,r=0;t.length>r;s++)for(var a=0;o>a&&(e=t[r]);a++,r++)this.arrangeControl(e,{left:i*a,top:n*s})},flowControl:t.inherit(function(e){return function(i,n){e.apply(this,arguments),t.Arranger.opacifyControl(i,0!==n.top%this.colHeight?.25:1)}}),calcArrangementDifference:function(){return this.colWidth},destroy:t.inherit(function(e){return function(){for(var i,n=this.container.getPanels(),o=0;i=n[o];o++)t.Arranger.positionControl(i,{left:null,top:null}),i.applyStyle("left",null),i.applyStyle("top",null),i.applyStyle("height",null),i.applyStyle("width",null);e.apply(this,arguments)}})})})(enyo,this);

// lib\layout\panels\source\Panels.js
(function(t){t.kind({name:"enyo.Panels",classes:"enyo-panels",published:{index:0,draggable:!0,animate:!0,wrap:!1,arrangerKind:"CardArranger",narrowFit:!0},events:{onTransitionStart:"",onTransitionFinish:""},handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",onscroll:"domScroll"},tools:[{kind:"Animator",onStep:"step",onEnd:"completed"}],fraction:0,create:t.inherit(function(t){return function(){this.transitionPoints=[],t.apply(this,arguments),this.arrangerKindChanged(),this.narrowFitChanged(),this.indexChanged()}}),rendered:t.inherit(function(e){return function(){e.apply(this,arguments),t.makeBubble(this,"scroll")}}),domScroll:function(){this.hasNode()&&this.node.scrollLeft>0&&(this.node.scrollLeft=0)},initComponents:t.inherit(function(t){return function(){this.createChrome(this.tools),t.apply(this,arguments)}}),arrangerKindChanged:function(){this.setLayoutKind(this.arrangerKind)},narrowFitChanged:function(){this.addRemoveClass(t.Panels.getNarrowClass(),this.narrowFit)},destroy:t.inherit(function(t){return function(){this.destroying=!0,t.apply(this,arguments)}}),removeControl:t.inherit(function(e){return function(i){if(this.destroying)return e.apply(this,arguments);var n=-1,o=t.indexOf(i,this.controls);o===this.index&&(n=Math.max(o-1,0)),e.apply(this,arguments),-1!==n&&this.controls.length>0&&(this.setIndex(n),this.flow(),this.reflow())}}),isPanel:function(){return!0},flow:t.inherit(function(t){return function(){this.arrangements=[],t.apply(this,arguments)}}),reflow:t.inherit(function(t){return function(){this.arrangements=[],t.apply(this,arguments),this.refresh()}}),getPanels:function(){var t=this.controlParent||this;return t.children},getActive:function(){var t=this.getPanels(),e=this.index%t.length;return 0>e&&(e+=t.length),t[e]},getAnimator:function(){return this.$.animator},setIndex:function(t){var e=this.get("index"),i=this.clamp(t);this.index=i,this.notifyObservers("index",e,i)},setIndexDirect:function(t){this.setIndex(t),this.completed()},selectPanelByName:function(t){if(t)for(var e=0,i=this.getPanels(),n=i.length;n>e;++e)if(t===i[e].name)return this.setIndex(e),e},previous:function(){var t=this.index-1;this.wrap&&0>t&&(t=this.getPanels().length-1),this.setIndex(t)},next:function(){var t=this.index+1;this.wrap&&t>=this.getPanels().length&&(t=0),this.setIndex(t)},clamp:function(t){var e=this.getPanels().length;return this.wrap?(t%=e,0>t?t+e:t):Math.max(0,Math.min(t,e-1))},indexChanged:function(t){this.lastIndex=t,!this.dragging&&this.$.animator&&(this.$.animator.isAnimating()&&(this.finishTransitionInfo&&(this.finishTransitionInfo.animating=!0),this.completed()),this.$.animator.stop(),this.hasNode()&&(this.animate?(this.startTransition(!0),this.$.animator.play({startValue:this.fraction})):this.refresh()))},step:function(t){return this.fraction=t.value,this.stepTransition(),!0},completed:function(){return this.$.animator.isAnimating()&&this.$.animator.stop(),this.fraction=1,this.stepTransition(),this.finishTransition(!0),!0},dragstart:function(t,e){return this.draggable&&this.layout&&this.layout.canDragEvent(e)?(e.preventDefault(),this.dragstartTransition(e),this.dragging=!0,this.$.animator.stop(),!0):void 0},drag:function(t,e){this.dragging&&(e.preventDefault(),this.dragTransition(e))},dragfinish:function(t,e){this.dragging&&(this.dragging=!1,e.preventTap(),this.dragfinishTransition(e))},dragstartTransition:function(t){if(this.$.animator.isAnimating())this.verifyDragTransition(t);else{var e=this.fromIndex=this.index;this.toIndex=e-(this.layout?this.layout.calcDragDirection(t):0)}this.fromIndex=this.clamp(this.fromIndex),this.toIndex=this.clamp(this.toIndex),this.fireTransitionStart(),this.layout&&this.layout.start()},dragTransition:function(t){var e=this.layout?this.layout.calcDrag(t):0,i=this.transitionPoints,n=i[0],o=i[i.length-1],s=this.fetchArrangement(n),r=this.fetchArrangement(o),a=this.layout?this.layout.drag(e,n,s,o,r):0,h=e&&!a;this.fraction+=a;var l=this.fraction;(l>1||0>l||h)&&((l>0||h)&&this.dragfinishTransition(t),this.dragstartTransition(t),this.fraction=0),this.stepTransition()},dragfinishTransition:function(t){this.verifyDragTransition(t),this.setIndex(this.toIndex),this.dragging&&this.fireTransitionFinish()},verifyDragTransition:function(t){var e=this.layout?this.layout.calcDragDirection(t):0,i=Math.min(this.fromIndex,this.toIndex),n=Math.max(this.fromIndex,this.toIndex);if(e>0){var o=i;i=n,n=o}i!=this.fromIndex&&(this.fraction=1-this.fraction),this.fromIndex=i,this.toIndex=n},refresh:function(){this.$.animator&&this.$.animator.isAnimating()&&this.$.animator.stop(),this.startTransition(!1),this.fraction=1,this.stepTransition(),this.finishTransition(!1)},startTransition:function(t){this.fromIndex=null!=this.fromIndex?this.fromIndex:this.lastIndex||0,this.toIndex=null!=this.toIndex?this.toIndex:this.index,this.layout&&this.layout.start(),t&&this.fireTransitionStart()},finishTransition:function(t){this.layout&&this.layout.finish(),this.transitionPoints=[],this.fraction=0,this.fromIndex=this.toIndex=null,t&&this.fireTransitionFinish()},fireTransitionStart:function(){var e=this.startTransitionInfo;!this.hasNode()||e&&e.fromIndex==this.fromIndex&&e.toIndex==this.toIndex||(this.startTransitionInfo={fromIndex:this.fromIndex,toIndex:this.toIndex},this.doTransitionStart(t.clone(this.startTransitionInfo)))},fireTransitionFinish:function(){var e=this.finishTransitionInfo;!this.hasNode()||e&&e.fromIndex==this.lastIndex&&e.toIndex==this.index||(this.finishTransitionInfo=e&&e.animating?{fromIndex:e.toIndex,toIndex:this.lastIndex}:{fromIndex:this.lastIndex,toIndex:this.index},this.doTransitionFinish(t.clone(this.finishTransitionInfo)))},stepTransition:function(){if(this.hasNode()){var e=this.transitionPoints,i=(this.fraction||0)*(e.length-1),n=Math.floor(i);i-=n;var o=e[n],s=e[n+1],r=this.fetchArrangement(o),a=this.fetchArrangement(s);this.arrangement=r&&a?t.Panels.lerp(r,a,i):r||a,this.arrangement&&this.layout&&this.layout.flowArrangement()}},fetchArrangement:function(t){return null!=t&&!this.arrangements[t]&&this.layout&&(this.layout._arrange(t),this.arrangements[t]=this.readArrangement(this.getPanels())),this.arrangements[t]},readArrangement:function(e){for(var i,n=[],o=0,s=e;i=s[o];o++)n.push(t.clone(i._arranger));return n},statics:{isScreenNarrow:function(){return t.Panels.isNarrowDevice()?!0:800>=t.dom.getWindowWidth()},getNarrowClass:function(){return t.Panels.isNarrowDevice()?"enyo-panels-force-narrow":"enyo-panels-fit-narrow"},lerp:function(e,i,n){for(var o,s=[],r=0,a=t.keys(e);o=a[r];r++)s.push(this.lerpObject(e[o],i[o],n));return s},lerpObject:function(e,i,n){var o,s,r=t.clone(e);if(i)for(var a in e)o=e[a],s=i[a],o!=s&&(r[a]=o-(o-s)*n);return r},isNarrowDevice:function(){var e=navigator.userAgent;switch(t.platform.platformName){case"ios":return/iP(?:hone|od;(?: U;)? CPU) OS (\d+)/.test(e);case"android":return/Mobile/.test(e)&&t.platform.android>2;case"androidChrome":return/Mobile/.test(e)}return!1}}})})(enyo,this);

// lib\layout\tree\source\Node.js
(function(t){t.kind({name:"enyo.Node",published:{expandable:!1,expanded:!1,icon:"",onlyIconExpands:!1,selected:!1},style:"padding: 0 0 0 16px;",content:"Node",defaultKind:"Node",classes:"enyo-node",components:[{name:"icon",kind:"Image",showing:!1},{kind:"Control",name:"caption",Xtag:"span",style:"display: inline-block; padding: 4px;",allowHtml:!0},{kind:"Control",name:"extra",tag:"span",allowHtml:!0}],childClient:[{kind:"Control",name:"box",classes:"enyo-node-box",Xstyle:"border: 1px solid orange;",components:[{kind:"Control",name:"client",classes:"enyo-node-client",Xstyle:"border: 1px solid lightblue;"}]}],handlers:{ondblclick:"dblclick"},events:{onNodeTap:"nodeTap",onNodeDblClick:"nodeDblClick",onExpand:"nodeExpand",onDestroyed:"nodeDestroyed"},create:t.inherit(function(t){return function(){t.apply(this,arguments),this.selectedChanged(),this.iconChanged()}}),destroy:t.inherit(function(t){return function(){this.doDestroyed(),t.apply(this,arguments)}}),initComponents:t.inherit(function(t){return function(){this.expandable&&(this.kindComponents=this.kindComponents.concat(this.childClient)),t.apply(this,arguments)}}),contentChanged:function(){this.$.caption.setContent(this.content)},iconChanged:function(){this.$.icon.setSrc(this.icon),this.$.icon.setShowing(Boolean(this.icon))},selectedChanged:function(){this.addRemoveClass("enyo-selected",this.selected)},rendered:t.inherit(function(t){return function(){t.apply(this,arguments),this.expandable&&!this.expanded&&this.quickCollapse()}}),addNodes:function(t){this.destroyClientControls();for(var e,i=0;e=t[i];i++)this.createComponent(e);this.$.client.render()},addTextNodes:function(t){this.destroyClientControls();for(var e,i=0;e=t[i];i++)this.createComponent({content:e});this.$.client.render()},tap:function(t,e){return this.onlyIconExpands?e.target==this.$.icon.hasNode()?this.toggleExpanded():this.doNodeTap():(this.toggleExpanded(),this.doNodeTap()),!0},dblclick:function(){return this.doNodeDblClick(),!0},toggleExpanded:function(){this.setExpanded(!this.expanded)},quickCollapse:function(){this.removeClass("enyo-animate"),this.$.box.applyStyle("height","0");var t=this.$.client.getBounds().height;this.$.client.setBounds({top:-t})},_expand:function(){this.addClass("enyo-animate");var t=this.$.client.getBounds().height;this.$.box.setBounds({height:t}),this.$.client.setBounds({top:0}),setTimeout(this.bindSafely(function(){this.expanded&&(this.removeClass("enyo-animate"),this.$.box.applyStyle("height","auto"))}),225)},_collapse:function(){this.removeClass("enyo-animate");var t=this.$.client.getBounds().height;this.$.box.setBounds({height:t}),setTimeout(this.bindSafely(function(){this.addClass("enyo-animate"),this.$.box.applyStyle("height","0"),this.$.client.setBounds({top:-t})}),25)},expandedChanged:function(){if(this.expandable){var t={expanded:this.expanded};this.doExpand(t),t.wait||this.effectExpanded()}else this.expanded=!1},effectExpanded:function(){this.$.client&&(this.expanded?this._expand():this._collapse())}})})(enyo,this);

// lib\layout\imageview\source\PanZoomView.js
(function(t){t.kind({name:"enyo.PanZoomView",kind:"enyo.Scroller",touchOverscroll:!1,thumb:!1,animate:!0,verticalDragPropagation:!0,horizontalDragPropagation:!0,published:{scale:"auto",disableZoom:!1,contentWidth:null,contentHeight:null},events:{onZoom:""},touch:!0,preventDragPropagation:!1,handlers:{ondragstart:"dragPropagation",onSetDimensions:"setDimensions"},components:[{name:"animator",kind:"Animator",onStep:"zoomAnimationStep",onEnd:"zoomAnimationEnd"},{name:"viewport",style:"overflow:hidden;min-height:100%;min-width:100%;",classes:"enyo-fit",ongesturechange:"gestureTransform",ongestureend:"saveState",ontap:"singleTap",ondblclick:"doubleClick",onmousewheel:"mousewheel",components:[{name:"content"}]}],create:t.inherit(function(e){return function(){this.scaleKeyword=this.scale;var i=this.components;if(this.components=[],e.apply(this,arguments),this.$.content.applyStyle("width",this.contentWidth+"px"),this.$.content.applyStyle("height",this.contentHeight+"px"),this.unscaledComponents){var n=this.hasOwnProperty("unscaledComponents")?this.getInstanceOwner():this;this.createComponents(this.unscaledComponents,{owner:n})}this.controlParentName="content",this.discoverControlParent(),this.createComponents(i),this.canTransform=t.dom.canTransform(),this.canTransform||this.$.content.applyStyle("position","relative"),this.canAccelerate=t.dom.canAccelerate(),this.getStrategy().setDragDuringGesture(!1)}}),rendered:t.inherit(function(t){return function(){t.apply(this,arguments),this.getOriginalScale()}}),dragPropagation:function(t,e){var i=this.getStrategy().getScrollBounds(),n=0===i.top&&e.dy>0||i.top>=i.maxTop-2&&0>e.dy,o=0===i.left&&e.dx>0||i.left>=i.maxLeft-2&&0>e.dx;return!(n&&this.verticalDragPropagation||o&&this.horizontalDragPropagation)},mousewheel:function(t,e){e.pageX|=e.clientX+e.target.scrollLeft,e.pageY|=e.clientY+e.target.scrollTop;var i=(this.maxScale-this.minScale)/10,n=this.scale;return e.wheelDelta>0||0>e.detail?this.scale=this.limitScale(this.scale+i):(0>e.wheelDelta||e.detail>0)&&(this.scale=this.limitScale(this.scale-i)),this.eventPt=this.calcEventLocation(e),this.transform(this.scale),n!=this.scale&&this.doZoom({scale:this.scale}),this.ratioX=this.ratioY=null,e.preventDefault(),!0},handleResize:t.inherit(function(t){return function(){t.apply(this,arguments),this.scaleChanged()}}),setDimensions:function(t,e){return this.$.content.applyStyle("width",e.width+"px"),this.$.content.applyStyle("height",e.height+"px"),this.originalWidth=e.width,this.originalHeight=e.height,this.scale=this.scaleKeyword,this.scaleChanged(),!0},getOriginalScale:function(){this.$.content.hasNode()&&(this.originalWidth=this.$.content.node.clientWidth,this.originalHeight=this.$.content.node.clientHeight,this.scale=this.scaleKeyword,this.scaleChanged())},scaleChanged:function(){var t=this.hasNode();if(t){this.containerWidth=t.clientWidth,this.containerHeight=t.clientHeight;var e=this.containerWidth/this.originalWidth,i=this.containerHeight/this.originalHeight;this.minScale=Math.min(e,i),this.maxScale=1>3*this.minScale?1:3*this.minScale,"auto"==this.scale?this.scale=this.minScale:"width"==this.scale?this.scale=e:"height"==this.scale?this.scale=i:"fit"==this.scale?(this.fitAlignment="center",this.scale=Math.max(e,i)):(this.maxScale=Math.max(this.maxScale,this.scale),this.scale=this.limitScale(this.scale))}this.eventPt=this.calcEventLocation(),this.transform(this.scale),this.getStrategy().$.scrollMath&&this.getStrategy().$.scrollMath.start(),this.align()},align:function(){if(this.fitAlignment&&"center"===this.fitAlignment){var t=this.getScrollBounds();this.setScrollLeft(t.maxLeft/2),this.setScrollTop(t.maxTop/2)}},gestureTransform:function(t,e){this.eventPt=this.calcEventLocation(e),this.transform(this.limitScale(this.scale*e.scale))},calcEventLocation:function(t){var e={x:0,y:0};if(t&&this.hasNode()){var i=this.node.getBoundingClientRect();e.x=Math.round(t.pageX-i.left-this.bounds.x),e.x=Math.max(0,Math.min(this.bounds.width,e.x)),e.y=Math.round(t.pageY-i.top-this.bounds.y),e.y=Math.max(0,Math.min(this.bounds.height,e.y))}return e},transform:function(e){this.tapped=!1;var i=this.bounds||this.innerBounds(e);this.bounds=this.innerBounds(e),this.scale>this.minScale?this.$.viewport.applyStyle("cursor","move"):this.$.viewport.applyStyle("cursor",null),this.$.viewport.setBounds({width:this.bounds.width+"px",height:this.bounds.height+"px"}),this.ratioX=this.ratioX||(this.eventPt.x+this.getScrollLeft())/i.width,this.ratioY=this.ratioY||(this.eventPt.y+this.getScrollTop())/i.height;var n,o;if(this.$.animator.ratioLock?(n=this.$.animator.ratioLock.x*this.bounds.width-this.containerWidth/2,o=this.$.animator.ratioLock.y*this.bounds.height-this.containerHeight/2):(n=this.ratioX*this.bounds.width-this.eventPt.x,o=this.ratioY*this.bounds.height-this.eventPt.y),n=Math.max(0,Math.min(this.bounds.width-this.containerWidth,n)),o=Math.max(0,Math.min(this.bounds.height-this.containerHeight,o)),this.canTransform){var s={scale:e};s=this.canAccelerate?t.mixin({translate3d:Math.round(this.bounds.left)+"px, "+Math.round(this.bounds.top)+"px, 0px"},s):t.mixin({translate:this.bounds.left+"px, "+this.bounds.top+"px"},s),t.dom.transform(this.$.content,s)}else if(t.platform.ie){var r='"progid:DXImageTransform.Microsoft.Matrix(M11='+e+", M12=0, M21=0, M22="+e+", SizingMethod='auto expand')\"";this.$.content.applyStyle("-ms-filter",r),this.$.content.setBounds({width:this.bounds.width*e+"px",height:this.bounds.height*e+"px",left:this.bounds.left+"px",top:this.bounds.top+"px"}),this.$.content.applyStyle("width",e*this.bounds.width),this.$.content.applyStyle("height",e*this.bounds.height)}this.setScrollLeft(n),this.setScrollTop(o),this.positionClientControls(e)},limitScale:function(t){return this.disableZoom?t=this.scale:t>this.maxScale?t=this.maxScale:this.minScale>t&&(t=this.minScale),t},innerBounds:function(t){var e=this.originalWidth*t,i=this.originalHeight*t,n={x:0,y:0,transX:0,transY:0};return this.containerWidth>e&&(n.x+=(this.containerWidth-e)/2),this.containerHeight>i&&(n.y+=(this.containerHeight-i)/2),this.canTransform&&(n.transX-=(this.originalWidth-e)/2,n.transY-=(this.originalHeight-i)/2),{left:n.x+n.transX,top:n.y+n.transY,width:e,height:i,x:n.x,y:n.y}},saveState:function(t,e){var i=this.scale;this.scale*=e.scale,this.scale=this.limitScale(this.scale),i!=this.scale&&this.doZoom({scale:this.scale}),this.ratioX=this.ratioY=null},doubleClick:function(e,i){8==t.platform.ie&&(this.tapped=!0,i.pageX=i.clientX+i.target.scrollLeft,i.pageY=i.clientY+i.target.scrollTop,this.singleTap(e,i),i.preventDefault())},singleTap:function(t,e){setTimeout(this.bindSafely(function(){this.tapped=!1}),300),this.tapped?(this.tapped=!1,this.smartZoom(t,e)):this.tapped=!0},smartZoom:function(t,e){var i=this.hasNode(),n=this.$.content.hasNode();if(i&&n&&this.hasNode()&&!this.disableZoom){var o=this.scale;if(this.scale=this.scale!=this.minScale?this.minScale:this.maxScale,this.eventPt=this.calcEventLocation(e),this.animate){var s={x:(this.eventPt.x+this.getScrollLeft())/this.bounds.width,y:(this.eventPt.y+this.getScrollTop())/this.bounds.height};this.$.animator.play({duration:350,ratioLock:s,baseScale:o,deltaScale:this.scale-o})}else this.transform(this.scale),this.doZoom({scale:this.scale})}},zoomAnimationStep:function(){var t=this.$.animator.baseScale+this.$.animator.deltaScale*this.$.animator.value;return this.transform(t),!0},zoomAnimationEnd:function(){return this.stabilize(),this.doZoom({scale:this.scale}),this.$.animator.ratioLock=void 0,!0},positionClientControls:function(t){this.waterfallDown("onPositionPin",{scale:t,bounds:this.bounds})}})})(enyo,this);

// lib\layout\imageview\source\ImageViewPin.js
(function(t){t.kind({name:"enyo.ImageViewPin",kind:"enyo.Control",published:{highlightAnchorPoint:!1,anchor:{top:0,left:0},position:{top:0,left:0}},style:"position:absolute;z-index:1000;width:0px;height:0px;",handlers:{onPositionPin:"reAnchor"},create:t.inherit(function(t){return function(){t.apply(this,arguments),this.styleClientControls(),this.positionClientControls(),this.highlightAnchorPointChanged(),this.anchorChanged()}}),styleClientControls:function(){for(var t=this.getClientControls(),e=0;t.length>e;e++)t[e].applyStyle("position","absolute")},positionClientControls:function(){for(var t=this.getClientControls(),e=0;t.length>e;e++)for(var i in this.position)t[e].applyStyle(i,this.position[i]+"px")},highlightAnchorPointChanged:function(){this.addRemoveClass("pinDebug",this.highlightAnchorPoint)},anchorChanged:function(){var t=null,e=null;for(e in this.anchor)t=(""+this.anchor[e]).match(/^(\d+(?:\.\d+)?)(.*)$/),t&&(this.anchor[e+"Coords"]={value:t[1],units:t[2]||"px"})},reAnchor:function(t,e){var i=e.scale,n=e.bounds,o=this.anchor.right?"px"==this.anchor.rightCoords.units?n.width+n.x-this.anchor.rightCoords.value*i:n.width*(100-this.anchor.rightCoords.value)/100+n.x:"px"==this.anchor.leftCoords.units?this.anchor.leftCoords.value*i+n.x:n.width*this.anchor.leftCoords.value/100+n.x,s=this.anchor.bottom?"px"==this.anchor.bottomCoords.units?n.height+n.y-this.anchor.bottomCoords.value*i:n.height*(100-this.anchor.bottomCoords.value)/100+n.y:"px"==this.anchor.topCoords.units?this.anchor.topCoords.value*i+n.y:n.height*this.anchor.topCoords.value/100+n.y;this.applyStyle("left",o+"px"),this.applyStyle("top",s+"px")}})})(enyo,this);

// lib\layout\imageview\source\ImageView.js
(function(t){t.kind({name:"enyo.ImageView",kind:"enyo.PanZoomView",subKindComponents:[{kind:"Image",ondown:"down",style:"vertical-align: text-top;"}],create:t.inherit(function(e){return function(){this.unscaledComponents=this.components,this.components=[],this.kindComponents[1].components[0].components=this.subKindComponents,e.apply(this,arguments),this.$.content.applyStyle("display","inline-block"),this.bufferImage=new Image,this.bufferImage.onload=t.bind(this,"imageLoaded"),this.bufferImage.onerror=t.bind(this,"imageError"),this.srcChanged(),this.getStrategy().$.scrollMath&&this.getStrategy().$.scrollMath.start()}}),destroy:t.inherit(function(t){return function(){this.bufferImage&&(this.bufferImage.onerror=void 0,this.bufferImage.onerror=void 0,delete this.bufferImage),t.apply(this,arguments)}}),down:function(t,e){e.preventDefault()},srcChanged:function(){this.src&&this.src.length>0&&this.bufferImage&&this.src!=this.bufferImage.src&&(this.bufferImage.src=this.src)},imageLoaded:function(){if(this.scale=this.scaleKeyword,this.originalWidth=this.contentWidth=this.bufferImage.width,this.originalHeight=this.contentHeight=this.bufferImage.height,this.scaleChanged(),this.$.image.setSrc(this.bufferImage.src),t.platform.safari){var e=this.$.image.hasNode(),i=this.bufferImage.src;e&&setTimeout(function(){e.src=i},100)}t.dom.transformValue(this.getStrategy().$.client,"translate3d","0px, 0px, 0"),this.positionClientControls(this.scale),this.align()},imageError:function(e){t.error("Error loading image: "+this.src),this.bubble("onerror",e)}})})(enyo,this);

// lib\layout\imageview\source\ImageCarousel.js
(function(t){t.kind({name:"enyo.ImageCarousel",kind:"enyo.Panels",arrangerKind:"enyo.CarouselArranger",defaultScale:"auto",disableZoom:!1,lowMemory:!1,published:{images:[]},handlers:{onTransitionStart:"transitionStart",onTransitionFinish:"transitionFinish"},create:t.inherit(function(t){return function(){t.apply(this,arguments),this.imageCount=this.images.length,this.images.length>0&&(this.initContainers(),this.loadNearby())}}),initContainers:function(){for(var t=0;this.images.length>t;t++)this.$["container"+t]||(this.createComponent({name:"container"+t,style:"height:100%; width:100%;"}),this.$["container"+t].render());for(t=this.images.length;this.imageCount>t;t++)this.$["image"+t]&&this.$["image"+t].destroy(),this.$["container"+t].destroy();this.imageCount=this.images.length},loadNearby:function(){var t=this.getBufferRange();for(var e in t)this.loadImageView(t[e])},getBufferRange:function(){var t=[];if(this.layout.containerBounds){var e,i,n,o,s=1,r=this.layout.containerBounds;for(i=this.index-1,n=0,o=r.width*s;i>=0&&o>=n;)e=this.$["container"+i],n+=e.width+e.marginWidth,t.unshift(i),i--;for(i=this.index,n=0,o=r.width*(s+1);this.images.length>i&&o>=n;)e=this.$["container"+i],n+=e.width+e.marginWidth,t.push(i),i++}return t},reflow:t.inherit(function(t){return function(){t.apply(this,arguments),this.loadNearby()}}),loadImageView:function(t){return this.wrap&&(t=(t%this.images.length+this.images.length)%this.images.length),t>=0&&this.images.length-1>=t&&(this.$["image"+t]?this.$["image"+t].src!=this.images[t]&&(this.$["image"+t].setSrc(this.images[t]),this.$["image"+t].setScale(this.defaultScale),this.$["image"+t].setDisableZoom(this.disableZoom)):(this.$["container"+t].createComponent({name:"image"+t,kind:"ImageView",scale:this.defaultScale,disableZoom:this.disableZoom,src:this.images[t],verticalDragPropagation:!1,style:"height:100%; width:100%;"},{owner:this}),this.$["image"+t].render())),this.$["image"+t]},setImages:function(t){this.set("images",t)},imagesChanged:function(){this.initContainers(),this.loadNearby()},indexChanged:t.inherit(function(t){return function(){this.loadNearby(),this.lowMemory&&this.cleanupMemory(),t.apply(this,arguments)}}),transitionStart:function(t,e){return e.fromIndex==e.toIndex?!0:void 0},transitionFinish:function(){this.loadNearby(),this.lowMemory&&this.cleanupMemory()},getActiveImage:function(){return this.getImageByIndex(this.index)},getImageByIndex:function(t){return this.$["image"+t]||this.loadImageView(t)},cleanupMemory:function(){for(var e=this.getBufferRange(),i=0;this.images.length>i;i++)-1===t.indexOf(i,e)&&this.$["image"+i]&&this.$["image"+i].destroy()}})})(enyo,this);

// lib\onyx\version.js
(function(t){t&&t.version&&(t.version.onyx="2.5.1")})(enyo,this);

// lib\onyx\source\Icon.js
(function(t){t.kind({name:"onyx.Icon",classes:"onyx-icon",published:{src:"",disabled:!1},create:function(){this.inherited(arguments),this.src&&this.srcChanged(),this.disabledChanged()},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)},srcChanged:function(){this.applyStyle("background-image","url("+t.path.rewrite(this.src)+")")}})})(enyo,this);

// lib\onyx\source\Button.js
(function(t){t.kind({name:"onyx.Button",kind:"enyo.Button",classes:"onyx-button enyo-unselectable",handlers:{ondown:"down",onenter:"enter",ondragfinish:"dragfinish",onleave:"leave",onup:"up"},down:function(){return this.disabled?!0:(this.addClass("pressed"),this._isPressed=!0,void 0)},enter:function(){return this.disabled?!0:(this._isPressed&&this.addClass("pressed"),void 0)},dragfinish:function(){return this.disabled?!0:(this.removeClass("pressed"),this._isPressed=!1,void 0)},leave:function(){return this.disabled?!0:(this.removeClass("pressed"),void 0)},up:function(){return this.disabled?!0:(this.removeClass("pressed"),this._isPressed=!1,void 0)}})})(enyo,this);

// lib\onyx\source\IconButton.js
(function(t){t.kind({name:"onyx.IconButton",kind:"onyx.Icon",published:{active:!1},classes:"onyx-icon-button",handlers:{ondown:"down",onenter:"enter",ondragfinish:"dragfinish",onleave:"leave",onup:"up"},rendered:function(){this.inherited(arguments),this.activeChanged()},tap:function(){return this.disabled?!0:(this.setActive(!0),void 0)},down:function(){return this.disabled?!0:(this.addClass("pressed"),this._isPressed=!0,void 0)},enter:function(){return this.disabled?!0:(this._isPressed&&this.addClass("pressed"),void 0)},dragfinish:function(){return this.disabled?!0:(this.removeClass("pressed"),this._isPressed=!1,void 0)},leave:function(){return this.disabled?!0:(this.removeClass("pressed"),void 0)},up:function(){return this.disabled?!0:(this.removeClass("pressed"),this._isPressed=!1,void 0)},activeChanged:function(){this.bubble("onActivate")}})})(enyo,this);

// lib\onyx\source\Checkbox.js
(function(t){t.kind({name:"onyx.Checkbox",classes:"onyx-checkbox",kind:"enyo.Checkbox",tag:"div",handlers:{onclick:""},tap:function(){return this.disabled||(this.setChecked(!this.getChecked()),this.bubble("onchange")),!this.disabled},dragstart:t.nop})})(enyo,this);

// lib\onyx\source\Drawer.js
(function(t){t.kind({name:"onyx.Drawer",kind:"enyo.Drawer"})})(enyo,this);

// lib\onyx\source\Grabber.js
(function(t){t.kind({name:"onyx.Grabber",classes:"onyx-grabber"})})(enyo,this);

// lib\onyx\source\Groupbox.js
(function(t){t.kind({name:"onyx.Groupbox",classes:"onyx-groupbox"}),t.kind({name:"onyx.GroupboxHeader",classes:"onyx-groupbox-header"})})(enyo,this);

// lib\onyx\source\Input.js
(function(t){t.kind({name:"onyx.Input",kind:"enyo.Input",classes:"onyx-input"})})(enyo,this);

// lib\onyx\source\Popup.js
(function(t){t.kind({name:"onyx.Popup",kind:"enyo.Popup",classes:"onyx-popup"})})(enyo,this);

// lib\onyx\source\TextArea.js
(function(t){t.kind({name:"onyx.TextArea",kind:"enyo.TextArea",classes:"onyx-textarea"})})(enyo,this);

// lib\onyx\source\RichText.js
(function(t){t.kind({name:"onyx.RichText",kind:"enyo.RichText",classes:"onyx-richtext"})})(enyo,this);

// lib\onyx\source\InputDecorator.js
(function(t){t.kind({name:"onyx.InputDecorator",kind:"enyo.ToolDecorator",tag:"label",classes:"onyx-input-decorator",published:{alwaysLooksFocused:!1},handlers:{onDisabledChange:"disabledChange",onfocus:"receiveFocus",onblur:"receiveBlur"},create:function(){this.inherited(arguments),this.updateFocus(!1)},alwaysLooksFocusedChanged:function(){this.updateFocus(this.focus)},updateFocus:function(t){this.focused=t,this.addRemoveClass("onyx-focused",this.alwaysLooksFocused||this.focused)},receiveFocus:function(){this.updateFocus(!0)},receiveBlur:function(){this.updateFocus(!1)},disabledChange:function(t,e){this.addRemoveClass("onyx-disabled",e.originator.disabled)}})})(enyo,this);

// lib\onyx\source\Tooltip.js
(function(t){t.kind({name:"onyx.Tooltip",kind:"onyx.Popup",classes:"onyx-tooltip below left-arrow",autoDismiss:!1,showDelay:500,defaultLeft:-6,handlers:{onRequestShowTooltip:"requestShow",onRequestHideTooltip:"requestHide"},requestShow:function(){return this.showJob=setTimeout(this.bindSafely("show"),this.showDelay),!0},cancelShow:function(){clearTimeout(this.showJob)},requestHide:function(){return this.cancelShow(),this.inherited(arguments)},showingChanged:function(){this.cancelShow(),this.adjustPosition(!0),this.inherited(arguments)},applyPosition:function(t){var e="";for(var i in t)e+=i+":"+t[i]+(isNaN(t[i])?"; ":"px; ");this.addStyles(e)},adjustPosition:function(){if(this.showing&&this.hasNode()){var t=this.node.getBoundingClientRect();t.top+t.height>window.innerHeight?(this.addRemoveClass("below",!1),this.addRemoveClass("above",!0)):(this.addRemoveClass("above",!1),this.addRemoveClass("below",!0)),t.left+t.width>window.innerWidth&&(this.applyPosition({"margin-left":-t.width,bottom:"auto"}),this.addRemoveClass("left-arrow",!1),this.addRemoveClass("right-arrow",!0))}},handleResize:function(){this.applyPosition({"margin-left":this.defaultLeft,bottom:"auto"}),this.addRemoveClass("left-arrow",!0),this.addRemoveClass("right-arrow",!1),this.adjustPosition(!0),this.inherited(arguments)}})})(enyo,this);

// lib\onyx\source\TooltipDecorator.js
(function(t){t.kind({name:"onyx.TooltipDecorator",kind:"enyo.Control",defaultKind:"onyx.Button",classes:"onyx-popup-decorator",handlers:{onenter:"enter",onleave:"leave"},enter:function(){this.requestShowTooltip()},leave:function(){this.requestHideTooltip()},tap:function(){this.requestHideTooltip()},requestShowTooltip:function(){this.waterfallDown("onRequestShowTooltip")},requestHideTooltip:function(){this.waterfallDown("onRequestHideTooltip")}})})(enyo,this);

// lib\onyx\source\MenuDecorator.js
(function(t){t.kind({name:"onyx.MenuDecorator",kind:"onyx.TooltipDecorator",defaultKind:"onyx.Button",classes:"onyx-popup-decorator enyo-unselectable",handlers:{onActivate:"activated",onHide:"menuHidden"},activated:function(t,e){this.requestHideTooltip(),e.originator.active&&(this.menuActive=!0,this.activator=e.originator,this.activator.addClass("active"),this.requestShowMenu())},requestShowMenu:function(){this.waterfallDown("onRequestShowMenu",{activator:this.activator})},requestHideMenu:function(){this.waterfallDown("onRequestHideMenu")},menuHidden:function(){this.menuActive=!1,this.activator&&(this.activator.setActive(!1),this.activator.removeClass("active"))},enter:function(){this.menuActive||this.inherited(arguments)},leave:function(){this.menuActive||this.inherited(arguments)}})})(enyo,this);

// lib\onyx\source\Menu.js
(function(t){t.kind({name:"onyx.Menu",kind:"onyx.Popup",modal:!0,defaultKind:"onyx.MenuItem",classes:"onyx-menu",published:{maxHeight:200,scrolling:!0,scrollStrategyKind:"TouchScrollStrategy"},handlers:{onActivate:"itemActivated",onRequestShowMenu:"requestMenuShow",onRequestHideMenu:"requestHide"},childComponents:[{name:"client",kind:"enyo.Scroller"}],showOnTop:!1,scrollerName:"client",create:function(){this.inherited(arguments),this.maxHeightChanged()},initComponents:function(){this.scrolling&&this.createComponents(this.childComponents,{isChrome:!0,strategyKind:this.scrollStrategyKind}),this.inherited(arguments)},getScroller:function(){return this.$[this.scrollerName]},maxHeightChanged:function(){this.scrolling&&this.getScroller().setMaxHeight(this.maxHeight+"px")},itemActivated:function(t,e){return e.originator.setActive(!1),!0},showingChanged:function(){this.inherited(arguments),this.scrolling&&this.getScroller().setShowing(this.showing),this.adjustPosition(!0)},requestMenuShow:function(t,e){if(this.floating){var i=e.activator.hasNode();if(i){var n=this.activatorOffset=this.getPageOffset(i);this.applyPosition({top:n.top+(this.showOnTop?0:n.height),left:n.left,width:n.width})}}return this.show(),!0},applyPosition:function(t){var e="";for(var i in t)e+=i+":"+t[i]+(isNaN(t[i])?"; ":"px; ");this.addStyles(e)},getPageOffset:function(t){var e=t.getBoundingClientRect(),i=void 0===window.pageYOffset?document.documentElement.scrollTop:window.pageYOffset,n=void 0===window.pageXOffset?document.documentElement.scrollLeft:window.pageXOffset,o=void 0===e.height?e.bottom-e.top:e.height,s=void 0===e.width?e.right-e.left:e.width;return{top:e.top+i,left:e.left+n,height:o,width:s}},adjustPosition:function(){if(this.showing&&this.hasNode()){this.scrolling&&!this.showOnTop&&this.getScroller().setMaxHeight(this.maxHeight+"px"),this.removeClass("onyx-menu-up"),this.floating||this.applyPosition({left:"auto"});var t=this.node.getBoundingClientRect(),e=void 0===t.height?t.bottom-t.top:t.height,i=void 0===window.innerHeight?document.documentElement.clientHeight:window.innerHeight,n=void 0===window.innerWidth?document.documentElement.clientWidth:window.innerWidth;if(this.menuUp=t.top+e>i&&i-t.bottom<t.top-e,this.addRemoveClass("onyx-menu-up",this.menuUp),this.floating){var o=this.activatorOffset;this.menuUp?this.applyPosition({top:o.top-e+(this.showOnTop?o.height:0),bottom:"auto"}):t.top<o.top&&i>o.top+(this.showOnTop?0:o.height)+e&&this.applyPosition({top:o.top+(this.showOnTop?0:o.height),bottom:"auto"})}if(t.right>n&&(this.floating?this.applyPosition({left:n-t.width}):this.applyPosition({left:-(t.right-n)})),0>t.left&&(this.floating?this.applyPosition({left:0,right:"auto"}):"auto"==this.getComputedStyleValue("right")?this.applyPosition({left:-t.left}):this.applyPosition({right:t.left})),this.scrolling&&!this.showOnTop){t=this.node.getBoundingClientRect();var s;s=this.menuUp?this.maxHeight<t.bottom?this.maxHeight:t.bottom:i>t.top+this.maxHeight?this.maxHeight:i-t.top,this.getScroller().setMaxHeight(s+"px")}}},handleResize:function(){this.inherited(arguments),this.adjustPosition()},requestHide:function(){this.setShowing(!1)}})})(enyo,this);

// lib\onyx\source\MenuItem.js
(function(t){t.kind({name:"onyx.MenuItem",kind:"enyo.Button",events:{onSelect:"",onItemContentChange:""},classes:"onyx-menu-item",tag:"div",create:function(){this.silence(),this.inherited(arguments),this.unsilence(),this.active&&this.bubble("onActivate")},tap:function(){this.inherited(arguments),this.bubble("onRequestHideMenu"),this.doSelect({selected:this,content:this.content})},contentChanged:function(){this.inherited(arguments),this.doItemContentChange({content:this.content})}})})(enyo,this);

// lib\onyx\source\Submenu.js
(function(t){t.kind({name:"onyx.Submenu",defaultKind:"onyx.MenuItem",initComponents:function(){this.createChrome([{name:"label",kind:"enyo.Control",classes:"onyx-menu-item",content:this.content||this.name,isChrome:!0,ontap:"toggleOpen"},{kind:"onyx.Drawer",name:"client",classes:"client onyx-submenu",isChrome:!0,open:!1}]),this.inherited(arguments)},toggleOpen:function(){this.setOpen(!this.getOpen())},setOpen:function(t){this.$.client.setOpen(t)},getOpen:function(){return this.$.client.getOpen()}})})(enyo,this);

// lib\onyx\source\PickerDecorator.js
(function(t){t.kind({name:"onyx.PickerDecorator",kind:"onyx.MenuDecorator",classes:"onyx-picker-decorator",defaultKind:"onyx.PickerButton",handlers:{onChange:"change"},change:function(t,e){this.waterfallDown("onChange",e)}})})(enyo,this);

// lib\onyx\source\PickerButton.js
(function(t){t.kind({name:"onyx.PickerButton",kind:"onyx.Button",handlers:{onChange:"change"},change:function(t,e){void 0!==e.content&&this.setContent(e.content)}})})(enyo,this);

// lib\onyx\source\Picker.js
(function(t){t.kind({name:"onyx.Picker",kind:"onyx.Menu",classes:"onyx-picker enyo-unselectable",published:{selected:null},events:{onChange:""},handlers:{onItemContentChange:"itemContentChange"},floating:!0,showOnTop:!0,initComponents:function(){this.setScrolling(!0),this.inherited(arguments)},showingChanged:function(){this.getScroller().setShowing(this.showing),this.inherited(arguments),this.showing&&this.selected&&this.scrollToSelected()},scrollToSelected:function(){this.getScroller().scrollToControl(this.selected,!this.menuUp)},itemActivated:function(t,e){return this.processActivatedItem(e.originator),this.inherited(arguments)},processActivatedItem:function(t){t.active&&this.setSelected(t)},selectedChanged:function(t){t&&t.removeClass("selected"),this.selected&&(this.selected.addClass("selected"),this.doChange({selected:this.selected,content:this.selected.content}))},itemContentChange:function(t,e){e.originator==this.selected&&this.doChange({selected:this.selected,content:this.selected.content})},handleResize:function(){this.inherited(arguments),this.adjustPosition()}})})(enyo,this);

// lib\onyx\source\FlyweightPicker.js
(function(t){t.kind({name:"onyx.FlyweightPicker",kind:"onyx.Picker",classes:"onyx-flyweight-picker",published:{count:0},events:{onSetupItem:"",onSelect:""},handlers:{onSelect:"itemSelect"},components:[{name:"scroller",kind:"enyo.Scroller",strategyKind:"TouchScrollStrategy",components:[{name:"flyweight",kind:"FlyweightRepeater",noSelect:!0,ontap:"itemTap"}]}],scrollerName:"scroller",initComponents:function(){this.controlParentName="flyweight",this.inherited(arguments),this.$.flyweight.$.client.children[0].setActive(!0)},create:function(){this.inherited(arguments),this.countChanged()},rendered:function(){this.inherited(arguments),this.selectedChanged()},scrollToSelected:function(){var t=this.$.flyweight.fetchRowNode(this.selected);this.getScroller().scrollToNode(t,!this.menuUp)},countChanged:function(){this.$.flyweight.count=this.count},processActivatedItem:function(t){this.item=t},selectedChanged:function(t){if(this.item){null!=t&&(this.item.removeClass("selected"),this.$.flyweight.renderRow(t));var e;null!=this.selected&&(this.item.addClass("selected"),this.$.flyweight.renderRow(this.selected),this.item.removeClass("selected"),e=this.$.flyweight.fetchRowNode(this.selected)),this.doChange({selected:this.selected,content:e&&e.textContent||this.item.content})}},itemTap:function(t,e){this.setSelected(e.rowIndex),this.doSelect({selected:this.item,content:this.item.content})},itemSelect:function(t,e){return e.originator!=this?!0:void 0}})})(enyo,this);

// lib\onyx\source\DatePicker.js
(function(t,e){t.kind({name:"onyx.DatePicker",classes:"onyx-toolbar-inline",published:{disabled:!1,locale:"en-US",dayHidden:!1,monthHidden:!1,yearHidden:!1,minYear:1900,maxYear:2099,value:null},events:{onSelect:""},create:function(){this.inherited(arguments),e.ilib&&(this.locale=e.ilib.getLocale()),this.initDefaults()},initDefaults:function(){var t;e.ilib?(t=[],this._tf=new e.ilib.DateFmt({locale:this.locale,timezone:"local"}),t=this._tf.getMonthsOfYear({length:"long"})):t=[void 0,"JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],this.setupPickers(this._tf?this._tf.getTemplate():"mdy"),this.dayHiddenChanged(),this.monthHiddenChanged(),this.yearHiddenChanged();for(var i,n=this.value=this.value||new Date,o=0;i=t[o+1];o++)this.$.monthPicker.createComponent({content:i,value:o,active:o==n.getMonth()});var s=n.getFullYear();for(this.$.yearPicker.setSelected(s-this.minYear),o=1;this.monthLength(n.getYear(),n.getMonth())>=o;o++)this.$.dayPicker.createComponent({content:o,value:o,active:o==n.getDate()})},monthLength:function(t,e){return 32-new Date(t,e,32).getDate()},setupYear:function(t,e){return this.$.year.setContent(this.minYear+e.index),!0},setupPickers:function(t){var e,i,n,o=t.split(""),s=!1,a=!1,r=!1;for(i=0,n=o.length;n>i;i++)switch(e=o[i],e.toLowerCase()){case"d":r||(this.createDay(),r=!0);break;case"m":a||(this.createMonth(),a=!0);break;case"y":s||(this.createYear(),s=!0);break;default:}},createYear:function(){var t=this.maxYear-this.minYear;this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateYear",components:[{classes:"onyx-datepicker-year",name:"yearPickerButton",disabled:this.disabled},{name:"yearPicker",kind:"onyx.FlyweightPicker",count:++t,onSetupItem:"setupYear",components:[{name:"year"}]}]})},createMonth:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateMonth",components:[{classes:"onyx-datepicker-month",name:"monthPickerButton",disabled:this.disabled},{name:"monthPicker",kind:"onyx.Picker"}]})},createDay:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateDay",components:[{classes:"onyx-datepicker-day",name:"dayPickerButton",disabled:this.disabled},{name:"dayPicker",kind:"onyx.Picker"}]})},localeChanged:function(){this.refresh()},dayHiddenChanged:function(){this.$.dayPicker.getParent().setShowing(this.dayHidden?!1:!0)},monthHiddenChanged:function(){this.$.monthPicker.getParent().setShowing(this.monthHidden?!1:!0)},yearHiddenChanged:function(){this.$.yearPicker.getParent().setShowing(this.yearHidden?!1:!0)},minYearChanged:function(){this.refresh()},maxYearChanged:function(){this.refresh()},valueChanged:function(){this.refresh()},disabledChanged:function(){this.$.yearPickerButton.setDisabled(this.disabled),this.$.monthPickerButton.setDisabled(this.disabled),this.$.dayPickerButton.setDisabled(this.disabled)},updateDay:function(t,e){var i=this.calcDate(this.value.getFullYear(),this.value.getMonth(),e.selected.value);return this.doSelect({name:this.name,value:i}),this.setValue(i),!0},updateMonth:function(t,e){var i=this.calcDate(this.value.getFullYear(),e.selected.value,this.value.getDate());return this.doSelect({name:this.name,value:i}),this.setValue(i),!0},updateYear:function(t,e){if(-1!=e.originator.selected){var i=this.calcDate(this.minYear+e.originator.selected,this.value.getMonth(),this.value.getDate());this.doSelect({name:this.name,value:i}),this.setValue(i)}return!0},calcDate:function(t,e,i){return new Date(t,e,i,this.value.getHours(),this.value.getMinutes(),this.value.getSeconds(),this.value.getMilliseconds())},refresh:function(){this.destroyClientControls(),this.initDefaults(),this.render()}})})(enyo,this);

// lib\onyx\source\TimePicker.js
(function(t,e){t.kind({name:"onyx.TimePicker",classes:"onyx-toolbar-inline",published:{disabled:!1,locale:"en-US",is24HrMode:null,value:null},events:{onSelect:""},create:function(){this.inherited(arguments),e.ilib&&(this.locale=e.ilib.getLocale()),this.initDefaults()},initDefaults:function(){if(this._strAm="AM",this._strPm="PM",e.ilib){this._tf=new e.ilib.DateFmt({locale:this.locale});var t=new e.ilib.DateFmt({locale:this.locale,type:"time",template:"a"}),i=e.ilib.Date.newInstance({locale:this.locale,hour:1});this._strAm=t.format(i),i.hour=13,this._strPm=t.format(i),null==this.is24HrMode&&(this.is24HrMode="24"==this._tf.getClock())}else null==this.is24HrMode&&(this.is24HrMode=!1);this.setupPickers(this._tf?this._tf.getTimeComponents():"hma");var n,o=this.value=this.value||new Date;if(this.is24HrMode)for(n=0;24>n;n++)this.$.hourPicker.createComponent({content:n,value:n,active:n==o.getHours()});else{var s=o.getHours();for(s=0===s?12:s,n=1;12>=n;n++)this.$.hourPicker.createComponent({content:n,value:n,active:n==(s>12?s%12:s)})}for(n=0;59>=n;n++)this.$.minutePicker.createComponent({content:10>n?"0"+n:n,value:n,active:n==o.getMinutes()});o.getHours()>=12?this.$.ampmPicker.createComponents([{content:this._strAm},{content:this._strPm,active:!0}]):this.$.ampmPicker.createComponents([{content:this._strAm,active:!0},{content:this._strPm}]),this.$.ampmPicker.getParent().setShowing(!this.is24HrMode)},setupPickers:function(t){-1!==t.indexOf("h")&&this.createHour(),-1!==t.indexOf("m")&&this.createMinute(),-1!==t.indexOf("a")&&this.createAmPm()},createHour:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateHour",components:[{classes:"onyx-timepicker-hour",name:"hourPickerButton",disabled:this.disabled},{name:"hourPicker",kind:"onyx.Picker"}]})},createMinute:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateMinute",components:[{classes:"onyx-timepicker-minute",name:"minutePickerButton",disabled:this.disabled},{name:"minutePicker",kind:"onyx.Picker"}]})},createAmPm:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateAmPm",components:[{classes:"onyx-timepicker-ampm",name:"ampmPickerButton",disabled:this.disabled},{name:"ampmPicker",kind:"onyx.Picker"}]})},disabledChanged:function(){this.$.hourPickerButton.setDisabled(this.disabled),this.$.minutePickerButton.setDisabled(this.disabled),this.$.ampmPickerButton.setDisabled(this.disabled)},localeChanged:function(){this.is24HrMode=null,this.refresh()},is24HrModeChanged:function(){this.refresh()},valueChanged:function(){this.refresh()},updateHour:function(t,e){var i=e.selected.value;if(!this.is24HrMode){var n=this.$.ampmPicker.getParent().controlAtIndex(0).content;i=i+(12==i?-12:0)+(this.isAm(n)?0:12)}return this.setValue(this.calcTime(i,this.value.getMinutes())),this.doSelect({name:this.name,value:this.value}),!0},updateMinute:function(t,e){return this.setValue(this.calcTime(this.value.getHours(),e.selected.value)),this.doSelect({name:this.name,value:this.value}),!0},updateAmPm:function(t,e){var i=this.value.getHours();return this.is24HrMode||(i+=i>11?this.isAm(e.content)?-12:0:this.isAm(e.content)?0:12),this.setValue(this.calcTime(i,this.value.getMinutes())),this.doSelect({name:this.name,value:this.value}),!0},calcTime:function(t,e){return new Date(this.value.getFullYear(),this.value.getMonth(),this.value.getDate(),t,e,this.value.getSeconds(),this.value.getMilliseconds())},isAm:function(t){return t==this._strAm?!0:!1},refresh:function(){this.destroyClientControls(),this.initDefaults(),this.render()}})})(enyo,this);

// lib\onyx\source\RadioButton.js
(function(t){t.kind({name:"onyx.RadioButton",kind:"enyo.Button",classes:"onyx-radiobutton"})})(enyo,this);

// lib\onyx\source\RadioGroup.js
(function(t){t.kind({name:"onyx.RadioGroup",kind:"enyo.Group",defaultKind:"onyx.RadioButton",highlander:!0})})(enyo,this);

// lib\onyx\source\ToggleButton.js
(function(t){t.kind({name:"onyx.ToggleButton",classes:"onyx-toggle-button",published:{active:!1,value:!1,onContent:"On",offContent:"Off",disabled:!1},events:{onChange:""},handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},components:[{name:"contentOn",classes:"onyx-toggle-content on"},{name:"contentOff",classes:"onyx-toggle-content off"},{classes:"onyx-toggle-button-knob"}],create:function(){this.inherited(arguments),this.value=Boolean(this.value||this.active),this.onContentChanged(),this.offContentChanged(),this.disabledChanged()},rendered:function(){this.inherited(arguments),this.updateVisualState()},updateVisualState:function(){this.addRemoveClass("off",!this.value),this.$.contentOn.setShowing(this.value),this.$.contentOff.setShowing(!this.value),this.setActive(this.value)},valueChanged:function(){this.updateVisualState(),this.doChange({value:this.value})},activeChanged:function(){this.setValue(this.active),this.bubble("onActivate")},onContentChanged:function(){this.$.contentOn.setContent(this.onContent||""),this.$.contentOn.addRemoveClass("empty",!this.onContent)},offContentChanged:function(){this.$.contentOff.setContent(this.offContent||""),this.$.contentOff.addRemoveClass("empty",!this.onContent)},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)},updateValue:function(t){this.disabled||this.setValue(t)},tap:function(){this.updateValue(!this.value)},dragstart:function(t,e){return e.horizontal?(e.preventDefault(),this.dragging=!0,this.dragged=!1,!0):void 0},drag:function(t,e){if(this.dragging){var i=e.dx;return Math.abs(i)>10&&(this.updateValue(i>0),this.dragged=!0),!0}},dragfinish:function(t,e){this.dragging=!1,this.dragged&&e.preventTap()}})})(enyo,this);

// lib\onyx\source\ToggleIconButton.js
(function(t){t.kind({name:"onyx.ToggleIconButton",kind:"onyx.Icon",published:{active:!1,value:!1},events:{onChange:""},classes:"onyx-icon-button onyx-icon-toggle",activeChanged:function(){this.addRemoveClass("active",this.value),this.bubble("onActivate")},updateValue:function(t){this.disabled||(this.setValue(t),this.doChange({value:this.value}))},tap:function(){this.updateValue(!this.value)},valueChanged:function(){this.setActive(this.value)},create:function(){this.inherited(arguments),this.value=Boolean(this.value||this.active)},rendered:function(){this.inherited(arguments),this.valueChanged(),this.removeClass("onyx-icon")}})})(enyo,this);

// lib\onyx\source\Toolbar.js
(function(t){t.kind({name:"onyx.Toolbar",classes:"onyx onyx-toolbar onyx-toolbar-inline",create:function(){this.inherited(arguments),this.hasClass("onyx-menu-toolbar")&&t.platform.android>=4&&this.applyStyle("position","static")}})})(enyo,this);

// lib\onyx\source\ProgressBar.js
(function(t){t.kind({name:"onyx.ProgressBar",classes:"onyx-progress-bar",published:{progress:0,min:0,max:100,barClasses:"",showStripes:!0,animateStripes:!0,increment:0},events:{onAnimateProgressFinish:""},components:[{name:"progressAnimator",kind:"enyo.Animator",onStep:"progressAnimatorStep",onEnd:"progressAnimatorComplete"},{name:"bar",classes:"onyx-progress-bar-bar"}],create:function(){this.inherited(arguments),this.progressChanged(),this.barClassesChanged(),this.showStripesChanged(),this.animateStripesChanged()},barClassesChanged:function(t){this.$.bar.removeClass(t),this.$.bar.addClass(this.barClasses)},showStripesChanged:function(){this.$.bar.addRemoveClass("striped",this.showStripes)},animateStripesChanged:function(){this.$.bar.addRemoveClass("animated",this.animateStripes)},progressChanged:function(){this.progress=this.clampValue(this.min,this.max,this.progress);var t=this.calcPercent(this.progress);this.updateBarPosition(t)},calcIncrement:function(t){return Math.round(t/this.increment)*this.increment},clampValue:function(t,e,i){return Math.max(t,Math.min(i,e))},calcRatio:function(t){return(t-this.min)/(this.max-this.min)},calcPercent:function(t){return 100*this.calcRatio(t)},updateBarPosition:function(t){this.$.bar.applyStyle("width",t+"%")},animateProgressTo:function(t){this.$.progressAnimator.play({startValue:this.progress,endValue:t,node:this.hasNode()})},progressAnimatorStep:function(t){return this.setProgress(t.value),!0},progressAnimatorComplete:function(t){return this.doAnimateProgressFinish(t),!0}})})(enyo,this);

// lib\onyx\source\ProgressButton.js
(function(t){t.kind({name:"onyx.ProgressButton",kind:"onyx.ProgressBar",classes:"onyx-progress-button",events:{onCancel:""},components:[{name:"progressAnimator",kind:"enyo.Animator",onStep:"progressAnimatorStep",onEnd:"progressAnimatorComplete"},{name:"bar",classes:"onyx-progress-bar-bar onyx-progress-button-bar"},{name:"client",classes:"onyx-progress-button-client"},{kind:"onyx.Icon",src:"$lib/onyx/images/progress-button-cancel.png",classes:"onyx-progress-button-icon",ontap:"cancelTap"}],cancelTap:function(){this.doCancel()}})})(enyo,this);

// lib\onyx\source\Slider.js
(function(t){t.kind({name:"onyx.Slider",kind:"onyx.ProgressBar",classes:"onyx-slider",published:{value:0,lockBar:!0,tappable:!0},events:{onChange:"",onChanging:"",onAnimateFinish:""},showStripes:!1,handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},moreComponents:[{kind:"Animator",onStep:"animatorStep",onEnd:"animatorComplete"},{classes:"onyx-slider-taparea"},{name:"knob",classes:"onyx-slider-knob"}],create:function(){this.inherited(arguments),this.moreComponents[2].ondown="knobDown",this.moreComponents[2].onup="knobUp",this.createComponents(this.moreComponents),this.valueChanged()},valueChanged:function(){this.value=this.clampValue(this.min,this.max,this.value);var t=this.calcPercent(this.value);this.updateKnobPosition(t),this.lockBar&&this.setProgress(this.value)},updateKnobPosition:function(t){this.$.knob.applyStyle("left",t+"%")},calcKnobPosition:function(t){var e=t.clientX-this.hasNode().getBoundingClientRect().left;return e/this.getBounds().width*(this.max-this.min)+this.min},dragstart:function(t,e){return e.horizontal?(e.preventDefault(),this.dragging=!0,t.addClass("pressed"),!0):void 0},drag:function(t,e){if(this.dragging){var i=this.calcKnobPosition(e);return i=this.increment?this.calcIncrement(i):i,this.setValue(i),this.doChanging({value:this.value}),!0}},dragfinish:function(t,e){return this.dragging=!1,e.preventTap(),this.doChange({value:this.value}),t.removeClass("pressed"),!0},tap:function(t,e){if(this.tappable){var i=this.calcKnobPosition(e);return i=this.increment?this.calcIncrement(i):i,this.tapped=!0,this.animateTo(i),!0}},knobDown:function(){this.$.knob.addClass("pressed")},knobUp:function(){this.$.knob.removeClass("pressed")},animateTo:function(t){this.$.animator.play({startValue:this.value,endValue:t,node:this.hasNode()})},animatorStep:function(t){return this.setValue(t.value),!0},animatorComplete:function(t){return this.tapped&&(this.tapped=!1,this.doChange({value:this.value})),this.doAnimateFinish(t),!0}})})(enyo,this);

// lib\onyx\source\RangeSlider.js
(function(t){t.kind({name:"onyx.RangeSlider",kind:"onyx.ProgressBar",classes:"onyx-slider",published:{rangeMin:0,rangeMax:100,rangeStart:0,rangeEnd:100,beginValue:0,endValue:0},events:{onChange:"",onChanging:""},showStripes:!1,showLabels:!1,handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",ondown:"down"},moreComponents:[{name:"startKnob",classes:"onyx-slider-knob"},{name:"endKnob",classes:"onyx-slider-knob onyx-range-slider-knob"}],create:function(){this.inherited(arguments),this.createComponents(this.moreComponents),this.initControls()},rendered:function(){this.inherited(arguments);var t=this.calcPercent(this.beginValue);this.updateBarPosition(t)},initControls:function(){this.$.bar.applyStyle("position","relative"),this.refreshRangeSlider(),this.showLabels&&(this.$.startKnob.createComponent({name:"startLabel",kind:"onyx.RangeSliderKnobLabel"}),this.$.endKnob.createComponent({name:"endLabel",kind:"onyx.RangeSliderKnobLabel"})),this.$.startKnob.ondown="knobDown",this.$.startKnob.onup="knobUp",this.$.endKnob.ondown="knobDown",this.$.endKnob.onup="knobUp"},refreshRangeSlider:function(){this.beginValue=this.calcKnobPercent(this.rangeStart),this.endValue=this.calcKnobPercent(this.rangeEnd),this.beginValueChanged(),this.endValueChanged()},calcKnobRatio:function(t){return(t-this.rangeMin)/(this.rangeMax-this.rangeMin)},calcKnobPercent:function(t){return 100*this.calcKnobRatio(t)},beginValueChanged:function(t){if(void 0===t){var e=this.calcPercent(this.beginValue);this.updateKnobPosition(e,this.$.startKnob)}},endValueChanged:function(t){if(void 0===t){var e=this.calcPercent(this.endValue);this.updateKnobPosition(e,this.$.endKnob)}},calcKnobPosition:function(t){var e=t.clientX-this.hasNode().getBoundingClientRect().left;return e/this.getBounds().width*(this.max-this.min)+this.min},updateKnobPosition:function(t,e){e.applyStyle("left",t+"%"),this.updateBarPosition()},updateBarPosition:function(){if(void 0!==this.$.startKnob&&void 0!==this.$.endKnob){var t=this.calcKnobPercent(this.rangeStart),e=this.calcKnobPercent(this.rangeEnd)-t;this.$.bar.applyStyle("left",t+"%"),this.$.bar.applyStyle("width",e+"%")}},calcRangeRatio:function(t){return t/100*(this.rangeMax-this.rangeMin)+this.rangeMin-this.increment/2},swapZIndex:function(t){"startKnob"===t?(this.$.startKnob.applyStyle("z-index",1),this.$.endKnob.applyStyle("z-index",0)):"endKnob"===t&&(this.$.startKnob.applyStyle("z-index",0),this.$.endKnob.applyStyle("z-index",1))},down:function(t){this.swapZIndex(t.name)},dragstart:function(t,e){return e.horizontal?(e.preventDefault(),this.dragging=!0,t.addClass("pressed"),!0):void 0},drag:function(t,e){if(this.dragging){var i,n,o,s=this.calcKnobPosition(e);if("startKnob"===t.name&&s>=0){if(!(this.endValue>=s&&-1===e.xDirection||this.endValue>=s))return this.drag(this.$.endKnob,e);this.setBeginValue(s),i=this.calcRangeRatio(this.beginValue),n=this.increment?this.calcIncrement(i+.5*this.increment):i,o=this.calcKnobPercent(n),this.updateKnobPosition(o,this.$.startKnob),this.setRangeStart(n),this.doChanging({value:n})}else if("endKnob"===t.name&&100>=s){if(!(s>=this.beginValue&&1===e.xDirection||s>=this.beginValue))return this.drag(this.$.startKnob,e);this.setEndValue(s),i=this.calcRangeRatio(this.endValue),n=this.increment?this.calcIncrement(i+.5*this.increment):i,o=this.calcKnobPercent(n),this.updateKnobPosition(o,this.$.endKnob),this.setRangeEnd(n),this.doChanging({value:n})}return!0}},dragfinish:function(t,e){this.dragging=!1,e.preventTap();var i;return"startKnob"===t.name?(i=this.calcRangeRatio(this.beginValue),this.doChange({value:i,startChanged:!0})):"endKnob"===t.name&&(i=this.calcRangeRatio(this.endValue),this.doChange({value:i,startChanged:!1})),t.removeClass("pressed"),!0},knobDown:function(t){t.addClass("pressed")},knobUp:function(t){t.removeClass("pressed")},rangeMinChanged:function(){this.refreshRangeSlider()},rangeMaxChanged:function(){this.refreshRangeSlider()},rangeStartChanged:function(){this.refreshRangeSlider()},rangeEndChanged:function(){this.refreshRangeSlider()},setStartLabel:function(t){this.$.startKnob.waterfallDown("onSetLabel",t)},setEndLabel:function(t){this.$.endKnob.waterfallDown("onSetLabel",t)}}),t.kind({name:"onyx.RangeSliderKnobLabel",classes:"onyx-range-slider-label",handlers:{onSetLabel:"setLabel"},setLabel:function(t,e){this.setContent(e)}})})(enyo,this);

// lib\onyx\source\Item.js
(function(t){t.kind({name:"onyx.Item",classes:"onyx-item",published:{tapHighlight:!0},handlers:{onhold:"hold",onrelease:"release"},hold:function(t,e){this.tapHighlight&&onyx.Item.addRemoveFlyweightClass(this.controlParent||this,"onyx-highlight",!0,e)},release:function(t,e){this.tapHighlight&&onyx.Item.addRemoveFlyweightClass(this.controlParent||this,"onyx-highlight",!1,e)},statics:{addRemoveFlyweightClass:function(t,e,i,n,o){var s=n.flyweight;s&&(o=void 0!==o?o:n.index,s.performOnRow(o,function(){t.addRemoveClass(e,i)}))}}})})(enyo,this);

// lib\onyx\source\Spinner.js
(function(t){t.kind({name:"onyx.Spinner",classes:"onyx-spinner",stop:function(){this.setShowing(!1)},start:function(){this.setShowing(!0)},toggle:function(){this.setShowing(!this.getShowing())}})})(enyo,this);

// lib\onyx\source\MoreToolbar.js
(function(t){t.kind({name:"onyx.MoreToolbar",classes:"onyx-toolbar onyx-more-toolbar",menuClass:"",movedClass:"",layoutKind:"FittableColumnsLayout",noStretch:!0,handlers:{onHide:"reflow"},published:{clientLayoutKind:"FittableColumnsLayout"},tools:[{name:"client",noStretch:!0,fit:!0,classes:"onyx-toolbar-inline"},{name:"nard",kind:"onyx.MenuDecorator",showing:!1,onActivate:"activated",components:[{kind:"onyx.IconButton",classes:"onyx-more-button"},{name:"menu",kind:"onyx.Menu",scrolling:!1,classes:"onyx-more-menu"}]}],initComponents:function(){this.menuClass&&this.menuClass.length>0&&!this.$.menu.hasClass(this.menuClass)&&this.$.menu.addClass(this.menuClass),this.createChrome(this.tools),this.inherited(arguments),this.$.client.setLayoutKind(this.clientLayoutKind)},clientLayoutKindChanged:function(){this.$.client.setLayoutKind(this.clientLayoutKind)},reflow:function(){this.inherited(arguments),this.isContentOverflowing()?(this.$.nard.show(),this.popItem()&&this.reflow()):this.tryPushItem()?this.reflow():this.$.menu.children.length||(this.$.nard.hide(),this.$.menu.hide())},activated:function(t,e){this.addRemoveClass("active",e.originator.active)},popItem:function(){var t=this.findCollapsibleItem();if(t){this.movedClass&&this.movedClass.length>0&&!t.hasClass(this.movedClass)&&t.addClass(this.movedClass),this.$.menu.addChild(t,null);var e=this.$.menu.hasNode();return e&&t.hasNode()&&t.insertNodeInParent(e),!0}},pushItem:function(){var t=this.$.menu.children,e=t[0];if(e){this.movedClass&&this.movedClass.length>0&&e.hasClass(this.movedClass)&&e.removeClass(this.movedClass),this.$.client.addChild(e);var i=this.$.client.hasNode();if(i&&e.hasNode()){for(var n,o,s=0;this.$.client.children.length>s;s++){var a=this.$.client.children[s];if(void 0!==a.toolbarIndex&&a.toolbarIndex!=s){n=a,o=s;break}}if(n&&n.hasNode()){e.insertNodeInParent(i,n.node);var r=this.$.client.children.pop();this.$.client.children.splice(o,0,r)}else e.appendNodeToParent(i)}return!0}},tryPushItem:function(){if(this.pushItem()){if(!this.isContentOverflowing())return!0;this.popItem()}},isContentOverflowing:function(){if(this.$.client.hasNode()){var t=this.$.client.children,e=t.length&&t[t.length-1].hasNode();if(e)return this.$.client.reflow(),e.offsetLeft+e.offsetWidth>this.$.client.node.clientWidth}},findCollapsibleItem:function(){for(var t,e=this.$.client.children,i=e.length-1;t=e[i];i--){if(!t.unmoveable)return t;void 0===t.toolbarIndex&&(t.toolbarIndex=i)}}})})(enyo,this);

// lib\onyx\source\IntegerPicker.js
(function(t){t.kind({name:"onyx.IntegerPicker",kind:"onyx.Picker",published:{value:0,min:0,max:9},create:function(){this.inherited(arguments),this.rangeChanged()},minChanged:function(){this.destroyClientControls(),this.rangeChanged(),this.render()},maxChanged:function(){this.destroyClientControls(),this.rangeChanged(),this.render()},rangeChanged:function(){for(var t=this.min;this.max>=t;t++)this.createComponent({content:t,active:t===this.value?!0:!1})},valueChanged:function(){var t=this.getClientControls(),e=t.length;this.value=Math.min(this.max,Math.max(this.value,this.min));for(var i=0;e>i;i++)if(this.value===parseInt(t[i].content,10)){this.setSelected(t[i]);break}},selectedChanged:function(t){t&&t.removeClass("selected"),this.selected&&(this.selected.addClass("selected"),this.doChange({selected:this.selected,content:this.selected.content})),this.setValue(parseInt(this.selected.content,10))}})})(enyo,this);

// lib\onyx\source\ContextualPopup.js
(function(t){t.kind({name:"onyx.ContextualPopup",kind:"enyo.Popup",modal:!0,autoDismiss:!0,floating:!1,classes:"onyx-contextual-popup enyo-unselectable",published:{maxHeight:100,scrolling:!0,title:void 0,actionButtons:[]},statics:{subclass:function(t,e){var i=t.prototype;e.actionButtons&&(i.kindActionButtons=e.actionButtons,delete i.actionButtons)}},vertFlushMargin:60,horizFlushMargin:50,widePopup:200,longPopup:200,horizBuffer:16,events:{onTap:""},handlers:{onActivate:"childControlActivated",onRequestShowMenu:"requestShow",onRequestHideMenu:"requestHide"},components:[{name:"title",classes:"onyx-contextual-popup-title"},{classes:"onyx-contextual-popup-scroller",components:[{name:"client",kind:"enyo.Scroller",vertical:"auto",classes:"enyo-unselectable",thumb:!1,strategyKind:"TouchScrollStrategy"}]},{name:"actionButtons",classes:"onyx-contextual-popup-action-buttons"}],scrollerName:"client",create:function(){this.inherited(arguments),this.maxHeightChanged(),this.titleChanged(),this.actionButtonsChanged()},getScroller:function(){return this.$[this.scrollerName]},titleChanged:function(){this.$.title.setContent(this.title)},actionButtonsChanged:function(){this.actionButtons?t.forEach(this.actionButtons,function(t){t.kind="onyx.Button",t.classes=t.classes+" onyx-contextual-popup-action-button",t.popup=this,t.actionButton=!0,this.$.actionButtons.createComponent(t,{owner:this.getInstanceOwner()})},this):this.kindActionButtons&&t.forEach(this.kindActionButtons,function(t){t.kind="onyx.Button",t.classes=t.classes+" onyx-contextual-popup-action-button",t.popup=this,t.actionButton=!0,this.$.actionButtons.createComponent(t,{owner:this})},this),this.hasNode()&&this.$.actionButtons.render()},maxHeightChanged:function(){this.scrolling&&this.getScroller().setMaxHeight(this.maxHeight+"px")},showingChanged:t.inherit(function(t){return function(){t.apply(this,arguments),this.scrolling&&this.getScroller().setShowing(this.showing),this.adjustPosition()}}),childControlActivated:function(){return!0},requestShow:function(t,e){var i=e.activator.hasNode();return i&&(this.activatorOffset=this.getPageOffset(i)),this.show(),!0},requestHide:function(){this.setShowing(!1)},applyPosition:function(t){var e="";for(var i in t)e+=i+":"+t[i]+(isNaN(t[i])?"; ":"px; ");this.addStyles(e)},getPageOffset:function(t){var e=this.getBoundingRect(t),i=void 0===window.pageYOffset?document.documentElement.scrollTop:window.pageYOffset,n=void 0===window.pageXOffset?document.documentElement.scrollLeft:window.pageXOffset,o=void 0===e.height?e.bottom-e.top:e.height,s=void 0===e.width?e.right-e.left:e.width;return{top:e.top+i,left:e.left+n,height:o,width:s}},adjustPosition:function(){if(this.showing&&this.hasNode()){this.resetPositioning();var t=this.getViewWidth(),e=this.getViewHeight(),i=this.vertFlushMargin,n=e-this.vertFlushMargin,o=this.horizFlushMargin,s=t-this.horizFlushMargin;if(i>this.activatorOffset.top+this.activatorOffset.height||this.activatorOffset.top>n){if(this.applyVerticalFlushPositioning(o,s))return;if(this.applyHorizontalFlushPositioning(o,s))return;if(this.applyVerticalPositioning())return}else if((o>this.activatorOffset.left+this.activatorOffset.width||this.activatorOffset.left>s)&&this.applyHorizontalPositioning())return;var a=this.getBoundingRect(this.node);if(a.width>this.widePopup){if(this.applyVerticalPositioning())return}else if(a.height>this.longPopup&&this.applyHorizontalPositioning())return;if(this.applyVerticalPositioning())return;if(this.applyHorizontalPositioning())return}},initVerticalPositioning:function(){this.resetPositioning(),this.addClass("vertical");var t=this.getBoundingRect(this.node),e=this.getViewHeight();return this.floating?e/2>this.activatorOffset.top?(this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height,bottom:"auto"}),this.addClass("below")):(this.applyPosition({top:this.activatorOffset.top-t.height,bottom:"auto"}),this.addClass("above")):t.top+t.height>e&&e-t.bottom<t.top-t.height?this.addClass("above"):this.addClass("below"),t=this.getBoundingRect(this.node),t.top+t.height>e||0>t.top?!1:!0},applyVerticalPositioning:function(){if(!this.initVerticalPositioning())return!1;var t=this.getBoundingRect(this.node),e=this.getViewWidth();if(this.floating){var i=this.activatorOffset.left+this.activatorOffset.width/2-t.width/2;i+t.width>e?(this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width-t.width}),this.addClass("left")):0>i?(this.applyPosition({left:this.activatorOffset.left}),this.addClass("right")):this.applyPosition({left:i})}else{var n=this.activatorOffset.left+this.activatorOffset.width/2-t.left-t.width/2;t.right+n>e?(this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width-t.right}),this.addRemoveClass("left",!0)):0>t.left+n?this.addRemoveClass("right",!0):this.applyPosition({left:n})}return!0},applyVerticalFlushPositioning:function(t,e){if(!this.initVerticalPositioning())return!1;var i=this.getBoundingRect(this.node),n=this.getViewWidth();return t>this.activatorOffset.left+this.activatorOffset.width/2?(this.activatorOffset.left+this.activatorOffset.width/2<this.horizBuffer?this.applyPosition({left:this.horizBuffer+(this.floating?0:-i.left)}):this.applyPosition({left:this.activatorOffset.width/2+(this.floating?this.activatorOffset.left:0)}),this.addClass("right"),this.addClass("corner"),!0):this.activatorOffset.left+this.activatorOffset.width/2>e?(this.activatorOffset.left+this.activatorOffset.width/2>n-this.horizBuffer?this.applyPosition({left:n-this.horizBuffer-i.right}):this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width/2-i.right}),this.addClass("left"),this.addClass("corner"),!0):!1},initHorizontalPositioning:function(){this.resetPositioning();var t=this.getBoundingRect(this.node),e=this.getViewWidth();return this.floating?e/2>this.activatorOffset.left+this.activatorOffset.width?(this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width}),this.addRemoveClass("left",!0)):(this.applyPosition({left:this.activatorOffset.left-t.width}),this.addRemoveClass("right",!0)):this.activatorOffset.left-t.width>0?(this.applyPosition({left:this.activatorOffset.left-t.left-t.width}),this.addRemoveClass("right",!0)):(this.applyPosition({left:this.activatorOffset.width}),this.addRemoveClass("left",!0)),this.addRemoveClass("horizontal",!0),t=this.getBoundingRect(this.node),0>t.left||t.left+t.width>e?!1:!0},applyHorizontalPositioning:function(){if(!this.initHorizontalPositioning())return!1;var t=this.getBoundingRect(this.node),e=this.getViewHeight(),i=this.activatorOffset.top+this.activatorOffset.height/2;return this.floating?i>=e/2-.05*e&&e/2+.05*e>=i?this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height/2-t.height/2,bottom:"auto"}):e/2>this.activatorOffset.top+this.activatorOffset.height?(this.applyPosition({top:this.activatorOffset.top-this.activatorOffset.height,bottom:"auto"}),this.addRemoveClass("high",!0)):(this.applyPosition({top:this.activatorOffset.top-t.height+2*this.activatorOffset.height,bottom:"auto"}),this.addRemoveClass("low",!0)):i>=e/2-.05*e&&e/2+.05*e>=i?this.applyPosition({top:(this.activatorOffset.height-t.height)/2}):e/2>this.activatorOffset.top+this.activatorOffset.height?(this.applyPosition({top:-this.activatorOffset.height}),this.addRemoveClass("high",!0)):(this.applyPosition({top:t.top-t.height-this.activatorOffset.top+this.activatorOffset.height}),this.addRemoveClass("low",!0)),!0},applyHorizontalFlushPositioning:function(t,e){if(!this.initHorizontalPositioning())return!1;var i=this.getBoundingRect(this.node),n=this.getViewHeight();return this.floating?n/2>this.activatorOffset.top?(this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height/2}),this.addRemoveClass("high",!0)):(this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height/2-i.height}),this.addRemoveClass("low",!0)):i.top+i.height>n&&n-i.bottom<i.top-i.height?(this.applyPosition({top:i.top-i.height-this.activatorOffset.top-this.activatorOffset.height/2}),this.addRemoveClass("low",!0)):(this.applyPosition({top:this.activatorOffset.height/2}),this.addRemoveClass("high",!0)),t>this.activatorOffset.left+this.activatorOffset.width?(this.addClass("left"),this.addClass("corner"),!0):this.activatorOffset.left>e?(this.addClass("right"),this.addClass("corner"),!0):!1},getBoundingRect:function(t){var e=t.getBoundingClientRect();return e.width&&e.height?e:{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.right-e.left,height:e.bottom-e.top}},getViewHeight:function(){return void 0===window.innerHeight?document.documentElement.clientHeight:window.innerHeight},getViewWidth:function(){return void 0===window.innerWidth?document.documentElement.clientWidth:window.innerWidth},resetPositioning:function(){this.removeClass("right"),this.removeClass("left"),this.removeClass("high"),this.removeClass("low"),this.removeClass("corner"),this.removeClass("below"),this.removeClass("above"),this.removeClass("vertical"),this.removeClass("horizontal"),this.applyPosition({left:"auto"}),this.applyPosition({top:"auto"})},handleResize:function(){this.inherited(arguments),this.adjustPosition()}})})(enyo,this);

// lib\enyo-ilib\version.js
enyo&&enyo.version&&(enyo.version["enyo-ilib"]="2.5.3-zzz.7");

// lib\enyo-ilib\ilib\js\ilib-dyn-standard.js
var ilib=ilib||{};ilib.getVersion=function(){return"9.0"},ilib.data={norm:{nfc:{},nfd:{},nfkd:{},ccc:{}},zoneinfo:{"Etc/UTC":{o:"0:0",f:"UTC"},local:{f:"local"}},ctype:null,ctype_c:null,ctype_l:null,ctype_m:null,ctype_p:null,ctype_z:null,scriptToRange:null,dateformats:null},"undefined"!=typeof window&&(window.ilib=ilib),"undefined"!=typeof exports&&(exports.ilib=ilib),ilib.pseudoLocales=["zxx-XX"],ilib.setAsPseudoLocale=function(t){ilib.pseudoLocales.push(t)},ilib._getPlatform=function(){return ilib._platform||(ilib._platform="undefined"!=typeof environment?"rhino":"undefined"!=typeof process||"undefined"!=typeof require?"nodejs":"undefined"!=typeof window?"undefined"!=typeof PalmSystem?"webos":"browser":"unknown"),ilib._platform},ilib._isGlobal=function(t){switch(ilib._getPlatform()){case"rhino":var e=function(){return"object"==typeof global?global:this}();return void 0!==typeof e[t];case"nodejs":var i="undefined"!=typeof global?global:this;return i&&void 0!==typeof i[t];default:return void 0!==typeof window[t]}},ilib.setLocale=function(t){"string"!=typeof t&&t||(ilib.locale=t)},ilib.getLocale=function(){if("string"!=typeof ilib.locale){if("undefined"!=typeof navigator&&navigator.language!==void 0){if(ilib.locale=navigator.language,!ilib.locale){var t=navigator.browserLanguage!==void 0?navigator.browserLanguage:navigator.userLanguage!==void 0?navigator.userLanguage:navigator.systemLanguage!==void 0?navigator.systemLanguage:void 0;t!==void 0&&t&&(ilib.locale=t.substring(0,3)+t.substring(3,5).toUpperCase())}}else if("undefined"!=typeof PalmSystem&&PalmSystem.locales!==void 0)PalmSystem.locales.UI!==void 0&&PalmSystem.locales.UI.length>0&&(ilib.locale=PalmSystem.locales.UI);else if("undefined"!=typeof environment&&environment.user!==void 0)"string"==typeof environment.user.language&&environment.user.language.length>0&&(ilib.locale=environment.user.language,"string"==typeof environment.user.country&&environment.user.country.length>0&&(ilib.locale+="-"+environment.user.country));else if("undefined"!=typeof process&&process.env!==void 0){var t=process.env.LANG||process.env.LC_ALL;t&&"undefined"!==t&&(ilib.locale=t.substring(0,2).toLowerCase()+"-"+t.substring(3,5).toUpperCase())}ilib.locale="string"==typeof ilib.locale?ilib.locale:"en-US"}return ilib.locale},ilib.setTimeZone=function(t){ilib.tz=t||ilib.tz},ilib.getTimeZone=function(){return ilib.tz===void 0&&("undefined"!=typeof navigator&&navigator.timezone!==void 0?navigator.timezone.length>0&&(ilib.tz=navigator.timezone):"undefined"!=typeof PalmSystem&&PalmSystem.timezone!==void 0?PalmSystem.timezone.length>0&&(ilib.tz=PalmSystem.timezone):"undefined"!=typeof environment&&environment.user!==void 0?environment.user.timezone!==void 0&&environment.user.timezone.length>0&&(ilib.tz=environment.user.timezone):"undefined"!=typeof process&&process.env!==void 0&&process.env.TZ&&"undefined"!==process.env.TZ&&(ilib.tz=process.env.TZ),ilib.tz=ilib.tz||"local"),ilib.tz},ilib.Loader=function(){},ilib.Loader.prototype.loadFiles=function(){},ilib.Loader.prototype.listAvailableFiles=function(){},ilib.Loader.prototype.isAvailable=function(){},ilib.setLoaderCallback=function(t){return"object"==typeof t&&t instanceof ilib.Loader||"function"==typeof t||t===void 0?(ilib._load=t,!0):!1},ilib.Locale=function(t,e,i,n){if(e===void 0){var o=t||ilib.getLocale();if("string"==typeof o){for(var s=o.split("-"),a=0;s.length>a;a++)ilib.Locale._isLanguageCode(s[a])?this.language=s[a]:ilib.Locale._isRegionCode(s[a])?this.region=s[a]:ilib.Locale._isScriptCode(s[a])?this.script=s[a]:this.variant=s[a];this.language=this.language||void 0,this.region=this.region||void 0,this.script=this.script||void 0,this.variant=this.variant||void 0}else"object"==typeof o&&(this.language=o.language||void 0,this.region=o.region||void 0,this.script=o.script||void 0,this.variant=o.variant||void 0)}else t?(t=t.trim(),this.language=t.length>0?t.toLowerCase():void 0):this.language=void 0,e?(e=e.trim(),this.region=e.length>0?e.toUpperCase():void 0):this.region=void 0,i?(i=i.trim(),this.variant=i.length>0?i:void 0):this.variant=void 0,n?(n=n.trim(),this.script=n.length>0?n:void 0):this.script=void 0;this._genSpec()},ilib.Locale.a2toa3regmap={AF:"AFG",AX:"ALA",AL:"ALB",DZ:"DZA",AS:"ASM",AD:"AND",AO:"AGO",AI:"AIA",AQ:"ATA",AG:"ATG",AR:"ARG",AM:"ARM",AW:"ABW",AU:"AUS",AT:"AUT",AZ:"AZE",BS:"BHS",BH:"BHR",BD:"BGD",BB:"BRB",BY:"BLR",BE:"BEL",BZ:"BLZ",BJ:"BEN",BM:"BMU",BT:"BTN",BO:"BOL",BQ:"BES",BA:"BIH",BW:"BWA",BV:"BVT",BR:"BRA",IO:"IOT",BN:"BRN",BG:"BGR",BF:"BFA",BI:"BDI",KH:"KHM",CM:"CMR",CA:"CAN",CV:"CPV",KY:"CYM",CF:"CAF",TD:"TCD",CL:"CHL",CN:"CHN",CX:"CXR",CC:"CCK",CO:"COL",KM:"COM",CG:"COG",CD:"COD",CK:"COK",CR:"CRI",CI:"CIV",HR:"HRV",CU:"CUB",CW:"CUW",CY:"CYP",CZ:"CZE",DK:"DNK",DJ:"DJI",DM:"DMA",DO:"DOM",EC:"ECU",EG:"EGY",SV:"SLV",GQ:"GNQ",ER:"ERI",EE:"EST",ET:"ETH",FK:"FLK",FO:"FRO",FJ:"FJI",FI:"FIN",FR:"FRA",GF:"GUF",PF:"PYF",TF:"ATF",GA:"GAB",GM:"GMB",GE:"GEO",DE:"DEU",GH:"GHA",GI:"GIB",GR:"GRC",GL:"GRL",GD:"GRD",GP:"GLP",GU:"GUM",GT:"GTM",GG:"GGY",GN:"GIN",GW:"GNB",GY:"GUY",HT:"HTI",HM:"HMD",VA:"VAT",HN:"HND",HK:"HKG",HU:"HUN",IS:"ISL",IN:"IND",ID:"IDN",IR:"IRN",IQ:"IRQ",IE:"IRL",IM:"IMN",IL:"ISR",IT:"ITA",JM:"JAM",JP:"JPN",JE:"JEY",JO:"JOR",KZ:"KAZ",KE:"KEN",KI:"KIR",KP:"PRK",KR:"KOR",KW:"KWT",KG:"KGZ",LA:"LAO",LV:"LVA",LB:"LBN",LS:"LSO",LR:"LBR",LY:"LBY",LI:"LIE",LT:"LTU",LU:"LUX",MO:"MAC",MK:"MKD",MG:"MDG",MW:"MWI",MY:"MYS",MV:"MDV",ML:"MLI",MT:"MLT",MH:"MHL",MQ:"MTQ",MR:"MRT",MU:"MUS",YT:"MYT",MX:"MEX",FM:"FSM",MD:"MDA",MC:"MCO",MN:"MNG",ME:"MNE",MS:"MSR",MA:"MAR",MZ:"MOZ",MM:"MMR",NA:"NAM",NR:"NRU",NP:"NPL",NL:"NLD",NC:"NCL",NZ:"NZL",NI:"NIC",NE:"NER",NG:"NGA",NU:"NIU",NF:"NFK",MP:"MNP",NO:"NOR",OM:"OMN",PK:"PAK",PW:"PLW",PS:"PSE",PA:"PAN",PG:"PNG",PY:"PRY",PE:"PER",PH:"PHL",PN:"PCN",PL:"POL",PT:"PRT",PR:"PRI",QA:"QAT",RE:"REU",RO:"ROU",RU:"RUS",RW:"RWA",BL:"BLM",SH:"SHN",KN:"KNA",LC:"LCA",MF:"MAF",PM:"SPM",VC:"VCT",WS:"WSM",SM:"SMR",ST:"STP",SA:"SAU",SN:"SEN",RS:"SRB",SC:"SYC",SL:"SLE",SG:"SGP",SX:"SXM",SK:"SVK",SI:"SVN",SB:"SLB",SO:"SOM",ZA:"ZAF",GS:"SGS",SS:"SSD",ES:"ESP",LK:"LKA",SD:"SDN",SR:"SUR",SJ:"SJM",SZ:"SWZ",SE:"SWE",CH:"CHE",SY:"SYR",TW:"TWN",TJ:"TJK",TZ:"TZA",TH:"THA",TL:"TLS",TG:"TGO",TK:"TKL",TO:"TON",TT:"TTO",TN:"TUN",TR:"TUR",TM:"TKM",TC:"TCA",TV:"TUV",UG:"UGA",UA:"UKR",AE:"ARE",GB:"GBR",US:"USA",UM:"UMI",UY:"URY",UZ:"UZB",VU:"VUT",VE:"VEN",VN:"VNM",VG:"VGB",VI:"VIR",WF:"WLF",EH:"ESH",YE:"YEM",ZM:"ZMB",ZW:"ZWE"},ilib.Locale.a1toa3langmap={ab:"abk",aa:"aar",af:"afr",ak:"aka",sq:"sqi",am:"amh",ar:"ara",an:"arg",hy:"hye",as:"asm",av:"ava",ae:"ave",ay:"aym",az:"aze",bm:"bam",ba:"bak",eu:"eus",be:"bel",bn:"ben",bh:"bih",bi:"bis",bs:"bos",br:"bre",bg:"bul",my:"mya",ca:"cat",ch:"cha",ce:"che",ny:"nya",zh:"zho",cv:"chv",kw:"cor",co:"cos",cr:"cre",hr:"hrv",cs:"ces",da:"dan",dv:"div",nl:"nld",dz:"dzo",en:"eng",eo:"epo",et:"est",ee:"ewe",fo:"fao",fj:"fij",fi:"fin",fr:"fra",ff:"ful",gl:"glg",ka:"kat",de:"deu",el:"ell",gn:"grn",gu:"guj",ht:"hat",ha:"hau",he:"heb",hz:"her",hi:"hin",ho:"hmo",hu:"hun",ia:"ina",id:"ind",ie:"ile",ga:"gle",ig:"ibo",ik:"ipk",io:"ido",is:"isl",it:"ita",iu:"iku",ja:"jpn",jv:"jav",kl:"kal",kn:"kan",kr:"kau",ks:"kas",kk:"kaz",km:"khm",ki:"kik",rw:"kin",ky:"kir",kv:"kom",kg:"kon",ko:"kor",ku:"kur",kj:"kua",la:"lat",lb:"ltz",lg:"lug",li:"lim",ln:"lin",lo:"lao",lt:"lit",lu:"lub",lv:"lav",gv:"glv",mk:"mkd",mg:"mlg",ms:"msa",ml:"mal",mt:"mlt",mi:"mri",mr:"mar",mh:"mah",mn:"mon",na:"nau",nv:"nav",nb:"nob",nd:"nde",ne:"nep",ng:"ndo",nn:"nno",no:"nor",ii:"iii",nr:"nbl",oc:"oci",oj:"oji",cu:"chu",om:"orm",or:"ori",os:"oss",pa:"pan",pi:"pli",fa:"fas",pl:"pol",ps:"pus",pt:"por",qu:"que",rm:"roh",rn:"run",ro:"ron",ru:"rus",sa:"san",sc:"srd",sd:"snd",se:"sme",sm:"smo",sg:"sag",sr:"srp",gd:"gla",sn:"sna",si:"sin",sk:"slk",sl:"slv",so:"som",st:"sot",az:"azb",es:"spa",su:"sun",sw:"swa",ss:"ssw",sv:"swe",ta:"tam",te:"tel",tg:"tgk",th:"tha",ti:"tir",bo:"bod",tk:"tuk",tl:"tgl",tn:"tsn",to:"ton",tr:"tur",ts:"tso",tt:"tat",tw:"twi",ty:"tah",ug:"uig",uk:"ukr",ur:"urd",uz:"uzb",ve:"ven",vi:"vie",vo:"vol",wa:"wln",cy:"cym",wo:"wol",fy:"fry",xh:"xho",yi:"yid",yo:"yor",za:"zha",zu:"zul"},ilib.Locale._notLower=function(t){var e=t.charCodeAt(0);return 97>e||e>122},ilib.Locale._notUpper=function(t){var e=t.charCodeAt(0);return 65>e||e>90},ilib.Locale._notDigit=function(t){var e=t.charCodeAt(0);return 48>e||e>57},ilib.Locale._isLanguageCode=function(t){if(t===void 0||2>t.length||t.length>3)return!1;for(var e=0;t.length>e;e++)if(ilib.Locale._notLower(t.charAt(e)))return!1;return!0},ilib.Locale._isRegionCode=function(t){if(t===void 0||2>t.length||t.length>3)return!1;if(2===t.length){for(var e=0;t.length>e;e++)if(ilib.Locale._notUpper(t.charAt(e)))return!1}else for(var e=0;t.length>e;e++)if(ilib.Locale._notDigit(t.charAt(e)))return!1;return!0},ilib.Locale._isScriptCode=function(t){if(t===void 0||4!==t.length||ilib.Locale._notUpper(t.charAt(0)))return!1;for(var e=1;4>e;e++)if(ilib.Locale._notLower(t.charAt(e)))return!1;return!0},ilib.Locale.regionAlpha2ToAlpha3=function(t){return ilib.Locale.a2toa3regmap[t]||t},ilib.Locale.languageAlpha1ToAlpha3=function(t){return ilib.Locale.a1toa3langmap[t]||t},ilib.Locale.prototype={_genSpec:function(){this.spec=this.language||"",this.script&&(this.spec.length>0&&(this.spec+="-"),this.spec+=this.script),this.region&&(this.spec.length>0&&(this.spec+="-"),this.spec+=this.region),this.variant&&(this.spec.length>0&&(this.spec+="-"),this.spec+=this.variant)},getLanguage:function(){return this.language},getLanguageAlpha3:function(){return ilib.Locale.languageAlpha1ToAlpha3(this.language)},getRegion:function(){return this.region},getRegionAlpha3:function(){return ilib.Locale.regionAlpha2ToAlpha3(this.region)},getScript:function(){return this.script},getVariant:function(){return this.variant},getSpec:function(){return this.spec},toString:function(){return this.getSpec()},equals:function(t){return this.language===t.language&&this.region===t.region&&this.script===t.script&&this.variant===t.variant},isPseudo:function(){var t,e=this.language+"-"+this.region;for(t=0;ilib.pseudoLocales.length>t;t++)if(ilib.pseudoLocales[t]===e)return!0;return!1}},ilib.Locale.locales=[],ilib.Locale.getAvailableLocales=function(){return ilib.Locale.locales},ilib.LocaleInfo=function(t,e){var i=!0,n=void 0;switch(this.info=ilib.LocaleInfo.defaultInfo,typeof t){case"string":this.locale=new ilib.Locale(t);break;default:case"undefined":this.locale=new ilib.Locale;break;case"object":this.locale=t}e&&(e.sync!==void 0&&(i=1==e.sync),e.loadParams!==void 0&&(n=e.loadParams)),ilib.LocaleInfo.cache||(ilib.LocaleInfo.cache={}),ilib.loadData({object:ilib.LocaleInfo,locale:this.locale,name:"localeinfo.json",sync:i,loadParams:n,callback:ilib.bind(this,function(t){if(!t){t=ilib.LocaleInfo.defaultInfo;var i=this.locale.getSpec().replace(/-/g,"_");ilib.LocaleInfo.cache[i]=t}this.info=t,e&&"function"==typeof e.onLoad&&e.onLoad(this)})})},ilib.LocaleInfo.defaultInfo=ilib.data.localeinfo,ilib.LocaleInfo.defaultInfo=ilib.LocaleInfo.defaultInfo||{scripts:["Latn"],timezone:"Etc/UTC",units:"metric",calendar:"gregorian",clock:"24",currency:"USD",firstDayOfWeek:1,numfmt:{currencyFormats:{common:"{s}{n}",commonNegative:"{s}-{n}",iso:"{s}{n}",isoNegative:"{s}-{n}"},script:"Latn",decimalChar:",",groupChar:".",prigroupSize:3,secgroupSize:0,pctFmt:"{n}%",negativepctFmt:"-{n}%",pctChar:"%",roundingMode:"halfdown",exponential:"e",digits:""}},ilib.LocaleInfo.prototype={getLanguageName:function(){return this.info["language.name"]},getRegionName:function(){return this.info["region.name"]},getClock:function(){return this.info.clock},getLocale:function(){return this.locale},getUnits:function(){return this.info.units},getUnitFormat:function(){return this.info.unitfmt},getCalendar:function(){return this.info.calendar},getFirstDayOfWeek:function(){return this.info.firstDayOfWeek},getTimeZone:function(){return this.info.timezone},getDecimalSeparator:function(){return this.info.numfmt.decimalChar},getNativeDecimalSeparator:function(){return this.info.native_numfmt&&this.info.native_numfmt.decimalChar||this.info.numfmt.decimalChar},getGroupingSeparator:function(){return this.info.numfmt.groupChar},getNativeGroupingSeparator:function(){return this.info.native_numfmt&&this.info.native_numfmt.groupChar||this.info.numfmt.groupChar},getPrimaryGroupingDigits:function(){return this.info.numfmt.prigroupSize!==void 0&&this.info.numfmt.prigroupSize||0},getSecondaryGroupingDigits:function(){return this.info.numfmt.secgroupSize||0},getPercentageFormat:function(){return this.info.numfmt.pctFmt},getNegativePercentageFormat:function(){return this.info.numfmt.negativepctFmt},getPercentageSymbol:function(){return this.info.numfmt.pctChar||"%"},getExponential:function(){return this.info.numfmt.exponential},getNativeExponential:function(){return this.info.native_numfmt&&this.info.native_numfmt.exponential||this.info.numfmt.exponential},getNativePercentageSymbol:function(){return this.info.native_numfmt&&this.info.native_numfmt.pctChar||this.info.numfmt.pctChar||"%"},getNegativeNumberFormat:function(){return this.info.numfmt.negativenumFmt},getCurrencyFormats:function(){return this.info.numfmt.currencyFormats},getCurrency:function(){return this.info.currency},getDigitsStyle:function(){return this.info.numfmt.useNative?"native":this.info.native_numfmt!==void 0?"optional":"western"},getDigits:function(){return this.info.numfmt.digits},getNativeDigits:function(){return this.info.numfmt.useNative&&this.info.numfmt.digits||this.info.native_numfmt&&this.info.native_numfmt.digits},getRoundingMode:function(){return this.info.numfmt.roundingMode},getDefaultScript:function(){return this.info.scripts?this.info.scripts[0]:"Latn"},getScript:function(){return this.locale.getScript()||this.getDefaultScript()},getAllScripts:function(){return this.info.scripts||["Latn"]}},ilib.Date=function(t){return t&&void 0!==t.noinstance?void 0:ilib.Date.newInstance(t)},ilib.Date.newInstance=function(t){var e,i=t&&t.locale,n=t&&(t.type||t.calendar);if(i||(i=new ilib.Locale),!n){var o=new ilib.LocaleInfo(i);n=o.getCalendar()}return e=ilib.Date._constructors[n],e&&new e(t)},ilib.Date._dateToIlib=function(t,e){return t===void 0||null===t?t:t instanceof ilib.Date?t:t instanceof Date?ilib.Date.newInstance({unixtime:t.getTime(),timezone:e}):t instanceof ilib.JulianDay?ilib.Date.newInstance({jd:t,timezone:e}):"number"==typeof t?ilib.Date.newInstance({unixtime:t,timezone:e}):"object"==typeof t?ilib.Date.newInstance(t):("string"==typeof t&&(t=new Date(t)),ilib.Date.newInstance({unixtime:t.getTime(),timezone:e}))},ilib.Date._constructors={},ilib.Date.prototype={getType:function(){return"ilib.Date"},getTime:function(){return this.rd.getTime()},getTimeExtended:function(){return this.rd.getTimeExtended()},setTime:function(t){this.rd=this.newRd({unixtime:t,cal:this.cal}),this._calcDateComponents()},getDays:function(){return this.day},getMonths:function(){return this.month},getYears:function(){return this.year},getHours:function(){return this.hour},getMinutes:function(){return this.minute},getSeconds:function(){return this.second},getMilliseconds:function(){return this.millisecond},setDays:function(t){this.day=parseInt(t,10)||1,this.rd._setDateComponents(this)},setMonths:function(t){this.month=parseInt(t,10)||1,this.rd._setDateComponents(this)},setYears:function(t){this.year=parseInt(t,10)||0,this.rd._setDateComponents(this)},setHours:function(t){this.hour=parseInt(t,10)||0,this.rd._setDateComponents(this)},setMinutes:function(t){this.minute=parseInt(t,10)||0,this.rd._setDateComponents(this)},setSeconds:function(t){this.second=parseInt(t,10)||0,this.rd._setDateComponents(this)},setMilliseconds:function(t){this.millisecond=parseInt(t,10)||0,this.rd._setDateComponents(this)},before:function(t){return this.cal.newDateInstance({rd:this.rd.before(t,this.offset),timezone:this.timezone})},after:function(t){return this.cal.newDateInstance({rd:this.rd.after(t,this.offset),timezone:this.timezone})},onOrBefore:function(t){return this.cal.newDateInstance({rd:this.rd.onOrBefore(t,this.offset),timezone:this.timezone})},onOrAfter:function(t){return this.cal.newDateInstance({rd:this.rd.onOrAfter(t,this.offset),timezone:this.timezone})},getJSDate:function(){var t=this.rd.getTimeExtended();return isNaN(t)?void 0:new Date(t)},getRataDie:function(){return this.rd.getRataDie()},setRd:function(t){this.rd=this.newRd({rd:t,cal:this.cal}),this._calcDateComponents()},getJulianDay:function(){return this.rd.getJulianDay()},setJulianDay:function(t){this.rd=this.newRd({julianday:"object"==typeof t?t.getDate():t,cal:this.cal}),this._calcDateComponents()},getTimeZone:function(){return this.timezone||"local"},setTimeZone:function(t){t&&""!==t?"string"==typeof t&&(this.timezone=t,this.tz=void 0,this._calcDateComponents()):(this.timezone=void 0,this.tz=void 0)},firstSunday:function(t){var e=this.newRd({year:t,month:1,day:1,hour:0,minute:0,second:0,millisecond:0,cal:this.cal}),i=this.newRd({rd:e.onOrAfter(4),cal:this.cal});return i.before(0)},getWeekOfYear:function(){var t,e=Math.floor(this.rd.getRataDie()),i=this._calcYear(e+this.offset),n=this.firstSunday(i);return n>e?n=this.firstSunday(i-1):(t=this.firstSunday(i+1),e>=t&&(n=t)),Math.floor((e-n)/7)+1},getWeekOfMonth:function(t){var e=new ilib.LocaleInfo(t),i=this.newRd({year:this._calcYear(this.rd.getRataDie()+this.offset),month:this.month,day:1,hour:0,minute:0,second:0,millisecond:0,cal:this.cal}),n=i.onOrAfter(e.getFirstDayOfWeek());return n-i.getRataDie()>3&&(n-=7),Math.floor((this.rd.getRataDie()-n)/7)+1}},ilib.bind=function(t,e){function i(t,e){for(var i=[],n=e||0,o=t.length;o>n;n++)i.push(t[n]);return i}if(!t||!e)return void 0;if("function"==typeof e){var n,o=i(arguments,2);return n="function"==typeof e.bind?e.bind.apply(e,[t].concat(o)):function(){var n=i(arguments);return e.apply(t,o.concat(n))}}return void 0},ilib.mod=function(t,e){if(0==e)return 0;var i=t%e;return 0>i?i+e:i},ilib.merge=function(t,e,i,n,o){var s=void 0,a={};for(s in t)s&&t[s]!==void 0&&(a[s]=t[s]);for(s in e)s&&e[s]!==void 0&&(t[s]instanceof Array&&e[s]instanceof Array?"boolean"==typeof i&&i?a[s]=e[s]:(a[s]=[],a[s]=a[s].concat(t[s]),a[s]=a[s].concat(e[s])):"object"==typeof t[s]&&"object"==typeof e[s]?a[s]=ilib.merge(t[s],e[s],i):(n&&o&&a[s]==e[s]&&console.log("Property "+s+" in "+n+" is being overridden by the same value in "+o),a[s]=e[s]));return a},ilib.mergeLocData=function(t,e,i,n){var o,s=void 0,a=e||new ilib.Locale,r=!1,h=t;return s=ilib.data[t]||{},o=s,a.getLanguage()&&(h=t+"_"+a.getLanguage(),ilib.data[h]&&(r=!0,s=ilib.merge(s,ilib.data[h],i),o=ilib.data[h])),a.getRegion()&&(h=t+"_"+a.getRegion(),ilib.data[h]&&(r=!0,s=ilib.merge(s,ilib.data[h],i),o=ilib.data[h])),a.getLanguage()&&(h=t+"_"+a.getLanguage(),a.getScript()&&(h=t+"_"+a.getLanguage()+"_"+a.getScript(),ilib.data[h]&&(r=!0,s=ilib.merge(s,ilib.data[h],i),o=ilib.data[h])),a.getRegion()&&(h=t+"_"+a.getLanguage()+"_"+a.getRegion(),ilib.data[h]&&(r=!0,s=ilib.merge(s,ilib.data[h],i),o=ilib.data[h]))),a.getRegion()&&a.getVariant()&&(h=t+"_"+a.getLanguage()+"_"+a.getVariant(),ilib.data[h]&&(r=!0,s=ilib.merge(s,ilib.data[h],i),o=ilib.data[h])),a.getLanguage()&&a.getScript()&&a.getRegion()&&(h=t+"_"+a.getLanguage()+"_"+a.getScript()+"_"+a.getRegion(),ilib.data[h]&&(r=!0,s=ilib.merge(s,ilib.data[h],i),o=ilib.data[h])),a.getLanguage()&&a.getRegion()&&a.getVariant()&&(h=t+"_"+a.getLanguage()+"_"+a.getRegion()+"_"+a.getVariant(),ilib.data[h]&&(r=!0,s=ilib.merge(s,ilib.data[h],i),o=ilib.data[h])),a.getLanguage()&&a.getScript()&&a.getRegion()&&a.getVariant()&&(h=t+"_"+a.getLanguage()+"_"+a.getScript()+"_"+a.getRegion()+"_"+a.getVariant(),ilib.data[h]&&(r=!0,s=ilib.merge(s,ilib.data[h],i),o=ilib.data[h])),r?n?o:s:void 0},ilib.getLocFiles=function(t,e){var i="",n=[],o=e||"resources.json",s=t||new ilib.Locale,a=s.getLanguage(),r=s.getRegion(),h=s.getScript(),l=s.getVariant();return n.push(o),a&&(i=a+"/",n.push(i+o)),r&&(i="und/"+r+"/",n.push(i+o)),a&&(h&&(i=a+"/"+h+"/",n.push(i+o)),r&&(i=a+"/"+r+"/",n.push(i+o))),r&&l&&(i="und/"+r+"/"+l+"/",n.push(i+o)),a&&h&&r&&(i=a+"/"+h+"/"+r+"/",n.push(i+o)),a&&r&&l&&(i=a+"/"+r+"/"+l+"/",n.push(i+o)),a&&h&&r&&l&&(i=a+"/"+h+"/"+r+"/"+l+"/",n.push(i+o)),n},ilib.isEmpty=function(t){var e=void 0;if(!t)return!0;for(e in t)if(e&&t[e]!==void 0)return!1;return!0},ilib.hashCode=function(t){function e(t,e){return t*=65543,t+=e,t%=2147483647}function i(t){for(var i=0,n=0;t.length>n;n++)i=e(i,t.charCodeAt(n));return i}var n=0;switch(typeof t){case"undefined":n=0;break;case"string":n=i(t);break;case"function":case"number":case"xml":n=i(t+"");break;case"boolean":n=t?1:0;break;case"object":var o=[];for(var s in t)t.hasOwnProperty(s)&&o.push(s);o.sort();for(var a=0;o.length>a;a++)n=e(n,i(o[a])),n=e(n,ilib.hashCode(t[o[a]]))}return n},ilib._callLoadData=function(t,e,i,n){return"function"==typeof ilib._load?ilib._load(t,e,i,n):"object"==typeof ilib._load&&ilib._load instanceof ilib.Loader?ilib._load.loadFiles(t,e,i,n):void 0},ilib.loadData=function(t){var e,i="resources.json",n=void 0,o=new ilib.Locale(ilib.getLocale()),s=!1,a=void 0,r={},h=void 0,l=!1,c=!1;if(t&&"function"==typeof t.callback){if(t.name&&(i=t.name),t.object&&(n=t.object),t.locale&&(o="string"==typeof t.locale?new ilib.Locale(t.locale):t.locale),t.type&&(a=t.type),t.loadParams&&(r=t.loadParams),t.sync&&(s=t.sync),t.nonlocale&&(l=!!t.nonlocale),"boolean"==typeof t.replace&&(c=t.replace),h=t.callback,n&&!n.cache&&(n.cache={}),!a){var d=i.lastIndexOf(".");a=-1!==d?i.substring(d+1):"text"}var u=(!l&&o.getSpec().replace(/-/g,"_")||"root")+","+i+","+(ilib.hashCode(r)+"");if(n&&n.cache[u]!==void 0)h(n.cache[u]);else{var g,f=r&&r.returnOne;if("json"===a&&(e=i.substring(0,i.lastIndexOf(".")),l?(e=e.replace(/\//g,".").replace(/[\\\+\-]/g,"_"),g=ilib.data[e]):g=ilib.mergeLocData(e,o,c,f),g))return n&&(n.cache[u]=g),h(g),void 0;if(ilib._load!==void 0){var p=l?[i||"resources.json"]:ilib.getLocFiles(o,i);"json"!==a&&(r.returnOne=!0),ilib._callLoadData(p,s,r,ilib.bind(this,function(t){if("json"===a){g=ilib.data[e]||{};for(var i=0;t.length>i;i++)t[i]!==void 0&&(g=r.returnOne?t[i]:ilib.merge(g,t[i],c));n&&(n.cache[u]=g),h(g)}else{for(var i=t.length-1;i>-1&&!t[i];)i--;i>-1?(n&&(n.cache[u]=t[i]),h(t[i])):h(void 0)}}))}else"json"===a&&(g=ilib.data[e]),n&&g&&(n.cache[u]=g),h(g)}}},ilib.String=function(t){this.str="object"==typeof t?t instanceof ilib.String?t.str:""+t:"string"==typeof t?new String(t):"",this.length=this.str.length,this.cpLength=-1,this.localeSpec=ilib.getLocale()},ilib.String._isSurrogate=function(t){var e=t.charCodeAt(0);return e>=56320&&57343>=e||e>=55296&&56319>=e},ilib.String.fromCodePoint=function(t){if(65536>t)return String.fromCharCode(t);var e=Math.floor(t/65536)-1,i=65535&t;return String.fromCharCode(55296|(15&e)<<6|(64512&i)>>10)+String.fromCharCode(56320|1023&i)},ilib.String.toCodePoint=function(t,e){if(!t||0===t.length)return-1;var i=-1,n=t.charCodeAt(e);if(n>=55296&&56319>=n){if(t.length>e+1){var o=t.charCodeAt(e+1);o>=56320&&57343>=o&&(i=((960&n)>>6)+1<<16|((63&n)<<10|1023&o))}}else i=n;return i},ilib.String.loadPlurals=function(t,e,i,n){var o;o=e?"string"==typeof e?new ilib.Locale(e):e:new ilib.Locale(ilib.getLocale());var s=o.getLanguage();ilib.data["plurals_"+s]?n&&"function"==typeof n&&n(ilib.data["plurals_"+s]):ilib.loadData({name:"plurals.json",object:ilib.String,locale:o,sync:t,loadParams:i,callback:ilib.bind(this,function(t){t||(ilib.String.cache[s]={}),ilib.data["plurals_"+s]=t||{},n&&"function"==typeof n&&n(ilib.data["plurals_"+s])})})},ilib.String._fncs={firstProp:function(t){for(var e in t)if(e&&t[e])return e;return void 0},getValue:function(t,e){if("object"==typeof t){var i=ilib.String._fncs.firstProp(t);return ilib.String._fncs[i](t[i],e)}return"string"==typeof t?e:t},matchRangeContinuous:function(t,e){for(var i in e)if(i!==void 0&&e[i]!==void 0){var n=e[i];if("number"==typeof n){if(t===e[i])return!0}else if("[object Array]"===Object.prototype.toString.call(n)&&t>=n[0]&&n[1]>=t)return!0}return!1},matchRange:function(t,e){return Math.floor(t)!==t?!1:ilib.String._fncs.matchRangeContinuous(t,e)},is:function(t,e){var i=ilib.String._fncs.getValue(t[0],e),n=ilib.String._fncs.getValue(t[1],e);return i==n},isnot:function(t,e){return ilib.String._fncs.getValue(t[0],e)!=ilib.String._fncs.getValue(t[1],e)},inrange:function(t,e){return ilib.String._fncs.matchRange(ilib.String._fncs.getValue(t[0],e),t[1])},notin:function(t,e){return!ilib.String._fncs.matchRange(ilib.String._fncs.getValue(t[0],e),t[1])},within:function(t,e){return ilib.String._fncs.matchRangeContinuous(ilib.String._fncs.getValue(t[0],e),t[1])},mod:function(t,e){return ilib.mod(ilib.String._fncs.getValue(t[0],e),ilib.String._fncs.getValue(t[1],e))},n:function(t,e){return e},or:function(t,e){return ilib.String._fncs.getValue(t[0],e)||ilib.String._fncs.getValue(t[1],e)},and:function(t,e){return ilib.String._fncs.getValue(t[0],e)&&ilib.String._fncs.getValue(t[1],e)}},ilib.String.prototype={_length:function(){return this.str.length},format:function(t){var e=this.str;if(t){var i;for(var n in t)t[n]!==void 0&&(i=RegExp("{"+n+"}","g"),e=e.replace(i,t[n]))}return""+e},formatChoice:function(t,e){var i,n,o,s,a=this.str.split("|"),r=typeof t,h=[],l=[],c=void 0,d="";if(0===this.str.length)return"";for(i=0;a.length>i;i++)if(n=a[i].split("#"),n.length>2)h[i]=n[0],n=n.shift(),l[i]=n.join("#");else{if(2!==n.length)throw"syntax error in choice format pattern: "+a[i];h[i]=n[0],l[i]=n[1]}for(i=0;h.length>i;i++)if(0===h[i].length)d=new ilib.String(l[i]);else switch(r){case"number":if(s=parseInt(t,10),"<="===h[i].substring(0,2))o=parseFloat(h[i].substring(2)),o>=s&&(c=new ilib.String(l[i]),i=h.length);else if(">="===h[i].substring(0,2))o=parseFloat(h[i].substring(2)),s>=o&&(c=new ilib.String(l[i]),i=h.length);else if("<"===h[i].charAt(0))o=parseFloat(h[i].substring(1)),o>s&&(c=new ilib.String(l[i]),i=h.length);else if(">"===h[i].charAt(0))o=parseFloat(h[i].substring(1)),s>o&&(c=new ilib.String(l[i]),i=h.length);else switch(this.locale=this.locale||new ilib.Locale(this.localeSpec),h[i]){case"zero":case"one":case"two":case"few":case"many":var u=ilib.data["plurals_"+this.locale.getLanguage()];if(u){var g=u[h[i]];ilib.String._fncs.getValue(g,s)&&(c=new ilib.String(l[i]),i=h.length)}break;default:var f=h[i].indexOf("-");if(-1!==f){var p=h[i].substring(0,f),m=h[i].substring(f+1);s>=parseInt(p,10)&&parseInt(m,10)>=s&&(c=new ilib.String(l[i]),i=h.length)}else s===parseInt(h[i],10)&&(c=new ilib.String(l[i]),i=h.length)}break;case"boolean":"true"===h[i]&&t===!0?(c=new ilib.String(l[i]),i=h.length):"false"===h[i]&&t===!1&&(c=new ilib.String(l[i]),i=h.length);break;case"string":var y=RegExp(h[i],"i");y.test(t)&&(c=new ilib.String(l[i]),i=h.length);break;case"object":throw"syntax error: fmtChoice parameter for the argument index cannot be an object"}return c||(c=d||new ilib.String("")),c=c.format(e),""+c},toString:function(){return""+this.str},valueOf:function(){return this.str.valueOf()},charAt:function(t){return new ilib.String(this.str.charAt(t))},charCodeAt:function(t){return this.str.charCodeAt(t)},concat:function(t){return new ilib.String(this.str.concat(t))},indexOf:function(t,e){return this.str.indexOf(t,e)},lastIndexOf:function(t,e){return this.str.lastIndexOf(t,e)},match:function(t){return this.str.match(t)},replace:function(t,e){return new ilib.String(this.str.replace(t,e))},search:function(t){return this.str.search(t)},slice:function(t,e){return new ilib.String(this.str.slice(t,e))},split:function(t,e){return this.str.split(t,e)},substr:function(t,e){return new ilib.String(this.str.substr(t,e))},substring:function(t,e){return this.str.substring(t,e)},toLowerCase:function(){return this.str.toLowerCase()},toUpperCase:function(){return this.str.toUpperCase()},_toCodePoint:function(t){return ilib.String.toCodePoint(this.str,t)},forEach:function(t){if("function"==typeof t)for(var e=this.charIterator();e.hasNext();)t(e.next())},forEachCodePoint:function(t){if("function"==typeof t)for(var e=this.iterator();e.hasNext();)t(e.next())},iterator:function(){function t(t){this.index=0,this.hasNext=function(){return this.index<t.str.length},this.next=function(){if(this.index<t.str.length){var e=t._toCodePoint(this.index);this.index+=e>65535?2:1}else e=-1;return e}}return new t(this)},charIterator:function(){function t(t){this.index=0,this.hasNext=function(){return this.index<t.str.length},this.next=function(){var e;return this.index<t.str.length&&(e=t.str.charAt(this.index),ilib.String._isSurrogate(e)&&this.index+1<t.str.length&&ilib.String._isSurrogate(t.str.charAt(this.index+1))&&(this.index++,e+=t.str.charAt(this.index)),this.index++),e}}return new t(this)},codePointAt:function(t){if(0>t)return-1;var e,i,n=this.iterator();for(e=t;e>=0&&n.hasNext();e--)i=n.next();return 0>e?i:-1},setLocale:function(t,e,i,n){"object"==typeof t?this.locale=t:(this.localeSpec=t,this.locale=new ilib.Locale(t)),ilib.String.loadPlurals(e!==void 0?e:!0,this.locale,i,n)},getLocale:function(){return(this.locale?this.locale.getSpec():this.localeSpec)||ilib.getLocale()},codePointLength:function(){if(-1===this.cpLength){var t=this.iterator();for(this.cpLength=0;t.hasNext();)this.cpLength++,t.next()}return this.cpLength}},ilib.Cal=function(){},ilib.Cal.newInstance=function(t){var e,i=t&&t.locale,n=t&&t.type;if(i||(i=new ilib.Locale),!n){var o=new ilib.LocaleInfo(i);n=o.getCalendar()}return e=ilib.Cal._constructors[n],e&&new e(t)},ilib.Cal._constructors={},ilib.Cal.getCalendars=function(){var t,e=[];for(t in ilib.Cal._constructors)t&&ilib.Cal._constructors[t]&&e.push(t);return e},ilib.Cal.prototype={getType:function(){throw"Cannot call methods of abstract class ilib.Cal"},getNumMonths:function(){throw"Cannot call methods of abstract class ilib.Cal"},getMonLength:function(){throw"Cannot call methods of abstract class ilib.Cal"},isLeapYear:function(){throw"Cannot call methods of abstract class ilib.Cal"}},ilib.signum=function(t){var e=t;if("string"==typeof t)e=parseInt(t,10);else if("number"!=typeof t)return 1;return 0>e?-1:1},ilib._roundFnc={floor:function(t){return Math.floor(t)},ceiling:function(t){return Math.ceil(t)},down:function(t){return 0>t?Math.ceil(t):Math.floor(t)},up:function(t){return 0>t?Math.floor(t):Math.ceil(t)},halfup:function(t){return 0>t?Math.ceil(t-.5):Math.floor(t+.5)},halfdown:function(t){return 0>t?Math.floor(t+.5):Math.ceil(t-.5)},halfeven:function(t){return 0===Math.floor(t)%2?Math.ceil(t-.5):Math.floor(t+.5)},halfodd:function(t){return 0!==Math.floor(t)%2?Math.ceil(t-.5):Math.floor(t+.5)}},ilib.JulianDay=function(t){this.jd=t,this.days=Math.floor(this.jd),this.frac=t-this.days},ilib.JulianDay.prototype={getDays:function(){return this.days},setDays:function(t){this.days=Math.floor(t),this.jd=this.days+this.frac},getDayFraction:function(){return this.frac},setDayFraction:function(t){var e=Math.floor(t);this.frac=t-e,this.jd=this.days+this.frac},getDate:function(){return this.jd},setDate:function(t){this.jd=t},addDate:function(t){"number"==typeof t&&(this.jd+=t,this.days=Math.floor(this.jd),this.frac=this.jd-this.days)}},ilib.Cal.Gregorian=function(){this.type="gregorian"},ilib.Cal.Gregorian.monthLengths=[31,28,31,30,31,30,31,31,30,31,30,31],ilib.Cal.Gregorian.prototype.getNumMonths=function(){return 12},ilib.Cal.Gregorian.prototype.getMonLength=function(t,e){return 2===t&&this.isLeapYear(e)?29:ilib.Cal.Gregorian.monthLengths[t-1]},ilib.Cal.Gregorian.prototype.isLeapYear=function(t){var e="number"==typeof t?t:t.getYears(),i=ilib.mod(e,400);return 0===ilib.mod(e,4)&&100!==i&&200!==i&&300!==i},ilib.Cal.Gregorian.prototype.getType=function(){return this.type},ilib.Cal.Gregorian.prototype.newDateInstance=function(t){return new ilib.Date.GregDate(t)},ilib.Cal._constructors.gregorian=ilib.Cal.Gregorian,ilib.Date.RataDie=function(t){if(t)if(t.date!==void 0){var e=t.date;e instanceof Date||(e=new Date(e)),this._setTime(e.getTime())}else t.unixtime!==void 0?this._setTime(parseInt(t.unixtime,10)):t.julianday!==void 0?this._setJulianDay(parseFloat(t.julianday)):t.year||t.month||t.day||t.hour||t.minute||t.second||t.millisecond||t.parts?this._setDateComponents(t):t.rd!==void 0&&(this.rd="object"==typeof t.rd&&t.rd instanceof ilib.Date.RataDie?t.rd.rd:t.rd);
if(this.rd===void 0){var i=new Date;this._setTime(i.getTime())}},ilib.Date.RataDie.prototype={epoch:1721424.5,_setTime:function(t){this._setJulianDay(2440587.5+t/864e5)},_setJulianDay:function(t){var e="number"==typeof t?new ilib.JulianDay(t):t;this.rd=ilib._roundFnc.halfup(864e5*(e.getDate()-this.epoch))/864e5},_onOrBefore:function(t,e){return t-ilib.mod(Math.floor(t)-e-2,7)},onOrBefore:function(t,e){return e=e||0,this._onOrBefore(this.rd+e,t)-e},onOrAfter:function(t,e){return e=e||0,this._onOrBefore(this.rd+6+e,t)-e},before:function(t,e){return e=e||0,this._onOrBefore(this.rd-1+e,t)-e},after:function(t,e){return e=e||0,this._onOrBefore(this.rd+7+e,t)-e},getTime:function(){var t=this.getJulianDay();return 2440587.5>t||t>2465442.634803241?-1:Math.round(864e5*(t-2440587.5))},getTimeExtended:function(){var t=this.getJulianDay();return-97559412.5>t||t>102440587.5?0/0:Math.round(864e5*(t-2440587.5))},getJulianDay:function(){return this.rd+this.epoch},getRataDie:function(){return this.rd}},ilib.Date.GregRataDie=function(t){this.cal=t&&t.cal||new ilib.Cal.Gregorian,this.rd=void 0,ilib.Date.RataDie.call(this,t)},ilib.Date.GregRataDie.prototype=new ilib.Date.RataDie,ilib.Date.GregRataDie.prototype.parent=ilib.Date.RataDie,ilib.Date.GregRataDie.prototype.constructor=ilib.Date.GregRataDie,ilib.Date.GregRataDie.cumMonthLengths=[0,31,59,90,120,151,181,212,243,273,304,334,365],ilib.Date.GregRataDie.cumMonthLengthsLeap=[0,31,60,91,121,152,182,213,244,274,305,335,366],ilib.Date.GregRataDie.prototype._setDateComponents=function(t){var e=parseInt(t.year,10)||0,i=parseInt(t.month,10)||1,n=parseInt(t.day,10)||1,o=parseInt(t.hour,10)||0,s=parseInt(t.minute,10)||0,a=parseInt(t.second,10)||0,r=parseInt(t.millisecond,10)||0,h=365*(e-1)+Math.floor((e-1)/4)-Math.floor((e-1)/100)+Math.floor((e-1)/400),l=(i>1?ilib.Date.GregRataDie.cumMonthLengths[i-1]:0)+n+(ilib.Cal.Gregorian.prototype.isLeapYear.call(this.cal,e)&&i>2?1:0),c=(36e5*o+6e4*s+1e3*a+r)/864e5;this.rd=h+l+c},ilib.Date.GregRataDie.prototype._onOrBefore=function(t,e){return t-ilib.mod(Math.floor(t)-e,7)},ilib.TimeZone=function(t){if(this.sync=!0,this.locale=new ilib.Locale,this.isLocal=!1,t){if(t.locale&&(this.locale="string"==typeof t.locale?new ilib.Locale(t.locale):t.locale),t.id){var e=""+t.id;if("local"===e){this.isLocal=!0;var i=new Date,n=new Date(i.getFullYear(),0,1),o=new Date(i.getFullYear(),5,1);this.offsetJan1=-n.getTimezoneOffset(),this.offsetJun1=-o.getTimezoneOffset(),this.offset=Math.min(this.offsetJan1,this.offsetJun1)}this.id=e}else t.offset&&(this.offset="string"==typeof t.offset?parseInt(t.offset,10):t.offset,this.id=this.getDisplayName(void 0,void 0));t.sync!==void 0&&(this.sync=!!t.sync),this.loadParams=t.loadParams,this.onLoad=t.onLoad}this.id?this._loadtzdata():new ilib.LocaleInfo(this.locale,{sync:this.sync,onLoad:ilib.bind(this,function(t){this.id=t.getTimeZone()||"Etc/UTC",this._loadtzdata()})})},ilib.TimeZone.prototype._loadtzdata=function(){ilib.data.zoneinfo[this.id]||void 0!==this.offset?this._initZone():ilib.loadData({object:ilib.TimeZone,nonlocale:!0,name:"zoneinfo/"+this.id+".json",sync:this.sync,loadParams:this.loadParams,callback:ilib.bind(this,function(t){t&&!ilib.isEmpty(t)&&(ilib.data.zoneinfo[this.id]=t),this._initZone()})})},ilib.TimeZone.prototype._initZone=function(){if(this.zone=ilib.data.zoneinfo[this.id],this.zone||void 0!==this.offset||(this.id="Etc/UTC",this.zone=ilib.data.zoneinfo[this.id]),this._calcDSTSavings(),this.offset===void 0&&this.zone.o){var t=this._offsetStringToObj(this.zone.o);this.offset=(60*Math.abs(t.h||0)+(t.m||0))*ilib.signum(t.h||0)}this.onLoad&&"function"==typeof this.onLoad&&this.onLoad(this)},ilib.data.timezone={},ilib.TimeZone.getAvailableIds=function(t){var e,i=[];if(!ilib.data.timezone.list)if(ilib.data.timezone.list=[],ilib._load instanceof ilib.Loader){var n=ilib._load.listAvailableFiles();for(var o in n){var s=n[o];"object"==typeof s&&s instanceof Array&&s.forEach(function(t){t&&t.match(/^zoneinfo/)&&ilib.data.timezone.list.push(t.replace(/^zoneinfo\//,"").replace(/\.json$/,""))})}}else for(e in ilib.data.zoneinfo)ilib.data.zoneinfo[e]&&ilib.data.timezone.list.push(e);if(t)ilib.data.zoneinfo.zonetab||ilib.loadData({object:ilib.TimeZone,nonlocale:!0,name:"zoneinfo/zonetab.json",sync:!0,callback:ilib.bind(this,function(t){t&&(ilib.data.zoneinfo.zonetab=t)})}),i=ilib.data.zoneinfo.zonetab[t];else{i.push("local");for(e in ilib.data.timezone.list)ilib.data.timezone.list[e]&&i.push(ilib.data.timezone.list[e])}return i},ilib.TimeZone.prototype.getId=function(){return""+this.id},ilib.TimeZone.prototype.getDisplayName=function(t,e){switch(e=this.isLocal||this.zone===void 0?"rfc822":e||"standard"){default:case"standard":if(this.zone.f&&"zzz"!==this.zone.f){if(-1!==this.zone.f.indexOf("{c}")){var i="";i=this.inDaylightTime(t)?this.zone.s&&this.zone.s.c:this.zone.e&&this.zone.e.c;var n=new ilib.String(this.zone.f);return n.format({c:i||""})}return this.zone.f}var n="GMT"+this.zone.o;return this.inDaylightTime(t)&&(n+="+"+this.zone.s.v),n;case"rfc822":var o=this.getOffset(t),s="UTC",a=o.h||0,r=o.m||0;return 0!==a&&(s+=a>0?"+":"-",10>Math.abs(a)&&(s+="0"),s+=0>a?-a:a,10>r&&(s+="0"),s+=r),s;case"long":if(this.zone.n){if(-1!==this.zone.n.indexOf("{c}")){var h=this.inDaylightTime(t)?"Daylight":"Standard",n=new ilib.String(this.zone.n);return n.format({c:h||""})}return this.zone.n}var n="GMT"+this.zone.o;return this.inDaylightTime(t)&&(n+="+"+this.zone.s.v),n}},ilib.TimeZone.prototype._offsetStringToObj=function(t){var e,i="string"==typeof t?t.split(":"):[],n={h:0};return i.length>0&&(n.h=parseInt(i[0],10),i.length>1&&(e=parseInt(i[1],10),e&&(n.m=e),i.length>2&&(e=parseInt(i[2],10),e&&(n.s=e)))),n},ilib.TimeZone.prototype.getOffset=function(t){if(!t)return this.getRawOffset();var e=this.getOffsetMillis(t)/6e4,i=ilib._roundFnc.down(e/60),n=Math.abs(e)-60*Math.abs(i),o={h:i};return 0!=n&&(o.m=n),o},ilib.TimeZone.prototype.getOffsetMillis=function(t){var e;if(this.isLocal&&t.dst===void 0){var i=t?new Date(t.getTime()):new Date;return 6e4*-i.getTimezoneOffset()}return e=this.offset,t&&this.inDaylightTime(t)&&(e+=this.dstSavings),6e4*e},ilib.TimeZone.prototype._getOffsetMillisWallTime=function(t){var e;return e=this.offset,t&&this.inDaylightTime(t,!0)&&(e+=this.dstSavings),6e4*e},ilib.TimeZone.prototype.getOffsetStr=function(t){var e,i=this.getOffset(t);return e=i.h,i.m!==void 0?(e+=":"+i.m,i.s!==void 0&&(e+=":"+i.s)):e+=":0",e},ilib.TimeZone.prototype.getRawOffset=function(){var t=ilib._roundFnc.down(this.offset/60),e=Math.abs(this.offset)-60*Math.abs(t),i={h:t};return 0!=e&&(i.m=e),i},ilib.TimeZone.prototype.getRawOffsetMillis=function(){return 6e4*this.offset},ilib.TimeZone.prototype.getRawOffsetStr=function(){var t=this.getRawOffset();return t.h+":"+(t.m||"0")},ilib.TimeZone.prototype.getDSTSavings=function(){if(this.isLocal){var t=Math.abs(this.offsetJan1-this.offsetJun1),e=ilib._roundFnc.down(t/60),i=t-60*e;return{h:e,m:i}}return this.zone&&this.zone.s?this._offsetStringToObj(this.zone.s.v):{h:0}},ilib.TimeZone.prototype.getDSTSavingsStr=function(){if(this.isLocal){var t=this.getDSTSavings();return t.h+":"+t.m}return this.offset!==void 0&&this.zone&&this.zone.s?this.zone.s.v:"0:0"},ilib.TimeZone.prototype._calcRuleStart=function(t,e){var i,n,o,s,a,r="=",h=0,l=0,c=0,d=0;t.j!==void 0?n=new ilib.Date.GregRataDie({julianday:t.j}):("l"==t.r.charAt(0)||"f"==t.r.charAt(0)?(o=ilib.Cal.newInstance({type:"gregorian"}),r=t.r.charAt(0),h=parseInt(t.r.substring(1),10),i="l"===r?o.getMonLength(t.m,e):1):(a=t.r.indexOf("<"),-1==a&&(a=t.r.indexOf(">")),-1!=a?(r=t.r.charAt(a),h=parseInt(t.r.substring(0,a),10),i=parseInt(t.r.substring(a+1),10)):i=parseInt(t.r,10)),t.t&&(s=t.t.split(":"),l=parseInt(s[0],10),s.length>1&&(c=parseInt(s[1],10),s.length>2&&(d=parseInt(s[2],10)))),n=new ilib.Date.GregRataDie({year:e,month:t.m,day:i,hour:l,minute:c,second:d}));var u=n.getRataDie();switch(r){case"l":case"<":u=n.onOrBefore(h);break;case"f":case">":u=n.onOrAfter(h)}return u},ilib.TimeZone.prototype._calcDSTSavings=function(){var t=this.getDSTSavings();this.dstSavings=(60*Math.abs(t.h||0)+(t.m||0))*ilib.signum(t.h||0)},ilib.TimeZone.prototype._getDSTStartRule=function(){return this.zone.s},ilib.TimeZone.prototype._getDSTEndRule=function(){return this.zone.e},ilib.TimeZone.prototype.inDaylightTime=function(t,e){var i,n,o;if(this.isLocal){var s=0;void 0===t.dst||t.dst||(s=6e4*this.dstSavings);var a=new Date(t?t.getTimeExtended()+s:void 0),r=Math.max(this.offsetJan1,this.offsetJun1);return-a.getTimezoneOffset()===r}if(t?t instanceof ilib.Date.GregDate||(t=new ilib.Date.GregDate({julianday:t.getJulianDay(),timezone:t.getTimeZone()})):t=new ilib.Date.GregDate,!this.useDaylightTime(t.year))return!1;i=t.rd.getRataDie();var h=this._getDSTStartRule(t.year),l=this._getDSTEndRule(t.year);return n=this._calcRuleStart(h,t.year),o=this._calcRuleStart(l,t.year),e?n+=this.dstSavings/1440:(n-=this.offset/1440,o-=(this.offset+this.dstSavings)/1440),o>i&&this.dstSavings/1440>=o-i&&"boolean"==typeof t.dst?t.dst:o>n?i>=n&&o>i?!0:!1:i>=n||o>i?!0:!1},ilib.TimeZone.prototype.useDaylightTime=function(){return this.isLocal&&this.offsetJan1!==this.offsetJun1||this.zone!==void 0&&this.zone.s!==void 0&&this.zone.e!==void 0},ilib.TimeZone.prototype.getCountry=function(){return this.zone.c},ilib.ResBundle=function(t){var e,i;this.locale=new ilib.Locale,this.baseName="strings",this.type="text",this.loadParams={},this.missing="source",this.sync=!0,t&&(t.locale&&(this.locale="string"==typeof t.locale?new ilib.Locale(t.locale):t.locale),t.name&&(this.baseName=t.name),t.type&&(this.type=t.type),this.lengthen=t.lengthen||!1,t.sync!==void 0&&(this.sync=1==t.sync),t.loadParams!==void 0&&(this.loadParams=t.loadParams),t.missing!==void 0&&("pseudo"===t.missing||"empty"===t.missing)&&(this.missing=t.missing)),this.map={},ilib.ResBundle[this.baseName]||(ilib.ResBundle[this.baseName]={}),e=this.locale.isPseudo()?new ilib.Locale("en-US"):this.locale,ilib.loadData({object:ilib.ResBundle[this.baseName],locale:e,name:this.baseName+".json",sync:this.sync,loadParams:this.loadParams,callback:ilib.bind(this,function(n){n||(n=ilib.data[this.baseName]||{},i=e.getSpec().replace(/-/g,"_"),ilib.ResBundle[this.baseName].cache[i]=n),this.map=n,this.locale.isPseudo()?(ilib.ResBundle.pseudomap||(ilib.ResBundle.pseudomap={}),this._loadPseudo(this.locale,t.onLoad)):"pseudo"===this.missing?(ilib.ResBundle.pseudomap||(ilib.ResBundle.pseudomap={}),new ilib.LocaleInfo(this.locale,{sync:this.sync,loadParams:this.loadParams,onLoad:ilib.bind(this,function(e){var i=new ilib.Locale("zxx","XX",void 0,e.getDefaultScript());this._loadPseudo(i,t.onLoad)})})):t&&"function"==typeof t.onLoad&&t.onLoad(this)})})},ilib.ResBundle.defaultPseudo=ilib.data.pseudomap||{a:"\u00e0",e:"\u00eb",i:"\u00ed",o:"\u00f5",u:"\u00fc",y:"\u00ff",A:"\u00c3",E:"\u00cb",I:"\u00cf",O:"\u00d8",U:"\u00da",Y:"\u0176"},ilib.ResBundle.prototype={_loadPseudo:function(t,e){ilib.loadData({object:ilib.ResBundle.pseudomap,locale:t,name:"pseudomap.json",sync:this.sync,loadParams:this.loadParams,callback:ilib.bind(this,function(i){if(!i||ilib.isEmpty(i)){i=ilib.ResBundle.defaultPseudo;var n=t.getSpec().replace(/-/g,"_");ilib.ResBundle.pseudomap.cache[n]=i}this.pseudomap=i,"function"==typeof e&&e(this)})})},getLocale:function(){return this.locale},getName:function(){return this.baseName},getType:function(){return this.type},pseudo:function(t){if(!t)return void 0;var e,i="";for(e=0;t.length>e;e++)if("raw"!==this.type){if("html"===this.type||"xml"===this.type)if("<"===t.charAt(e)){for(i+=t.charAt(e++);t.length>e&&">"!==t.charAt(e);)i+=t.charAt(e++);t.length>e&&(i+=t.charAt(e++))}else if("&"===t.charAt(e)){for(i+=t.charAt(e++);t.length>e&&";"!==t.charAt(e)&&" "!==t.charAt(e);)i+=t.charAt(e++);t.length>e&&(i+=t.charAt(e++))}if(t.length>e)if("{"===t.charAt(e)){for(i+=t.charAt(e++);t.length>e&&"}"!==t.charAt(e);)i+=t.charAt(e++);t.length>e&&(i+=t.charAt(e))}else i+=this.pseudomap[t.charAt(e)]||t.charAt(e)}else i+=this.pseudomap[t.charAt(e)]||t.charAt(e);if(this.lengthen){var n;for(n=20>=i.length?Math.round(i.length/2):i.length>20&&40>=i.length?Math.round(i.length/3):Math.round(i.length/5),e=n-1;e>=0;e--)i+=e%10}return("Hans"===this.locale.getScript()||"Hant"===this.locale.getScript()||"Hani"===this.locale.getScript()||"Hrkt"===this.locale.getScript()||"Jpan"===this.locale.getScript()||"Hira"===this.locale.getScript()||"Kana"===this.locale.getScript())&&(i=i.replace(/ /g,"")),i},escapeXml:function(t){return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;")},unescapeXml:function(t){return t=t.replace(/&amp;/g,"&"),t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">")},makeKey:function(t){var e=t.replace(/\s+/gm," ");return"xml"===this.type||"html"===this.type?this.unescapeXml(e):e},getString:function(t,e,i){if(!t&&!e)return new ilib.String("");var n;if(this.locale.isPseudo()){var o=t?t:this.map[e];n=this.pseudo(o||e)}else{var s=e||this.makeKey(t);n=this.map[s]!==void 0?this.map[s]:"pseudo"===this.missing?this.pseudo(t||e):"empty"===this.missing?"":t}if(i&&"none"!==i&&("default"==i&&(i=this.type),"xml"===i||"html"===i?n=this.escapeXml(n):("js"==i||"attribute"===i)&&(n=n.replace(/'/g,"\\'").replace(/"/g,'\\"'))),void 0===n)return void 0;var a=new ilib.String(n);return a.setLocale(this.locale.getSpec(),!0,this.loadParams),a},containsKey:function(t,e){if(t===void 0&&e===void 0)return!1;var i=e||this.makeKey(t);return this.map[i]!==void 0},getResObj:function(){return this.map}},ilib.shallowCopy=function(t,e){var i=void 0;if(t&&e)for(i in t)void 0!==i&&t[i]!==void 0&&(e[i]=t[i])},ilib.deepCopy=function(t,e){var i;for(i in t)i&&("object"==typeof t[i]?(e[i]={},ilib.deepCopy(t[i],e[i])):e[i]=t[i]);return e},ilib.mapString=function(t,e){var i="";if(e&&t)for(var n=0;t.length>n;n++){var o=t.charAt(n);i+=e[o]||o}else i=t;return i},ilib.indexOf=function(t,e){if(!t||!e)return-1;if("function"==typeof t.indexOf)return t.indexOf(e);for(var i=0;t.length>i;i++)if(t[i]===e)return i;return-1},ilib.toHexString=function(t,e){var i,n="",o=e&&9>e?e:4;if(!t)return"";for(i=0;t.length>i;i++){var s=t.charCodeAt(i).toString(16);n+="00000000".substring(0,o-s.length)+s}return n.toUpperCase()},ilib.DateFmt=function(t){var e,i,n,o=!0,s=void 0;if(this.locale=new ilib.Locale,this.type="date",this.length="s",this.dateComponents="dmy",this.timeComponents="ahm",this.meridiems="default",t){if(t.locale&&(this.locale="string"==typeof t.locale?new ilib.Locale(t.locale):t.locale),t.type&&("date"===t.type||"time"===t.type||"datetime"===t.type)&&(this.type=t.type),t.calendar&&(this.calName=t.calendar),t.length&&("short"===t.length||"medium"===t.length||"long"===t.length||"full"===t.length)&&(this.length=t.length.charAt(0)),t.date){for(e=t.date.split(""),e.sort(function(t,e){return e>t?-1:t>e?1:0}),n=!1,i=0;e.length>i;i++)if("d"!==e[i]&&"m"!==e[i]&&"y"!==e[i]&&"w"!==e[i]&&"n"!==e[i]){n=!0;break}n||(this.dateComponents=e.join(""))}if(t.time){for(e=t.time.split(""),e.sort(function(t,e){return e>t?-1:t>e?1:0}),this.badTime=!1,i=0;e.length>i;i++)if("h"!==e[i]&&"m"!==e[i]&&"s"!==e[i]&&"a"!==e[i]&&"z"!==e[i]){this.badTime=!0;break}this.badTime||(this.timeComponents=e.join(""))}!t.clock||"12"!==t.clock&&"24"!==t.clock||(this.clock=t.clock),t.template&&(this.type="",this.length="",this.dateComponents="",this.timeComponents="",this.template=t.template),t.timezone?this.tz=t.timezone instanceof ilib.TimeZone?t.timezone:new ilib.TimeZone({locale:this.locale,id:t.timezone}):t.locale&&(this.tz=new ilib.TimeZone({locale:this.locale})),"boolean"==typeof t.useNative&&(this.useNative=t.useNative),t.meridiems!==void 0&&"chinese"===t.meridiems&&(this.meridiems=t.meridiems),t.sync!==void 0&&(o=t.sync===!0),s=t.loadParams}ilib.DateFmt.cache||(ilib.DateFmt.cache={}),new ilib.LocaleInfo(this.locale,{sync:o,loadParams:s,onLoad:ilib.bind(this,function(e){this.locinfo=e,this.calName=this.calName||this.locinfo.getCalendar()||"gregorian",this.cal=ilib.Cal.newInstance({type:this.calName}),this.cal||(this.cal=new ilib.Cal.Gregorian),new ilib.ResBundle({locale:this.locale,name:"sysres",sync:o,loadParams:s,onLoad:ilib.bind(this,function(e){this.sysres=e,this.template?(this._massageTemplate(),t&&"function"==typeof t.onLoad&&t.onLoad(this)):ilib.loadData({object:ilib.DateFmt,locale:this.locale,name:"dateformats.json",sync:o,loadParams:s,callback:ilib.bind(this,function(e){if(!e){e=ilib.data.dateformats||ilib.DateFmt.defaultFmt;var i=this.locale.getSpec().replace(/-/g,"_");ilib.DateFmt.cache[i]=e}this.clock===void 0&&(this.clock=this.locinfo.getClock()),this._initTemplate(e),this._massageTemplate(),t&&"function"==typeof t.onLoad&&t.onLoad(this)})})})})})})},ilib.DateFmt.lenmap={s:"short",m:"medium",l:"long",f:"full"},ilib.DateFmt.zeros="0000",ilib.DateFmt.defaultFmt={gregorian:{order:"{date} {time}",date:{dmwy:"EEE d/MM/yyyy",dmy:"d/MM/yyyy",dmw:"EEE d/MM",dm:"d/MM",my:"MM/yyyy",dw:"EEE d",d:"dd",m:"MM",y:"yyyy",n:"NN",w:"EEE"},time:{12:"h:mm:ssa",24:"H:mm:ss"},range:{c00:"{st} - {et}, {sd}/{sm}/{sy}",c01:"{sd}/{sm} {st} - {ed}/{em} {et}, {sy}",c02:"{sd}/{sm} {st} - {ed}/{em} {et}, {sy}",c03:"{sd}/{sm}/{sy} {st} - {ed}/{em}/{ey} {et}",c10:"{sd}-{ed}/{sm}/{sy}",c11:"{sd}/{sm} - {ed}/{em} {sy}",c12:"{sd}/{sm}/{sy} - {ed}/{em}/{ey}",c20:"{sm}/{sy} - {em}/{ey}",c30:"{sy} - {ey}"}},islamic:"gregorian",hebrew:"gregorian",julian:"gregorian",buddhist:"gregorian",persian:"gregorian","persian-algo":"gregorian"},ilib.DateFmt.monthNameLenMap={"short":"N",medium:"NN","long":"MMM",full:"MMMM"},ilib.DateFmt.weekDayLenMap={"short":"E",medium:"EE","long":"EEE",full:"EEEE"},ilib.DateFmt.prototype={_initTemplate:function(t){if(!t[this.calName])throw"No formats available for calendar "+this.calName+" in locale "+(""+this.locale);switch(this.formats=t[this.calName],"string"==typeof this.formats&&(this.formats=t[this.formats]),this.template="",this.type){case"datetime":this.template=this.formats&&this._getLengthFormat(this.formats.order,this.length)||"{date} {time}",this.template=this.template.replace("{date}",this._getFormat(this.formats.date,this.dateComponents,this.length)||""),this.template=this.template.replace("{time}",this._getFormat(this.formats.time[this.clock],this.timeComponents,this.length)||"");break;case"date":this.template=this._getFormat(this.formats.date,this.dateComponents,this.length);break;case"time":this.template=this._getFormat(this.formats.time[this.clock],this.timeComponents,this.length)}},_massageTemplate:function(){var t;if(this.clock&&this.template){var e="";switch(this.clock){case"24":for(t=0;this.template.length>t;t++)if("'"==this.template.charAt(t)){for(e+=this.template.charAt(t++);this.template.length>t&&"'"!==this.template.charAt(t);)e+=this.template.charAt(t++);this.template.length>t&&(e+=this.template.charAt(t))}else e+="K"==this.template.charAt(t)?"k":"h"==this.template.charAt(t)?"H":this.template.charAt(t);this.template=e;break;case"12":for(t=0;this.template.length>t;t++)if("'"==this.template.charAt(t)){for(e+=this.template.charAt(t++);this.template.length>t&&"'"!==this.template.charAt(t);)e+=this.template.charAt(t++);this.template.length>t&&(e+=this.template.charAt(t))}else e+="k"==this.template.charAt(t)?"K":"H"==this.template.charAt(t)?"h":this.template.charAt(t);this.template=e}}this.templateArr=this._tokenize(this.template);var i;"boolean"==typeof this.useNative?this.useNative&&(i=this.locinfo.getNativeDigits(),i&&(this.digits=i)):"native"===this.locinfo.getDigitsStyle()&&(i=this.locinfo.getNativeDigits(),i&&(this.useNative=!0,this.digits=i))},_tokenize:function(t){var e,i,n,o=0,s=[];if(t)for(;t.length>o;){if(i=t.charAt(o),e=o,"'"===i){for(o++;t.length>o&&"'"!==t.charAt(o);)o++;t.length>o&&o++}else if(i>="a"&&"z">=i||i>="A"&&"Z">=i)for(n=t.charAt(o);t.length>o&&i===n;)i=t.charAt(++o);else for(;t.length>o&&"'"!==i&&("a">i||i>"z")&&("A">i||i>"Z");)i=t.charAt(++o);s.push(t.substring(e,o))}return s},_getFormat:function(t,e,i){return e!==void 0&&t[e]?this._getLengthFormat(t[e],i):void 0},_getLengthFormat:function(t,e){return"string"==typeof t?t:t[e]?t[e]:void 0},getLocale:function(){return this.locale},getTemplate:function(){return this.template},getType:function(){return this.type},getCalendar:function(){return this.cal.getType()},getLength:function(){return ilib.DateFmt.lenmap[this.length]||""},getDateComponents:function(){return this.dateComponents||""},getTimeComponents:function(){return this.timeComponents||""},getTimeZone:function(){return this.tz||(this.tz=new ilib.TimeZone({id:ilib.getTimeZone()})),this.tz},getClock:function(){return this.clock||this.locinfo.getClock()},_getTemplate:function(t,e){return"gregorian"!==e?t+"-"+e:t},getMonthsOfYear:function(t){var e,i,n=t&&t.length||this.getLength(),o=ilib.DateFmt.monthNameLenMap[n],s=[void 0];t&&(t.date&&(e=ilib.Date._dateToIlib(t.date)),t.year&&(e=ilib.Date.newInstance({year:t.year,month:1,day:1,type:this.cal.getType()}))),e||(e=this.cal.newDateInstance()),i=this.cal.getNumMonths(e.getYears());for(var a=1;i>=a;a++)s[a]=""+this.sysres.getString(this._getTemplate(o+a,this.cal.getType()));return s},getDaysOfWeek:function(t){for(var e=t&&t.length||this.getLength(),i=ilib.DateFmt.weekDayLenMap[e],n=[],o=0;7>o;o++)n[o]=""+this.sysres.getString(this._getTemplate(i+o,this.cal.getType()));return n},toString:function(){return this.getTemplate()},_pad:function(t,e){"string"!=typeof t&&(t=""+t);var i=0;return"-"===t.charAt(0)&&i++,t.length>=e+i?t:t.substring(0,i)+ilib.DateFmt.zeros.substring(0,e-t.length+i)+t.substring(i)},_formatTemplate:function(t,e){var i,n,o,s,a="";for(i=0;e.length>i;i++)switch(e[i]){case"d":a+=t.day||1;break;case"dd":a+=this._pad(t.day||"1",2);break;case"yy":o=""+(t.year||0)%100,a+=this._pad(o,2);break;case"yyyy":a+=this._pad(t.year||"0",4);break;case"M":a+=t.month||1;break;case"MM":a+=this._pad(t.month||"1",2);break;case"h":o=(t.hour||0)%12,0==o&&(o="12"),a+=o;break;case"hh":o=(t.hour||0)%12,0==o&&(o="12"),a+=this._pad(o,2);break;case"K":o=(t.hour||0)%12,a+=o;break;case"KK":o=(t.hour||0)%12,a+=this._pad(o,2);break;case"H":a+=t.hour||"0";break;case"HH":a+=this._pad(t.hour||"0",2);break;case"k":a+=0==t.hour?"24":t.hour;break;case"kk":o=0==t.hour?"24":t.hour,a+=this._pad(o,2);break;case"m":a+=t.minute||"0";break;case"mm":a+=this._pad(t.minute||"0",2);break;case"s":a+=t.minute||"0";break;case"ss":a+=this._pad(t.second||"0",2);break;case"S":a+=t.millisecond||"0";break;case"SSS":a+=this._pad(t.millisecond||"0",3);break;case"N":case"NN":case"MMM":case"MMMM":n=e[i]+(t.month||1),a+=this.sysres.getString(void 0,n+"-"+this.calName)||this.sysres.getString(void 0,n);break;case"E":case"EE":case"EEE":case"EEEE":n=e[i]+t.getDayOfWeek(),a+=this.sysres.getString(void 0,n+"-"+this.calName)||this.sysres.getString(void 0,n);break;case"a":n="chinese"===this.meridiems?6>t.hour?"azh0":9>t.hour?"azh1":12>t.hour?"azh2":13>t.hour?"azh3":18>t.hour?"azh4":21>t.hour?"azh5":"azh6":12>t.hour?"a0":"a1",a+=this.sysres.getString(void 0,n+"-"+this.calName)||this.sysres.getString(void 0,n);break;case"w":a+=t.getWeekOfYear();break;case"ww":a+=this._pad(t.getWeekOfYear(),2);break;case"D":a+=t.getDayOfYear();break;case"DD":a+=this._pad(t.getDayOfYear(),2);break;case"DDD":a+=this._pad(t.getDayOfYear(),3);break;case"W":a+=t.getWeekOfMonth(this.locale);break;case"G":n="G"+t.getEra(),a+=this.sysres.getString(void 0,n+"-"+this.calName)||this.sysres.getString(void 0,n);break;case"O":o=this.sysres.getString("1#1st|2#2nd|3#3rd|21#21st|22#22nd|23#23rd|31#31st|#{num}th","ordinalChoice"),a+=o.formatChoice(t.day,{num:t.day});break;case"z":s=this.getTimeZone(),a+=s.getDisplayName(t,"standard");break;case"Z":s=this.getTimeZone(),a+=s.getDisplayName(t,"rfc822");break;default:a+=e[i].replace(/'/g,"")}return this.digits&&(a=ilib.mapString(a,this.digits)),a},format:function(t){var e=this.tz&&this.tz.getId()||"local",i=ilib.Date._dateToIlib(t,e);if(!(i.getCalendar&&i instanceof ilib.Date))throw"Wrong date type passed to ilib.DateFmt.format()";var n=i.timezone||"local";if(n!==e||i.getCalendar()!==this.calName){var o=ilib.Date.newInstance({type:this.calName,timezone:e,julianday:i.getJulianDay()});i=o}return this._formatTemplate(i,this.templateArr)},formatRelative:function(t,e){t=ilib.Date._dateToIlib(t),e=ilib.Date._dateToIlib(e);var i,n,o,s,a,r;if("object"!=typeof t||!t.getCalendar||t.getCalendar()!==this.calName||"object"!=typeof e||!e.getCalendar||e.getCalendar()!==this.calName)throw"Wrong calendar type";if(i=t.getRataDie(),n=e.getRataDie(),i>n?(a=i-n,o=this.sysres.getString("{duration} ago")):(a=n-i,o=this.sysres.getString("in {duration}")),694444e-9>a)switch(r=Math.round(86400*a),this.length){case"s":s=this.sysres.getString("#{num}s");break;case"m":s=this.sysres.getString("1#1 se|#{num} sec");break;case"l":s=this.sysres.getString("1#1 sec|#{num} sec");break;default:case"f":s=this.sysres.getString("1#1 second|#{num} seconds")}else if(.041666667>a)switch(r=Math.round(1440*a),this.length){case"s":s=this.sysres.getString("#{num}m","durationShortMinutes");break;case"m":s=this.sysres.getString("1#1 mi|#{num} min");break;case"l":s=this.sysres.getString("1#1 min|#{num} min");break;default:case"f":s=this.sysres.getString("1#1 minute|#{num} minutes")}else if(1>a)switch(r=Math.round(24*a),this.length){case"s":s=this.sysres.getString("#{num}h");break;case"m":s=this.sysres.getString("1#1 hr|#{num} hrs","durationMediumHours");break;case"l":s=this.sysres.getString("1#1 hr|#{num} hrs");break;default:case"f":s=this.sysres.getString("1#1 hour|#{num} hours")}else if(14>a)switch(r=Math.round(a),this.length){case"s":s=this.sysres.getString("#{num}d");break;case"m":s=this.sysres.getString("1#1 dy|#{num} dys");break;case"l":s=this.sysres.getString("1#1 day|#{num} days","durationLongDays");break;default:case"f":s=this.sysres.getString("1#1 day|#{num} days")}else if(84>a)switch(r=Math.round(a/7),this.length){case"s":s=this.sysres.getString("#{num}w");break;case"m":s=this.sysres.getString("1#1 wk|#{num} wks","durationMediumWeeks");break;case"l":s=this.sysres.getString("1#1 wk|#{num} wks");break;default:case"f":s=this.sysres.getString("1#1 week|#{num} weeks")}else if(730>a)switch(r=Math.round(a/30.4),this.length){case"s":s=this.sysres.getString("#{num}m","durationShortMonths");break;case"m":s=this.sysres.getString("1#1 mo|#{num} mos");break;case"l":s=this.sysres.getString("1#1 mon|#{num} mons");break;default:case"f":s=this.sysres.getString("1#1 month|#{num} months")}else switch(r=Math.round(a/365),this.length){case"s":s=this.sysres.getString("#{num}y");break;case"m":s=this.sysres.getString("1#1 yr|#{num} yrs","durationMediumYears");break;case"l":s=this.sysres.getString("1#1 yr|#{num} yrs");break;default:case"f":s=this.sysres.getString("1#1 year|#{num} years")}return o.format({duration:s.formatChoice(r,{num:r})})}},ilib.DateRngFmt=function(t){var e=!0,i=void 0;this.locale=new ilib.Locale,this.length="s",t&&(t.locale&&(this.locale="string"==typeof t.locale?new ilib.Locale(t.locale):t.locale),t.calendar&&(this.calName=t.calendar),t.length&&("short"===t.length||"medium"===t.length||"long"===t.length||"full"===t.length)&&(this.length=t.length.charAt(0)),t.sync!==void 0&&(e=1==t.sync),i=t.loadParams);var n={};ilib.shallowCopy(t,n),n.sync=e,n.loadParams=i,n.onLoad=ilib.bind(this,function(e){this.dateFmt=e,e&&(this.locinfo=this.dateFmt.locinfo,this.calName=this.calName||this.locinfo.getCalendar()||"gregorian",this.cal=ilib.Cal.newInstance({type:this.calName}),this.cal||(this.cal=new ilib.Cal.Gregorian),this.timeTemplate=this.dateFmt._getFormat(this.dateFmt.formats.time[this.dateFmt.clock],this.dateFmt.timeComponents,this.length)||"hh:mm",this.timeTemplateArr=this.dateFmt._tokenize(this.timeTemplate),t&&"function"==typeof t.onLoad&&t.onLoad(this))}),new ilib.DateFmt(n)},ilib.DateRngFmt.prototype={getLocale:function(){return this.locale},getCalendar:function(){return this.dateFmt.getCalendar()},getLength:function(){return ilib.DateFmt.lenmap[this.length]||""},getTimeZone:function(){return this.dateFmt.getTimeZone()},getClock:function(){return this.dateFmt.getClock()},format:function(t,e){var i,n,o,s,a,r="";if("object"!=typeof t||!t.getCalendar||t.getCalendar()!==this.calName||"object"!=typeof e||!e.getCalendar||e.getCalendar()!==this.calName)throw"Wrong calendar type";return i=t.getRataDie(),n=e.getRataDie(),r=3>n-i?t.year===e.year?t.month===e.month?t.day===e.day?new ilib.String(this.dateFmt._getFormat(this.dateFmt.formats.range,"c00",this.length)):new ilib.String(this.dateFmt._getFormat(this.dateFmt.formats.range,"c01",this.length)):new ilib.String(this.dateFmt._getFormat(this.dateFmt.formats.range,"c02",this.length)):new ilib.String(this.dateFmt._getFormat(this.dateFmt.formats.range,"c03",this.length)):730>n-i?t.year===e.year?t.month===e.month?new ilib.String(this.dateFmt._getFormat(this.dateFmt.formats.range,"c10",this.length)):new ilib.String(this.dateFmt._getFormat(this.dateFmt.formats.range,"c11",this.length)):new ilib.String(this.dateFmt._getFormat(this.dateFmt.formats.range,"c12",this.length)):3650>n-i?new ilib.String(this.dateFmt._getFormat(this.dateFmt.formats.range,"c20",this.length)):new ilib.String(this.dateFmt._getFormat(this.dateFmt.formats.range,"c30",this.length)),o=this.dateFmt._tokenize(this.dateFmt._getFormat(this.dateFmt.formats.date,"y",this.length)||"yyyy"),s=this.dateFmt._tokenize(this.dateFmt._getFormat(this.dateFmt.formats.date,"m",this.length)||"MM"),a=this.dateFmt._tokenize(this.dateFmt._getFormat(this.dateFmt.formats.date,"d",this.length)||"dd"),r.format({sy:this.dateFmt._formatTemplate(t,o),sm:this.dateFmt._formatTemplate(t,s),sd:this.dateFmt._formatTemplate(t,a),st:this.dateFmt._formatTemplate(t,this.timeTemplateArr),ey:this.dateFmt._formatTemplate(e,o),em:this.dateFmt._formatTemplate(e,s),ed:this.dateFmt._formatTemplate(e,a),et:this.dateFmt._formatTemplate(e,this.timeTemplateArr)})}},ilib.bsearch=function(t,e,i){if(e===void 0||!e||t===void 0)return-1;for(var n,o=e.length-1,s=0,a=0,r=i||ilib.bsearch.numbers;o>=s;)if(a=Math.floor((o+s)/2),n=r(e[a],t),n>0)o=a-1;else{if(!(0>n))return a;s=a+1}return s},ilib.bsearch.numbers=function(t,e){return t-e},ilib.Date.GregDate=function(t){if(this.cal=new ilib.Cal.Gregorian,this.timezone="local",t){if(t.locale){this.locale="string"==typeof t.locale?new ilib.Locale(t.locale):t.locale;var e=new ilib.LocaleInfo(this.locale);this.timezone=e.getTimeZone()}if(t.timezone&&(this.timezone=""+t.timezone),t.year||t.month||t.day||t.hour||t.minute||t.second||t.millisecond){if(this.year=parseInt(t.year,10)||0,this.month=parseInt(t.month,10)||1,this.day=parseInt(t.day,10)||1,this.hour=parseInt(t.hour,10)||0,this.minute=parseInt(t.minute,10)||0,this.second=parseInt(t.second,10)||0,this.millisecond=parseInt(t.millisecond,10)||0,"boolean"==typeof t.dst&&(this.dst=t.dst),this.rd=this.newRd(t),this.offset=0,"local"===this.timezone&&t.dst===void 0){var i=new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond);this.offset=-i.getTimezoneOffset()/1440}else this.tz||(this.tz=new ilib.TimeZone({id:this.timezone})),this.offset=this.tz._getOffsetMillisWallTime(this)/864e5;0!==this.offset&&(this.rd=this.newRd({rd:this.rd.getRataDie()-this.offset}))}}this.rd||(this.rd=this.newRd(t),this._calcDateComponents())},ilib.Date.GregDate.prototype=new ilib.Date({noinstance:!0}),ilib.Date.GregDate.prototype.parent=ilib.Date,ilib.Date.GregDate.prototype.constructor=ilib.Date.GregDate,ilib.Date.GregDate.prototype.newRd=function(t){return new ilib.Date.GregRataDie(t)},ilib.Date.GregDate.prototype._calcYear=function(t){var e,i,n,o,s,a,r,h;return o=Math.floor((t-1)/146097),e=ilib.mod(t-1,146097),s=Math.floor(e/36524),i=ilib.mod(e,36524),a=Math.floor(i/1461),n=ilib.mod(i,1461),r=Math.floor(n/365),h=400*o+100*s+4*a+r,4!==s&&4!==r&&h++,h},ilib.Date.GregDate.prototype._calcDateComponents=function(){if("local"===this.timezone&&this.rd.getRataDie()>=719163&&744018.134803241>=this.rd.getRataDie()){var t=new Date(this.rd.getTime());this.year=t.getFullYear(),this.month=t.getMonth()+1,this.day=t.getDate(),this.hour=t.getHours(),this.minute=t.getMinutes(),this.second=t.getSeconds(),this.millisecond=t.getMilliseconds(),this.offset=-t.getTimezoneOffset()/1440
}else{this.offset===void 0&&(this.year=this._calcYear(this.rd.getRataDie()),this.tz||(this.tz=new ilib.TimeZone({id:this.timezone})),this.offset=this.tz.getOffsetMillis(this)/864e5);var e=this.rd.getRataDie();0!==this.offset&&(e+=this.offset),this.year=this._calcYear(e);var i=this.newRd({year:this.year,month:1,day:1,cal:this.cal}),n=e-i.getRataDie()+1,o=ilib.Cal.Gregorian.prototype.isLeapYear.call(this.cal,this.year)?ilib.Date.GregRataDie.cumMonthLengthsLeap:ilib.Date.GregRataDie.cumMonthLengths;this.month=ilib.bsearch(Math.floor(n),o),n-=o[this.month-1],this.day=Math.floor(n),n-=this.day,n=Math.round(864e5*n),this.hour=Math.floor(n/36e5),n-=36e5*this.hour,this.minute=Math.floor(n/6e4),n-=6e4*this.minute,this.second=Math.floor(n/1e3),n-=1e3*this.second,this.millisecond=Math.floor(n)}},ilib.Date.GregDate.prototype.getDayOfWeek=function(){var t=Math.floor(this.rd.getRataDie()+(this.offset||0));return ilib.mod(t,7)},ilib.Date.GregDate.prototype.getDayOfYear=function(){var t=this.cal.isLeapYear(this.year)?ilib.Date.GregRataDie.cumMonthLengthsLeap:ilib.Date.GregRataDie.cumMonthLengths;return t[this.month-1]+this.day},ilib.Date.GregDate.prototype.getEra=function(){return 1>this.year?-1:1},ilib.Date.GregDate.prototype.getCalendar=function(){return"gregorian"},ilib.Date._constructors.gregorian=ilib.Date.GregDate,ilib.Cal.ThaiSolar=function(){this.type="thaisolar"},ilib.Cal.ThaiSolar.prototype=new ilib.Cal.Gregorian,ilib.Cal.ThaiSolar.prototype.parent=ilib.Cal.Gregorian,ilib.Cal.ThaiSolar.prototype.constructor=ilib.Cal.ThaiSolar,ilib.Cal.ThaiSolar.prototype.isLeapYear=function(t){var e="number"==typeof t?t:t.getYears();e-=543;var i=ilib.mod(e,400);return 0===ilib.mod(e,4)&&100!==i&&200!==i&&300!==i},ilib.Cal.ThaiSolar.prototype.newDateInstance=function(t){return new ilib.Date.ThaiSolarDate(t)},ilib.Cal._constructors.thaisolar=ilib.Cal.ThaiSolar,ilib.Date.ThaiSolarDate=function(t){var e=t;t&&(e={},ilib.shallowCopy(t,e),e.year!==void 0&&(e.year-=543),e.rd!==void 0&&(e.rd-=198327)),this.rd=void 0,this.offset=void 0,ilib.Date.GregDate.call(this,e),this.cal=new ilib.Cal.ThaiSolar,t&&t.year!==void 0&&(this.year=parseInt(t.year,10))},ilib.Date.ThaiSolarDate.prototype=new ilib.Date.GregDate,ilib.Date.ThaiSolarDate.prototype.parent=ilib.Date.GregDate.prototype,ilib.Date.ThaiSolarDate.prototype.constructor=ilib.Date.ThaiSolarDate,ilib.Date.ThaiSolarDate.epoch=1523097.5,ilib.Date.ThaiSolarDate.prototype._calcDateComponents=function(){this.parent._calcDateComponents.call(this),this.year+=543},ilib.Date.ThaiSolarDate.prototype.getRataDie=function(){return this.rd.getRataDie()+198327},ilib.Date.ThaiSolarDate.prototype.before=function(t){return this.cal.newDateInstance({rd:this.rd.before(t,this.offset)+198327,timezone:this.timezone})},ilib.Date.ThaiSolarDate.prototype.after=function(t){return this.cal.newDateInstance({rd:this.rd.after(t,this.offset)+198327,timezone:this.timezone})},ilib.Date.ThaiSolarDate.prototype.onOrBefore=function(t){return this.cal.newDateInstance({rd:this.rd.onOrBefore(t,this.offset)+198327,timezone:this.timezone})},ilib.Date.ThaiSolarDate.prototype.onOrAfter=function(t){return this.cal.newDateInstance({rd:this.rd.onOrAfter(t,this.offset)+198327,timezone:this.timezone})},ilib.Date.ThaiSolarDate.prototype.getCalendar=function(){return"thaisolar"},ilib.Date._constructors.thaisolar=ilib.Date.ThaiSolarDate,ilib.Date._dtr=function(t){return t*Math.PI/180},ilib.Date._rtd=function(t){return 180*t/Math.PI},ilib.Date._dcos=function(t){return Math.cos(ilib.Date._dtr(t))},ilib.Date._dsin=function(t){return Math.sin(ilib.Date._dtr(t))},ilib.Date._fixangle=function(t){return t-360*Math.floor(t/360)},ilib.Date._fixangr=function(t){return t-2*Math.PI*Math.floor(t/(2*Math.PI))},ilib.Date._EquinoxpTerms=[485,324.96,1934.136,203,337.23,32964.467,199,342.08,20.186,182,27.85,445267.112,156,73.14,45036.886,136,171.52,22518.443,77,222.54,65928.934,74,296.72,3034.906,70,243.58,9037.513,58,119.81,33718.147,52,297.17,150.678,50,21.02,2281.226,45,247.54,29929.562,44,325.15,31555.956,29,60.93,4443.417,18,155.12,67555.328,17,288.79,4562.452,16,198.04,62894.029,14,199.76,31436.921,12,95.39,14577.848,12,287.11,31931.756,12,320.81,34777.259,9,227.73,1222.114,8,15.45,16859.074],ilib.Date._JDE0tab1000=[[1721139.29189,365242.1374,.06134,.00111,-71e-5],[1721233.25401,365241.72562,-.05323,.00907,25e-5],[1721325.70455,365242.49558,-.11677,-.00297,74e-5],[1721414.39987,365242.88257,-.00769,-.00933,-6e-5]],ilib.Date._JDE0tab2000=[[2451623.80984,365242.37404,.05169,-.00411,-57e-5],[2451716.56767,365241.62603,.00325,.00888,-3e-4],[2451810.21715,365242.01767,-.11575,.00337,78e-5],[2451900.05952,365242.74049,-.06223,-.00823,32e-5]],ilib.Date._equinox=function(t,e){var i,n,o,s,a,r,h,l,c,d;for(1e3>t?(r=ilib.Date._JDE0tab1000,d=t/1e3):(r=ilib.Date._JDE0tab2000,d=(t-2e3)/1e3),s=r[e][0]+r[e][1]*d+r[e][2]*d*d+r[e][3]*d*d*d+r[e][4]*d*d*d*d,l=(s-2451545)/36525,c=35999.373*l-2.47,i=1+.0334*ilib.Date._dcos(c)+7e-4*ilib.Date._dcos(2*c),h=0,o=0,n=0;24>n;n++)h+=ilib.Date._EquinoxpTerms[o]*ilib.Date._dcos(ilib.Date._EquinoxpTerms[o+1]+ilib.Date._EquinoxpTerms[o+2]*l),o+=3;return a=s+1e-5*h/i},ilib.Date._deltaTtab=[121,112,103,95,88,82,77,72,68,63,60,56,53,51,48,46,44,42,40,38,35,33,31,29,26,24,22,20,18,16,14,12,11,10,9,8,7,7,7,7,7,7,8,8,9,9,9,9,9,10,10,10,10,10,10,10,10,11,11,11,11,11,12,12,12,12,13,13,13,14,14,14,14,15,15,15,15,15,16,16,16,16,16,16,16,16,15,15,14,13,13.1,12.5,12.2,12,12,12,12,12,12,11.9,11.6,11,10.2,9.2,8.2,7.1,6.2,5.6,5.4,5.3,5.4,5.6,5.9,6.2,6.5,6.8,7.1,7.3,7.5,7.6,7.7,7.3,6.2,5.2,2.7,1.4,-1.2,-2.8,-3.8,-4.8,-5.5,-5.3,-5.6,-5.7,-5.9,-6,-6.3,-6.5,-6.2,-4.7,-2.8,-.1,2.6,5.3,7.7,10.4,13.3,16,18.2,20.2,21.1,22.4,23.5,23.8,24.3,24,23.9,23.9,23.7,24,24.3,25.3,26.2,27.3,28.2,29.1,30,30.7,31.4,32.2,33.1,34,35,36.5,38.3,40.2,42.2,44.5,46.5,48.5,50.5,52.2,53.8,54.9,55.8,56.9,58.3,60,61.6,63,65,66.6],ilib.Date._deltat=function(t){var e,i,n,o;return t>=1620&&2e3>=t?(n=Math.floor((t-1620)/2),i=(t-1620)/2-n,e=ilib.Date._deltaTtab[n]+(ilib.Date._deltaTtab[n+1]-ilib.Date._deltaTtab[n])*i):(o=(t-2e3)/100,948>t?e=2177+497*o+44.1*o*o:(e=102+102*o+25.3*o*o,t>2e3&&2100>t&&(e+=.37*(t-2100)))),e},ilib.Date._oterms=[-4680.93,-1.55,1999.25,-51.38,-249.67,-39.05,7.12,27.87,5.79,2.45],ilib.Date._obliqeq=function(t){var e,i,n,o;if(n=i=(t-2451545)/3652500,e=23.43929111111111,1>Math.abs(i))for(o=0;10>o;o++)e+=ilib.Date._oterms[o]/3600*n,n*=i;return e},ilib.Date._sunpos=function(t){var e,i,n,o,s,a={};return e=(t-2451545)/36525,i=e*e,a.meanLongitude=280.46646+36000.76983*e+3032e-7*i,a.meanLongitude=ilib.Date._fixangle(a.meanLongitude),a.meanAnomaly=357.52911+35999.05029*e+-1537e-7*i,a.meanAnomaly=ilib.Date._fixangle(a.meanAnomaly),a.eccentricity=.016708634+-42037e-9*e+-1.267e-7*i,a.equationOfCenter=(1.914602+-.004817*e+-14e-6*i)*ilib.Date._dsin(a.meanAnomaly)+(.019993-101e-6*e)*ilib.Date._dsin(2*a.meanAnomaly)+289e-6*ilib.Date._dsin(3*a.meanAnomaly),a.sunLongitude=a.meanLongitude+a.equationOfCenter,a.sunAnomaly=a.meanAnomaly+a.equationOfCenter,a.sunRadius=1.000001018*(1-a.eccentricity*a.eccentricity)/(1+a.eccentricity*ilib.Date._dcos(a.sunAnomaly)),n=125.04-1934.136*e,a.apparentLong=a.sunLongitude+-.00569+-.00478*ilib.Date._dsin(n),s=ilib.Date._obliqeq(t),o=s+.00256*ilib.Date._dcos(n),a.rightAscension=ilib.Date._rtd(Math.atan2(ilib.Date._dcos(s)*ilib.Date._dsin(a.sunLongitude),ilib.Date._dcos(a.sunLongitude))),a.rightAscension=ilib.Date._fixangle(a.rightAscension),a.decliation=ilib.Date._rtd(Math.asin(ilib.Date._dsin(s)*ilib.Date._dsin(a.sunLongitude))),a.apparentRightAscension=ilib.Date._rtd(Math.atan2(ilib.Date._dcos(o)*ilib.Date._dsin(a.apparentLong),ilib.Date._dcos(a.apparentLong))),a.apparentRightAscension=ilib.Date._fixangle(a.apparentRightAscension),a.apparentDecliation=ilib.Date._rtd(Math.asin(ilib.Date._dsin(o)*ilib.Date._dsin(a.apparentLong))),a},ilib.Date._nutArgMult=[0,0,0,0,1,-2,0,0,2,2,0,0,0,2,2,0,0,0,0,2,0,1,0,0,0,0,0,1,0,0,-2,1,0,2,2,0,0,0,2,1,0,0,1,2,2,-2,-1,0,2,2,-2,0,1,0,0,-2,0,0,2,1,0,0,-1,2,2,2,0,0,0,0,0,0,1,0,1,2,0,-1,2,2,0,0,-1,0,1,0,0,1,2,1,-2,0,2,0,0,0,0,-2,2,1,2,0,0,2,2,0,0,2,2,2,0,0,2,0,0,-2,0,1,2,2,0,0,0,2,0,-2,0,0,2,0,0,0,-1,2,1,0,2,0,0,0,2,0,-1,0,1,-2,2,0,2,2,0,1,0,0,1,-2,0,1,0,1,0,-1,0,0,1,0,0,2,-2,0,2,0,-1,2,1,2,0,1,2,2,0,1,0,2,2,-2,1,1,0,0,0,-1,0,2,2,2,0,0,2,1,2,0,1,0,0,-2,0,2,2,2,-2,0,1,2,1,2,0,-2,0,1,2,0,0,0,1,0,-1,1,0,0,-2,-1,0,2,1,-2,0,0,0,1,0,0,2,2,1,-2,0,2,0,1,-2,1,0,2,1,0,0,1,-2,0,-1,0,1,0,0,-2,1,0,0,0,1,0,0,0,0,0,0,1,2,0,-1,-1,1,0,0,0,1,1,0,0,0,-1,1,2,2,2,-1,-1,2,2,0,0,-2,2,2,0,0,3,2,2,2,-1,0,2,2],ilib.Date._nutArgCoeff=[-171996,-1742,92095,89,-13187,-16,5736,-31,-2274,-2,977,-5,2062,2,-895,5,1426,-34,54,-1,712,1,-7,0,-517,12,224,-6,-386,-4,200,0,-301,0,129,-1,217,-5,-95,3,-158,0,0,0,129,1,-70,0,123,0,-53,0,63,0,0,0,63,1,-33,0,-59,0,26,0,-58,-1,32,0,-51,0,27,0,48,0,0,0,46,0,-24,0,-38,0,16,0,-31,0,13,0,29,0,0,0,29,0,-12,0,26,0,0,0,-22,0,0,0,21,0,-10,0,17,-1,0,0,16,0,-8,0,-16,1,7,0,-15,0,9,0,-13,0,7,0,-12,0,6,0,11,0,0,0,-10,0,5,0,-8,0,3,0,7,0,-3,0,-7,0,0,0,-7,0,3,0,-7,0,3,0,6,0,0,0,6,0,-3,0,6,0,-3,0,-6,0,3,0,-6,0,3,0,5,0,0,0,-5,0,3,0,-5,0,3,0,-5,0,3,0,4,0,0,0,4,0,0,0,4,0,0,0,-4,0,0,0,-4,0,0,0,-4,0,0,0,3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0],ilib.Date._nutation=function(t){var e,i,n,o,s,a,r=(t-2451545)/36525,h=[],l=0,c=0,d={};for(o=r*(n=r*r),h[0]=ilib.Date._dtr(297.850363+445267.11148*r-.0019142*n+o/189474),h[1]=ilib.Date._dtr(357.52772+35999.05034*r-1603e-7*n-o/3e5),h[2]=ilib.Date._dtr(134.96298+477198.867398*r+.0086972*n+o/56250),h[3]=ilib.Date._dtr(93.27191+483202.017538*r-.0036825*n+o/327270),h[4]=ilib.Date._dtr(125.04452-1934.136261*r+.0020708*n+o/45e4),e=0;5>e;e++)h[e]=ilib.Date._fixangr(h[e]);for(s=r/10,e=0;63>e;e++){for(a=0,i=0;5>i;i++)0!=ilib.Date._nutArgMult[5*e+i]&&(a+=ilib.Date._nutArgMult[5*e+i]*h[i]);l+=(ilib.Date._nutArgCoeff[4*e+0]+ilib.Date._nutArgCoeff[4*e+1]*s)*Math.sin(a),c+=(ilib.Date._nutArgCoeff[4*e+2]+ilib.Date._nutArgCoeff[4*e+3]*s)*Math.cos(a)}return d.deltaPsi=l/36e6,d.deltaEpsilon=c/36e6,d},ilib.Date._equationOfTime=function(t){var e,i,n,o,s,a,r;a=(t-2451545)/365250,s=280.4664567+360007.6982779*a+.03032028*a*a+a*a*a/49931+-(a*a*a*a/15300)+-(a*a*a*a*a/2e6),s=ilib.Date._fixangle(s),r=ilib.Date._sunpos(t),e=r.apparentRightAscension;var h=ilib.Date._nutation(t);return i=h.deltaPsi,o=ilib.Date._obliqeq(t)+h.deltaEpsilon,n=s+-.0057183+-e+i*ilib.Date._dcos(o),n-=20*Math.floor(n/20),n/=1440},ilib.Date.PersAstroRataDie=function(t){this.rd=void 0,ilib.Date.RataDie.call(this,t)},ilib.Date.PersAstroRataDie.prototype=new ilib.Date.RataDie,ilib.Date.PersAstroRataDie.prototype.parent=ilib.Date.RataDie,ilib.Date.PersAstroRataDie.prototype.constructor=ilib.Date.PersAstroRataDie,ilib.Date.PersAstroRataDie.prototype.epoch=1948319.5,ilib.Date.PersAstroRataDie.prototype._tehranEquinox=function(t){var e,i,n,o,s;return e=ilib.Date._equinox(t,0),i=e-ilib.Date._deltat(t)/86400,n=i+ilib.Date._equationOfTime(e),s=52.5/360,o=n+s},ilib.Date.PersAstroRataDie.prototype._getYear=function(t){var e,i=new ilib.Date.GregDate({julianday:t}),n=i.getYears()-2,o={};for(o.equinox=this._tehranEquinox(n);o.equinox>t;)n--,o.equinox=this._tehranEquinox(n);for(e=o.equinox-1;!(t>=Math.floor(o.equinox)+.5&&Math.floor(e)+.5>t);)o.equinox=e,n++,e=this._tehranEquinox(n);return o.year=Math.round((o.equinox-this.epoch-1)/365.24219878)+1,o},ilib.Date.PersAstroRataDie.prototype._setDateComponents=function(t){var e,i,n;for(i=this.epoch+1+365.24219878*(t.year-2),e={year:t.year-1,equinox:0};e.year<t.year;)e=this._getYear(i),i=e.equinox+367.24219878;n=Math.floor(e.equinox)+(7>=t.month?31*(t.month-1):30*(t.month-1)+6)+(t.day-1+.5),n+=(36e5*t.hour+6e4*t.minute+1e3*t.second+t.millisecond)/864e5,this.rd=n-this.epoch},ilib.Date.PersAstroRataDie.prototype._onOrBefore=function(t,e){return t-ilib.mod(Math.floor(t)-e-3,7)},ilib.Cal.Persian=function(){this.type="persian"},ilib.Cal.Persian.monthLengths=[31,31,31,31,31,31,30,30,30,30,30,29],ilib.Cal.Persian.prototype.getNumMonths=function(){return 12},ilib.Cal.Persian.prototype.getMonLength=function(t,e){return 12===t&&this.isLeapYear(e)?30:ilib.Cal.Persian.monthLengths[t-1]},ilib.Cal.Persian.prototype.isLeapYear=function(t){var e=new ilib.Date.PersAstroRataDie({cal:this,year:t+1,month:1,day:1,hour:0,minute:0,second:0,millisecond:0}),i=new ilib.Date.PersAstroRataDie({cal:this,year:t,month:1,day:1,hour:0,minute:0,second:0,millisecond:0});return e.getRataDie()-i.getRataDie()>365},ilib.Cal.Persian.prototype.getType=function(){return this.type},ilib.Cal.Persian.prototype.newDateInstance=function(t){return new ilib.Date.PersDate(t)},ilib.Cal._constructors.persian=ilib.Cal.Persian,ilib.Date.PersDate=function(t){if(this.cal=new ilib.Cal.Persian,this.timezone="local",t){if(t.locale){this.locale="string"==typeof t.locale?new ilib.Locale(t.locale):t.locale;var e=new ilib.LocaleInfo(this.locale);this.timezone=e.getTimeZone()}t.timezone&&(this.timezone=t.timezone),(t.year||t.month||t.day||t.hour||t.minute||t.second||t.millisecond)&&(this.year=parseInt(t.year,10)||0,this.month=parseInt(t.month,10)||1,this.day=parseInt(t.day,10)||1,this.hour=parseInt(t.hour,10)||0,this.minute=parseInt(t.minute,10)||0,this.second=parseInt(t.second,10)||0,this.millisecond=parseInt(t.millisecond,10)||0,this.dayOfYear=parseInt(t.dayOfYear,10),"boolean"==typeof t.dst&&(this.dst=t.dst),this.rd=this.newRd(this),this.tz||(this.tz=new ilib.TimeZone({id:this.timezone})),this.offset=this.tz._getOffsetMillisWallTime(this)/864e5,0!==this.offset&&(this.rd=this.newRd({rd:this.rd.getRataDie()-this.offset})))}this.rd||(this.rd=this.newRd(t),this._calcDateComponents())},ilib.Date.PersDate.prototype=new ilib.Date({noinstance:!0}),ilib.Date.PersDate.prototype.parent=ilib.Date,ilib.Date.PersDate.prototype.constructor=ilib.Date.PersDate,ilib.Date.PersDate.cumMonthLengths=[0,31,62,93,124,155,186,216,246,276,306,336,366],ilib.Date.PersDate.prototype.newRd=function(t){return new ilib.Date.PersAstroRataDie(t)},ilib.Date.PersDate.prototype._calcYear=function(t){var e=t+this.rd.epoch;return this.rd._getYear(e).year},ilib.Date.PersDate.prototype._calcDateComponents=function(){var t,e=this.rd.getRataDie();this.year=this._calcYear(e),this.offset===void 0&&(this.tz||(this.tz=new ilib.TimeZone({id:this.timezone})),this.offset=this.tz.getOffsetMillis(this)/864e5),0!==this.offset&&(e+=this.offset,this.year=this._calcYear(e));var i=this.newRd({year:this.year,month:1,day:1,hour:0,minute:0,second:0,millisecond:0});t=e-i.getRataDie()+1,this.dayOfYear=t,this.month=ilib.bsearch(Math.floor(t),ilib.Date.PersDate.cumMonthLengths),t-=ilib.Date.PersDate.cumMonthLengths[this.month-1],this.day=Math.floor(t),t-=this.day,t=Math.round(864e5*t),this.hour=Math.floor(t/36e5),t-=36e5*this.hour,this.minute=Math.floor(t/6e4),t-=6e4*this.minute,this.second=Math.floor(t/1e3),t-=1e3*this.second,this.millisecond=t},ilib.Date.PersDate.prototype.getDayOfWeek=function(){var t=Math.floor(this.getRataDie());return ilib.mod(t-3,7)},ilib.Date.PersDate.prototype.getDayOfYear=function(){return ilib.Date.PersDate.cumMonthLengths[this.month-1]+this.day},ilib.Date.PersDate.prototype.getEra=function(){return 1>this.year?-1:1},ilib.Date.PersDate.prototype.getCalendar=function(){return"persian"},ilib.Date._constructors.persian=ilib.Date.PersDate,ilib.CType={_inRange:function(t,e,i){var n;if(0>t||!e||!i)return!1;if(n=i[e],!n)return!1;var o=function(t,e){return 1===t.length?t[0]-e:t[0]>e?t[0]-e:e>t[1]?t[1]-e:0},s=ilib.bsearch(t,n,o);return n.length>s&&0===o(n[s],t)},withinRange:function(t,e){if(!e)return!1;var i;switch(typeof t){case"number":i=t;break;case"string":i=ilib.String.toCodePoint(t,0);break;case"undefined":return!1;default:i=t._toCodePoint(0)}return ilib.CType._inRange(i,e.toLowerCase(),ilib.data.ctype)},_init:function(t,e,i){ilib.CType._load("ctype",t,e,i)},_load:function(t,e,i,n){if(ilib.data[t])n&&"function"==typeof n&&n(ilib.data[t]);else{var o=t?t+".json":"ctype.json";ilib.loadData({name:o,locale:"-",nonlocale:!0,sync:e,loadParams:i,callback:ilib.bind(this,function(e){ilib.data[t]=e,n&&"function"==typeof n&&n(ilib.data[t])})})}}},ilib.CType.isDigit=function(t){var e;switch(typeof t){case"number":e=t;break;case"string":e=ilib.String.toCodePoint(t,0);break;case"undefined":return!1;default:e=t._toCodePoint(0)}return ilib.CType._inRange(e,"digit",ilib.data.ctype)},ilib.CType.isDigit._init=function(t,e,i){ilib.CType._init(t,e,i)},ilib.CType.isSpace=function(t){var e;switch(typeof t){case"number":e=t;break;case"string":e=ilib.String.toCodePoint(t,0);break;case"undefined":return!1;default:e=t._toCodePoint(0)}return ilib.CType._inRange(e,"space",ilib.data.ctype)||ilib.CType._inRange(e,"Zs",ilib.data.ctype_z)||ilib.CType._inRange(e,"Zl",ilib.data.ctype_z)||ilib.CType._inRange(e,"Zp",ilib.data.ctype_z)},ilib.CType.isSpace._init=function(t,e,i){ilib.CType._load("ctype_z",t,e,function(){ilib.CType._init(t,e,i)})},ilib.Number=function(t,e){var i,n,o,s="",a=!0;if(this.locale=new ilib.Locale,this.type="number",e){if(e.locale&&(this.locale="string"==typeof e.locale?new ilib.Locale(e.locale):e.locale),e.type)switch(e.type){case"number":case"currency":case"percentage":this.type=e.type;break;default:}e.sync!==void 0&&(a=1==e.sync),n=e.loadParams,o=e.onLoad}ilib.CType.isDigit._init(a,n,ilib.bind(this,function(){ilib.CType.isSpace._init(a,n,ilib.bind(this,function(){new ilib.LocaleInfo(this.locale,{sync:a,onLoad:ilib.bind(this,function(n){switch(this.decimal=n.getDecimalSeparator(),typeof t){case"string":var o=!0;for(this.str=t||"0",i=0,i=0;this.str.length>i;i++)o&&"-"===this.str.charAt(i)?(o=!1,s+=this.str.charAt(i)):ilib.CType.isDigit(this.str.charAt(i))?(s+=this.str.charAt(i),o=!1):this.str.charAt(i)===this.decimal&&(s+=".",o=!1);this.value=parseFloat(s);break;case"number":this.str=""+t,this.value=t;break;case"object":this.value=t.valueOf(),this.str=""+this.value;break;case"undefined":this.value=0,this.str="0"}switch(this.type){default:break;case"percentage":-1!==this.str.indexOf(n.getPercentageSymbol())&&(this.value/=100);break;case"currency":for(s="",i=0;this.str.length>i&&!ilib.CType.isDigit(this.str.charAt(i))&&!ilib.CType.isSpace(this.str.charAt(i));)s+=this.str.charAt(i++);if(0===s.length){for(;this.str.length>i&&ilib.CType.isDigit(this.str.charAt(i))||ilib.CType.isSpace(this.str.charAt(i))||"."===this.str.charAt(i)||","===this.str.charAt(i);)i++;for(;this.str.length>i&&!ilib.CType.isDigit(this.str.charAt(i))&&!ilib.CType.isSpace(this.str.charAt(i));)s+=this.str.charAt(i++)}return new ilib.Currency({locale:this.locale,sign:s,sync:a,onLoad:ilib.bind(this,function(t){this.currency=t,e&&"function"==typeof e.onLoad&&e.onLoad(this)})}),void 0}e&&"function"==typeof e.onLoad&&e.onLoad(this)})})}))}))},ilib.Number.prototype={getLocale:function(){return this.locale},toString:function(){return this.str},getCurrency:function(){return this.currency},valueOf:function(){return this.value}},ilib.Currency=function(t){this.sync=!0,t&&(t.code&&(this.code=t.code),t.locale&&(this.locale="string"==typeof t.locale?new ilib.Locale(t.locale):t.locale),t.sign&&(this.sign=t.sign),t.sync!==void 0&&(this.sync=t.sync),t.loadParams&&(this.loadParams=t.loadParams)),this.locale=this.locale||new ilib.Locale,ilib.data.currency===void 0?ilib.loadData({name:"currency.json",object:ilib.Currency,locale:"-",sync:this.sync,loadParams:this.loadParams,callback:ilib.bind(this,function(e){ilib.data.currency=e,this._loadLocinfo(t&&t.onLoad)})}):this._loadLocinfo(t&&t.onLoad)},ilib.Currency.getAvailableCurrencies=function(){var t,e=[],i=new ilib.ResBundle({name:"currency"}).getResObj();for(t in i)t&&i[t]&&e.push(t);return e},ilib.Currency.prototype={_loadLocinfo:function(t){new ilib.LocaleInfo(this.locale,{onLoad:ilib.bind(this,function(e){var i;if(this.locinfo=e,this.code){if(i=ilib.data.currency[this.code],!i)throw"currency "+this.code+" is unknown"}else if(this.sign)if(i=ilib.data.currency[this.sign],i!==void 0)this.code=this.sign;else if(this.code=this.locinfo.getCurrency(),i=ilib.data.currency[this.code],i.sign!==this.sign)for(var n in ilib.data.currency)if(n&&ilib.data.currency[n]&&(i=ilib.data.currency[n],i.sign===this.sign)){this.code=n;break}i&&this.code||(this.code=this.locinfo.getCurrency(),i=ilib.data.currency[this.code]),this.name=i.name,this.fractionDigits=i.decimals,this.sign=i.sign,"function"==typeof t&&t(this)})})},getCode:function(){return this.code},getFractionDigits:function(){return this.fractionDigits},getSign:function(){return this.sign},getName:function(){return this.name},getLocale:function(){return this.locale}},ilib.NumFmt=function(t){var e=!0;this.locale=new ilib.Locale,this.type="number";var i=void 0;t&&(t.locale&&(this.locale="string"==typeof t.locale?new ilib.Locale(t.locale):t.locale),t.type&&("number"===t.type||"currency"===t.type||"percentage"===t.type)&&(this.type=t.type),t.currency&&(this.currency=t.currency),"number"==typeof t.maxFractionDigits&&(this.maxFractionDigits=this._toPrimitive(t.maxFractionDigits)),"number"==typeof t.minFractionDigits&&(this.minFractionDigits=this._toPrimitive(t.minFractionDigits)),t.style&&(this.style=t.style),"boolean"==typeof t.useNative&&(this.useNative=t.useNative),this.roundingMode=t.roundingMode,t.sync!==void 0&&(e=1==t.sync),i=t.loadParams),this.localeInfo=void 0,new ilib.LocaleInfo(this.locale,{sync:e,loadParams:i,onLoad:ilib.bind(this,function(n){if(this.localeInfo=n,"number"===this.type)this.templateNegative=new ilib.String(this.localeInfo.getNegativeNumberFormat()||"-{n}");else{if("currency"===this.type){var o;if(!this.currency||"string"!=typeof this.currency)throw"A currency property is required in the options to the number formatter constructor when the type property is set to currency.";return new ilib.Currency({locale:this.locale,code:this.currency,sync:e,loadParams:i,onLoad:ilib.bind(this,function(e){this.currencyInfo=e,"common"!==this.style&&"iso"!==this.style&&(this.style="common"),"number"!=typeof this.maxFractionDigits&&"number"!=typeof this.minFractionDigits&&(this.minFractionDigits=this.maxFractionDigits=this.currencyInfo.getFractionDigits()),o=this.localeInfo.getCurrencyFormats(),this.template=new ilib.String(o[this.style]||o.common),this.templateNegative=new ilib.String(o[this.style+"Negative"]||o.commonNegative),this.sign="iso"===this.style?this.currencyInfo.getCode():this.currencyInfo.getSign(),this.roundingMode||(this.roundingMode=this.currencyInfo&&this.currencyInfo.roundingMode),this._init(),t&&"function"==typeof t.onLoad&&t.onLoad(this)})}),void 0}"percentage"===this.type&&(this.template=new ilib.String(this.localeInfo.getPercentageFormat()||"{n}%"),this.templateNegative=new ilib.String(this.localeInfo.getNegativePercentageFormat()||this.localeInfo.getNegativeNumberFormat()+"%"))}this._init(),t&&"function"==typeof t.onLoad&&t.onLoad(this)})})},ilib.NumFmt.getAvailableLocales=function(){return void 0},ilib.NumFmt.zeros="0000000000000000000000000000000000000000000000000000000000000000000000",ilib.NumFmt.prototype={getUseNative:function(){return"boolean"==typeof this.useNative?this.useNative:"native"===this.localeInfo.getDigitsStyle()},_init:function(){if(this.maxFractionDigits<this.minFractionDigits&&(this.minFractionDigits=this.maxFractionDigits),this.roundingMode||(this.roundingMode=this.localeInfo.getRoundingMode()),this.roundingMode||(this.roundingMode="halfdown"),this.round=ilib._roundFnc[this.roundingMode],this.round||(this.roundingMode="halfdown",this.round=ilib._roundFnc[this.roundingMode]),"nogrouping"===this.style?this.prigroupSize=this.secgroupSize=0:(this.prigroupSize=this.localeInfo.getPrimaryGroupingDigits(),this.secgroupSize=this.localeInfo.getSecondaryGroupingDigits(),this.groupingSeparator=this.getUseNative()?this.localeInfo.getNativeGroupingSeparator():this.localeInfo.getGroupingSeparator()),this.decimalSeparator=this.getUseNative()?this.localeInfo.getNativeDecimalSeparator():this.localeInfo.getDecimalSeparator(),this.getUseNative()){var t=this.localeInfo.getNativeDigits()||this.localeInfo.getDigits();t&&(this.digits=t.split(""))}this.exponentSymbol=this.localeInfo.getExponential()||"e"},_pad:function(t,e,i){return t.length>=e?t:i?ilib.NumFmt.zeros.substring(0,e-t.length)+t:t+ilib.NumFmt.zeros.substring(0,e-t.length)},_toPrimitive:function(t){var e=0;switch(typeof t){case"number":e=t;break;case"string":e=parseFloat(t);break;case"object":e=t.valueOf()}return e},_formatScientific:function(t){var e,i=new Number(t);if(this.maxFractionDigits!==void 0){var n,o,s=i.toExponential(),a=s.split("e"),r=a[0];n=a[1],o=Math.pow(10,this.maxFractionDigits),r=this.round(r*o)/o,e=""+r+this.exponentSymbol+n}else e=i.toExponential(this.minFractionDigits),"e"!==this.exponentSymbol&&(e=e.replace(/e/,this.exponentSymbol));return e},_formatStandard:function(t){var e,i;if(this.maxFractionDigits!==void 0&&this.maxFractionDigits>-1){var n=Math.pow(10,this.maxFractionDigits);t=this.round(t*n)/n}t=Math.abs(t);var o,s,a=(""+t).split("."),r=a[0],h=a[1];if(r=""+r,this.minFractionDigits>0&&(h=this._pad(h||"",this.minFractionDigits,!1)),this.secgroupSize>0){if(r.length>this.prigroupSize){var l=this.prigroupSize,c=r.length,d=c-l;r=r.slice(0,d)+this.groupingSeparator+r.slice(d);var u=r.substring(0,r.indexOf(this.groupingSeparator));for(i=u.length;i>this.secgroupSize;){var g=this.secgroupSize,f=u.length,p=f-g;r=r.slice(0,p)+this.groupingSeparator+r.slice(p),u=r.substring(0,r.indexOf(this.groupingSeparator)),i=u.length}}s=r}else if(0!==this.prigroupSize){for(o=ilib.mod(r.length-1,this.prigroupSize),s="",e=0;r.length-1>e;e++)s+=r.charAt(e),0===o&&(s+=this.groupingSeparator),o=ilib.mod(o-1,this.prigroupSize);s+=r.charAt(r.length-1)}else s=r;return h&&(this.maxFractionDigits===void 0||this.maxFractionDigits>0)&&(s+=this.decimalSeparator,s+=h),this.digits&&(s=ilib.mapString(s,this.digits)),s},format:function(t){var e,i;if(t===void 0)return"";if(i=this._toPrimitive(t),"number"===this.type)e="scientific"===this.style?this._formatScientific(i):this._formatStandard(i),0>t&&(e=this.templateNegative.format({n:e}));else{e=this._formatStandard(i);var n=0>i?this.templateNegative:this.template;e=n.format({n:e,s:this.sign})}return e},getType:function(){return this.type},getLocale:function(){return this.locale},isGroupingUsed:function(){return"undefined"!==this.groupingSeparator&&this.groupingSeparator.length>0},getMaxFractionDigits:function(){return this.maxFractionDigits!==void 0?this.maxFractionDigits:-1},getMinFractionDigits:function(){return this.minFractionDigits!==void 0?this.minFractionDigits:-1},getCurrency:function(){return this.currencyInfo&&this.currencyInfo.getCode()},getRoundingMode:function(){return this.roundingMode},getStyle:function(){return this.style}},ilib.DurFmt=function(t){var e=!0,i=void 0;this.locale=new ilib.Locale,this.length="short",this.style="text",t&&(t.locale&&(this.locale="string"==typeof t.locale?new ilib.Locale(t.locale):t.locale),t.length&&("short"===t.length||"medium"===t.length||"long"===t.length||"full"===t.length)&&(this.length=t.length),t.style&&("text"===t.style||"clock"===t.style)&&(this.style=t.style),t.sync!==void 0&&(e=1==t.sync),"boolean"==typeof t.useNative&&(this.useNative=t.useNative),i=t.loadParams),new ilib.ResBundle({locale:this.locale,name:"sysres",sync:e,loadParams:i,onLoad:ilib.bind(this,function(n){switch(this.length){case"short":this.components={year:n.getString("#{num}y"),month:n.getString("#{num}m","durationShortMonths"),week:n.getString("#{num}w"),day:n.getString("#{num}d"),hour:n.getString("#{num}h"),minute:n.getString("#{num}m","durationShortMinutes"),second:n.getString("#{num}s"),millisecond:n.getString("#{num}m","durationShortMillis"),separator:n.getString(" ","separatorShort"),finalSeparator:""};break;case"medium":this.components={year:n.getString("1#1 yr|#{num} yrs","durationMediumYears"),month:n.getString("1#1 mo|#{num} mos"),week:n.getString("1#1 wk|#{num} wks","durationMediumWeeks"),day:n.getString("1#1 dy|#{num} dys"),hour:n.getString("1#1 hr|#{num} hrs","durationMediumHours"),minute:n.getString("1#1 mi|#{num} min"),second:n.getString("1#1 se|#{num} sec"),millisecond:n.getString("#{num} ms"),separator:n.getString(" ","separatorMedium"),finalSeparator:""};break;case"long":this.components={year:n.getString("1#1 yr|#{num} yrs"),month:n.getString("1#1 mon|#{num} mons"),week:n.getString("1#1 wk|#{num} wks"),day:n.getString("1#1 day|#{num} days","durationLongDays"),hour:n.getString("1#1 hr|#{num} hrs"),minute:n.getString("1#1 min|#{num} min"),second:n.getString("1#1 sec|#{num} sec"),millisecond:n.getString("#{num} ms"),separator:n.getString(", ","separatorLong"),finalSeparator:""};break;case"full":this.components={year:n.getString("1#1 year|#{num} years"),month:n.getString("1#1 month|#{num} months"),week:n.getString("1#1 week|#{num} weeks"),day:n.getString("1#1 day|#{num} days"),hour:n.getString("1#1 hour|#{num} hours"),minute:n.getString("1#1 minute|#{num} minutes"),second:n.getString("1#1 second|#{num} seconds"),millisecond:n.getString("1#1 millisecond|#{num} milliseconds"),separator:n.getString(", ","separatorFull"),finalSeparator:n.getString(" and ","finalSeparatorFull")}}return"clock"===this.style?(new ilib.DateFmt({locale:this.locale,type:"time",time:"ms",sync:e,loadParams:i,useNative:this.useNative,onLoad:ilib.bind(this,function(n){this.timeFmtMS=n,new ilib.DateFmt({locale:this.locale,type:"time",time:"hm",sync:e,loadParams:i,useNative:this.useNative,onLoad:ilib.bind(this,function(n){this.timeFmtHM=n,new ilib.DateFmt({locale:this.locale,type:"time",time:"hms",sync:e,loadParams:i,useNative:this.useNative,onLoad:ilib.bind(this,function(e){this.timeFmtHMS=e,this.timeFmtHM.template=this.timeFmtHM.template.replace(/hh?/,"H"),this.timeFmtHM.templateArr=this.timeFmtHM._tokenize(this.timeFmtHM.template),this.timeFmtHMS.template=this.timeFmtHMS.template.replace(/hh?/,"H"),this.timeFmtHMS.templateArr=this.timeFmtHMS._tokenize(this.timeFmtHMS.template),this._init(this.timeFmtHM.locinfo,t&&t.onLoad)})})})})})}),void 0):(new ilib.LocaleInfo(this.locale,{sync:e,loadParams:i,onLoad:ilib.bind(this,function(e){this._init(e,t&&t.onLoad)})}),void 0)})})},ilib.DurFmt.complist={text:["year","month","week","day","hour","minute","second","millisecond"],clock:["year","month","week","day"]},ilib.DurFmt.prototype._mapDigits=function(t){return this.useNative&&this.digits?ilib.mapString(""+t,this.digits):t},ilib.DurFmt.prototype._init=function(t,e){var i;"boolean"==typeof this.useNative?this.useNative&&(i=t.getNativeDigits(),i&&(this.digits=i)):"native"===t.getDigitsStyle()&&(i=t.getNativeDigits(),i&&(this.useNative=!0,this.digits=i)),"function"==typeof e&&e(this)},ilib.DurFmt.prototype.format=function(t){var e,i,n,o=!0,s="";for(i=ilib.DurFmt.complist[this.style],e=i.length-1;e>=0;e--)t[i[e]]!==void 0&&0!=t[i[e]]&&(s.length>0&&(s=("full"===this.length&&o?this.components.finalSeparator:this.components.separator)+s,o=!1),s=this.components[i[e]].formatChoice(t[i[e]],{num:this._mapDigits(t[i[e]])})+s);return"clock"===this.style&&(n=t.hour!==void 0?t.second!==void 0?this.timeFmtHMS:this.timeFmtHM:this.timeFmtMS,s.length>0&&(s+=this.components.separator),s+=n._formatTemplate(t,n.templateArr)),new ilib.String(s)},ilib.DurFmt.prototype.getLocale=function(){return this.locale},ilib.DurFmt.prototype.getLength=function(){return this.length},ilib.DurFmt.prototype.getStyle=function(){return this.style},ilib.ScriptInfo=function(t,e){var i=!0,n=void 0;this.script=t,e&&(e.sync!==void 0&&(i=1==e.sync),e.loadParams!==void 0&&(n=e.loadParams)),ilib.ScriptInfo.cache||(ilib.ScriptInfo.cache={}),ilib.data.scripts?this.info=ilib.data.scripts[t]:ilib.loadData({object:ilib.ScriptInfo,locale:"-",name:"scripts.json",sync:i,loadParams:n,callback:ilib.bind(this,function(i){if(!i){i={Latn:{nb:215,nm:"Latin",lid:"Latin",rtl:!1,ime:!1,casing:!0}};var n=this.locale.getSpec().replace(/-/g,"_");ilib.ScriptInfo.cache[n]=i}ilib.data.scripts=i,this.info=t&&ilib.data.scripts[t],e&&"function"==typeof e.onLoad&&e.onLoad(this)})})},ilib.ScriptInfo.getAllScripts=function(){var t=[],e=void 0,i=ilib.data.scripts;for(e in i)e&&i[e]&&t.push(e);return t},ilib.ScriptInfo.prototype={getCode:function(){return this.info&&this.script
},getCodeNumber:function(){return this.info&&this.info.nb||0},getName:function(){return this.info&&this.info.nm},getLongCode:function(){return this.info&&this.info.lid},getScriptDirection:function(){return this.info&&this.info.rtl!==void 0&&this.info.rtl?"rtl":"ltr"},getNeedsIME:function(){return this.info&&this.info.ime?!0:!1},getCasing:function(){return this.info&&this.info.casing?!0:!1}},ilib.CaseMapper=function(t){switch(this.up=!0,this.locale=new ilib.Locale,t&&(t.locale!==void 0&&(this.locale="string"==typeof t.locale?new ilib.Locale(t.locale):t.locale),this.up=!t.direction||"toupper"===t.direction),this.charMapper=function(t){var e;if(!t)return t;e="string"==typeof t?new ilib.String(t):""+t;for(var i,n="",o=e.charIterator();o.hasNext();)i=o.next(),n+=this.mapData[i]?this.mapData[i]:this.up?i.toUpperCase():i.toLowerCase();return n},this.locale.getLanguage()){case"az":case"tr":case"crh":case"kk":case"krc":case"tt":this.mapData=this.up?{i:"\u0130","\u0131":"I"}:{"\u0130":"i",I:"\u0131"},this.mapper=this.charMapper;break;case"fr":this.up&&"CA"!==this.locale.getRegion()&&(this.mapData={"\u00e0":"A","\u00e1":"A","\u00e2":"A","\u00e3":"A","\u00e4":"A","\u00e7":"C","\u00e8":"E","\u00e9":"E","\u00ea":"E","\u00eb":"E","\u00ec":"I","\u00ed":"I","\u00ee":"I","\u00ef":"I","\u00f1":"N","\u00f2":"O","\u00f3":"O","\u00f4":"O","\u00f6":"O","\u00f9":"U","\u00fa":"U","\u00fb":"U","\u00fc":"U"},this.mapper=this.charMapper);break;case"el":this.up&&(this.mapData={"\u0390":"\u0399","\u03ac":"\u0391","\u03ad":"\u0395","\u03ae":"\u0397","\u03af":"\u0399","\u03b0":"\u03a5","\u03ca":"\u0399","\u03cb":"\u03a5","\u03cc":"\u039f","\u03cd":"\u03a5","\u03ce":"\u03a9"},this.mapper=this.charMapper);break;case"abq":case"ady":case"av":case"ce":case"dar":case"inh":case"kbd":case"lbe":case"lez":case"tab":case"ru":this.up||(this.mapData={"\u04c0":"\u04c0"},this.mapper=this.charMapper)}this.mapper||(this.mapper=function(t){return this.up?t.toUpperCase():t.toLowerCase()})},ilib.CaseMapper.prototype={getLocale:function(){return this.locale},map:function(t){return this.mapper(t)}};

// lib\enyo-ilib\packedbuffer.js
var PackedBuffer=function(t){this.buffer=t,this.index=0};PackedBuffer.prototype.getLongs=function(t){var e=void 0;if(this.buffer&&this.index<this.buffer.length){e=[];for(var i=0;t>i&&this.index+3<this.buffer.length;i++){var n=this.buffer[this.index]<<24|this.buffer[this.index+1]<<16|this.buffer[this.index+2]<<8|this.buffer[this.index+3];e.push(n),this.index+=4}}return e},PackedBuffer.prototype.getLong=function(){var t=this.getLongs(1);return t&&t.length>0?t[0]:void 0},PackedBuffer.prototype.getBytes=function(t){var e=void 0;if(this.buffer&&this.index<this.buffer.length){e=[];for(var i=0;t>i&&this.index<this.buffer.length;i++){var n=this.buffer[this.index++];128&n&&(n-=256),e.push(n)}}return e},PackedBuffer.prototype.getByte=function(){var t=this.getBytes(1);return t&&t.length>0?t[0]:void 0},PackedBuffer.prototype.getUnsignedBytes=function(t){var e=void 0;if(this.buffer&&this.index<this.buffer.length){e=[];for(var i=0;t>i&&this.index<this.buffer.length;i++)e.push(this.buffer[this.index++])}return e},PackedBuffer.prototype.getString=function(t){for(var e=this.getUnsignedBytes(t),i="",n=0;e.length>n;n++)i+=String.fromCharCode(e[n]);return i},PackedBuffer.prototype.skip=function(t){this.index+=t},"undefined"!=typeof exports&&(exports.PackedBuffer=PackedBuffer);

// lib\enyo-ilib\zoneinfo.js
var _platform="unknown";(function(){"undefined"!=typeof enyo?_platform="enyo":"undefined"!=typeof environment?_platform="rhino":"undefined"!=typeof process||"undefined"!=typeof require?_platform="nodejs":"undefined"!=typeof window&&(_platform="undefined"!=typeof PalmSystem?"webos":"browser")})();var PackedBuffer=PackedBuffer||("nodejs"===_platform?require("./packedbuffer.js").PackedBuffer:void 0),ZoneInfoFile=function(t){var e=this;switch(_platform){case"nodejs":var i=require("fs"),n=new Buffer(i.readFileSync(t)),o=new Uint8Array(n);this._parseInfo(o);break;default:var s=new XMLHttpRequest;s.open("GET","file:"+t,!1),s.responseType="arraybuffer",s.onload=function(){var t=new Uint8Array(s.response);e._parseInfo(t)},s.onerror=function(){throw"Cannot load file "+t},s.send()}};ZoneInfoFile.prototype._parseInfo=function(t){var e=new PackedBuffer(t);if("TZif"!=e.getString(4))throw"file format not recognized";e.skip(16);var i=e.getLong(),n=e.getLong(),o=e.getLong(),s=e.getLong(),a=e.getLong(),r=e.getLong();this.transitionTimes=s?e.getLongs(s):[],this.transitionTimes=this.transitionTimes.map(function(t){return 1e3*t}),this.ruleIndex=s?e.getUnsignedBytes(s):[],this.zoneInfo=[];for(var h=0;a>h;h++)this.zoneInfo.push({offset:Math.floor(e.getLong()/60),isdst:!!e.getByte(),abbreviationIndex:e.getByte()});for(var l=e.getString(r),h=0;a>h;h++){var c=l.substring(this.zoneInfo[h].abbreviationIndex);this.zoneInfo[h].abbreviation=c.substring(0,c.indexOf("\0"))}o&&e.skip(2*o),n&&e.skip(n),i&&e.skip(i);var d=this;this.ruleIndex=this.ruleIndex.map(function(t){return{offset:d.zoneInfo[t].offset,isdst:d.zoneInfo[t].isdst,abbreviation:d.zoneInfo[t].abbreviation}});for(var h=0;s>h;h++)h>0&&this.ruleIndex[h].isdst&&(this.ruleIndex[h].savings=this.ruleIndex[h].offset-this.ruleIndex[h-1].offset);if(this.transitionTimes.length){for(var u=s-1;u>-1;u--){var g=this.ruleIndex[u];if(this.standardTime||g.isdst?!this.daylightTime&&g.isdst&&(this.daylightTime=g):this.standardTime=g,this.daylightTime&&this.standardTime)break}this.daylightTime&&!this.standardTime&&(this.standardTime=this.daylightTime);for(var f=this.zoneInfo.length-1;f>0;f--)if(!this.zoneInfo[f].isdst){this.defaultTime=this.zoneInfo[f];break}}else this.standardTime=this.zoneInfo[0];this.defaultTime||(this.defaultTime=this.zoneInfo[this.zoneInfo.length-1])},ZoneInfoFile.prototype.bsearch=function(t,e){if(e===void 0||!e||t===void 0||e[0]>t)return-1;if(t>e[e.length-1])return e.length-1;for(var i,n=e.length-1,o=0,s=0;n>=o;)if(s=Math.floor((n+o)/2),i=e[s]-t,i>0)n=s-1;else{if(!(0>i))return s;o=s+1}return n},ZoneInfoFile.prototype.usesDST=function(t){var e=t.getTime(),i=e+31536e6,n=this.bsearch(e,this.transitionTimes);if(-1!==n)for(;this.transitionTimes.length>n&&i>this.transitionTimes[n];)if(this.ruleIndex[n++].isdst)return!0;return!1},ZoneInfoFile.prototype.getRawOffset=function(t){var e=t.getTime(),i=e+31536e6,n=this.bsearch(e,this.transitionTimes),o=this.defaultTime.offset;if(n>-1){for(;this.transitionTimes.length>n&&this.ruleIndex[n].isdst&&i>this.transitionTimes[n+1];)n++;this.transitionTimes.length>n&&!this.ruleIndex[n].isdst&&(o=this.ruleIndex[n].offset)}return o},ZoneInfoFile.prototype.getDSTSavings=function(t){var e=t.getTime(),i=e+31536e6,n=this.bsearch(e,this.transitionTimes),o=0;if(n>-1){for(;this.transitionTimes.length>n&&!this.ruleIndex[n].isdst&&i>this.transitionTimes[n+1];)n++;this.transitionTimes.length>n&&this.ruleIndex[n].isdst&&(o=this.ruleIndex[n].savings)}return o},ZoneInfoFile.prototype.getDSTStartDate=function(t){var e=t.getFullYear(),i=new Date(e,0,1).getTime(),n=new Date(e+1,0,1).getTime(),o=this.bsearch(i,this.transitionTimes),s=-1;if(o>-1){for(i>this.transitionTimes[o]&&o++;this.transitionTimes.length>o&&!this.ruleIndex[o].isdst&&n>this.transitionTimes[o+1];)o++;this.transitionTimes.length>o&&this.ruleIndex[o].isdst&&(s=this.transitionTimes[o])}return s},ZoneInfoFile.prototype.getDSTEndDate=function(t){var e=t.getFullYear(),i=new Date(e,0,1).getTime(),n=new Date(e+1,0,1).getTime(),o=this.bsearch(i,this.transitionTimes),s=-1;if(o>-1){for(i>this.transitionTimes[o]&&o++;this.transitionTimes.length>o&&this.ruleIndex[o].isdst&&n>this.transitionTimes[o+1];)o++;this.transitionTimes.length>o&&!this.ruleIndex[o].isdst&&(s=this.transitionTimes[o])}return s},ZoneInfoFile.prototype.getAbbreviation=function(t){var e,i=t.getTime(),n=i+31536e6;if(this.transitionTimes.length>0){var o=this.bsearch(i,this.transitionTimes);if(e=this.ruleIndex[o].abbreviation,o>-1){for(;this.transitionTimes.length>o&&this.ruleIndex[o].isdst&&n>this.transitionTimes[o+1];)o++;this.transitionTimes.length>o&&!this.ruleIndex[o].isdst&&(e=this.ruleIndex[o].abbreviation)}}else e=this.standardTime.abbreviation;return e},ZoneInfoFile.prototype.getDSTAbbreviation=function(t){var e,i=t.getTime(),n=i+31536e6;if(this.transitionTimes.length>0){var o=this.bsearch(i,this.transitionTimes);if(e=this.ruleIndex[o].abbreviation,o>-1){for(;this.transitionTimes.length>o&&!this.ruleIndex[o].isdst&&n>this.transitionTimes[o+1];)o++;this.transitionTimes.length>o&&this.ruleIndex[o].isdst&&(e=this.ruleIndex[o].abbreviation)}}else e=this.standardTime.abbreviation;return e},ZoneInfoFile.prototype.getIlibZoneInfo=function(t){function e(t){var e=Math.floor(t/60),i=t-60*e;return e+":"+i}function i(t){return 2440587.5+t/864e5}var n={o:e(this.getRawOffset(t))};return this.usesDST(t)?(n.f="{c}",n.e={c:this.getAbbreviation(t),j:i(this.getDSTEndDate(t))},n.s={c:this.getDSTAbbreviation(t),j:i(this.getDSTStartDate(t)),v:e(this.getDSTSavings(t))}):n.f=this.getAbbreviation(t),n},"nodejs"===_platform&&"undefined"!=typeof exports&&(exports.ZoneInfoFile=ZoneInfoFile);

// lib\enyo-ilib\glue.js
(function(){var t=function(){this.base=enyo.path.rewrite("$lib/enyo-ilib/ilib/"),"webos"===enyo.platform.platformName&&(this.webos=!0)};t.prototype=new ilib.Loader,t.prototype.constructor=t,t.prototype._createZoneFile=function(t){var e=t.substring(t.indexOf("zoneinfo"));e=e.substring(0,e.length-5);try{var i=new ZoneInfoFile("/usr/share/"+e);return i.getIlibZoneInfo(new Date)}catch(n){return void 0}},t.prototype._pathjoin=function(t,e){return t&&t.length?e&&e.length?t+("/"!==t.charAt(t.length-1)?"/":"")+e:t:e},t.prototype._loadFilesAsync=function(t,e,i,n,o){var s="resources";if(n&&n.root!==void 0&&(s=n.root),e.length>0){var a=e.shift(),r=void 0;if(this.webos&&-1!==a.indexOf("zoneinfo"))i.push(this._createZoneFile(a));else{this.isAvailable(s,a)?r=this._pathjoin(s,a):this.isAvailable(this.base+"locale",a)&&(r=this._pathjoin(this._pathjoin(this.base,"locale"),a));var h=function(s,a){i.push(s.failed||"object"!=typeof a?void 0:a),e.length>0?this._loadFilesAsync(t,e,i,n,o):o.call(t,i)};if(r){var l=new enyo.Ajax({url:r,cacheBust:!1});l.response(this,h),l.error(this,h),l.go()}else h({},void 0)}}},t.prototype.loadFiles=function(t,e,i,n){if(e){var o=[],s="resources",a=this._pathjoin(this.base,"locale");return i&&i.root!==void 0&&(s=i.root),enyo.forEach(t,function(t){if(this.webos&&-1!==t.indexOf("zoneinfo"))o.push(this._createZoneFile(t));else{var e=!1,i=function(t,i){t.failed||"object"!=typeof i||(o.push(i),e=!0)};if(this.isAvailable(s,t)){var n=new enyo.Ajax({url:this._pathjoin(s,t),sync:!0,cacheBust:!1});n.response(this,i),n.error(this,i),n.go()}if(!e&&this.isAvailable(a,t)){var n=new enyo.Ajax({url:this._pathjoin(a,t),sync:!0,cacheBust:!1});n.response(this,i),n.error(this,i),n.go()}e||o.push(void 0)}},this),"function"==typeof n&&n.call(this,o),o}var r=[];this._loadFilesAsync(this,t,r,i,n)},t.prototype._loadManifest=function(t,e){this.manifest||(this.manifest={});var i=this._pathjoin(t,e),n=this._pathjoin(i,"ilibmanifest.json"),o=new enyo.Ajax({url:n,sync:!0,cacheBust:!1,handleAs:"json"}),s=function(t,e){this.manifest[i]=t.failed||"object"!=typeof e?"*":e.files};o.response(this,s),o.error(this,s),o.go()},t.prototype._loadStandardManifests=function(){this.manifest||(this._loadManifest(this.base,"locale"),this._loadManifest("","resources"))},t.prototype.listAvailableFiles=function(){return this._loadStandardManifests(),this.manifest},t.prototype.isAvailable=function(t,e){return this._loadStandardManifests(),this.manifest[t]||this._loadManifest(t,""),"*"===this.manifest[t]||-1!==ilib.indexOf(this.manifest[t],e)?!0:!1},ilib.setLoaderCallback(new t),window.UILocale!==void 0&&ilib.setLocale(window.UILocale),enyo.isNonLatinLocale=function(t){var e=new ilib.LocaleInfo(t),i=e.getLocale(),n=["bs","cs","hr","hu","lv","lt","pl","ro","sr","sl","tr","vi"],o=["ko"];return("Latn"!==e.getScript()||-1!==enyo.indexOf(i.getLanguage(),n))&&0>enyo.indexOf(i.getLanguage(),o)},enyo.updateI18NClasses=function(){var t=new ilib.LocaleInfo,e=t.getLocale(),i="enyo-locale-";document&&document.body&&document.body.className&&document.body.className&&(document.body.className=document.body.className.replace(RegExp("(^|\\s)"+i+"[^\\s]*","g"),"")),enyo.isNonLatinLocale(e)&&enyo.dom.addBodyClass(i+"non-latin");var n=t.getScript();"Latn"!==n&&"Cyrl"!==n&&"Grek"!==n&&enyo.dom.addBodyClass(i+"non-italic");var o=new ilib.ScriptInfo(n);"rtl"===o.getScriptDirection()?(enyo.dom.addBodyClass(i+"right-to-left"),enyo.Control&&(enyo.Control.prototype.rtl=!0)):enyo.Control&&(enyo.Control.prototype.rtl=!1),e.getLanguage()&&(enyo.dom.addBodyClass(i+e.getLanguage()),e.getScript()?(enyo.dom.addBodyClass(i+e.getLanguage()+"-"+e.getScript()),e.getRegion()&&enyo.dom.addBodyClass(i+e.getLanguage()+"-"+e.getScript()+"-"+e.getRegion())):e.getRegion()&&enyo.dom.addBodyClass(i+e.getLanguage()+"-"+e.getRegion())),e.getScript()&&enyo.dom.addBodyClass(i+e.getScript()),e.getRegion()&&enyo.dom.addBodyClass(i+e.getRegion()),enyo.setCaseMappers()}})(),$L=function(t){var e;if($L.rb||$L.setLocale(),"string"==typeof t){if(!$L.rb)return t;e=$L.rb.getString(t)}else if("object"==typeof t)if(t.key!==void 0&&t.value!==void 0){if(!$L.rb)return t.value;e=$L.rb.getString(t.value,t.key)}else e="";else e=t;return""+e},$L.setLocale=function(t){var e=new ilib.Locale(t);$L.rb&&t===$L.rb.getLocale().getSpec()||($L.rb=new ilib.ResBundle({locale:e,type:"html",name:"strings",sync:!0,lengthen:!0}))},enyo.setCaseMappers=function(){enyo.toLowerCase.mapper=new ilib.CaseMapper({direction:"tolower"}),enyo.toUpperCase.mapper=new ilib.CaseMapper({direction:"toupper"})},enyo.toLowerCase=function(t){return null!=t?enyo.toLowerCase.mapper.map(""+t):t},enyo.toUpperCase=function(t){return null!=t?enyo.toUpperCase.mapper.map(""+t):t},function(t){enyo.updateLocale=function(e){ilib._load&&(ilib._load.manifest=void 0),ilib.setLocale(e||navigator.language),$L.setLocale(e||navigator.language),enyo.updateI18NClasses(),t()}}(enyo.updateLocale),enyo.updateLocale(null,!0);

// lib\webos-lib\source\webos.js
webos={identifier:function(){var t=PalmSystem.identifier.split(" ");return{appID:t[0],process:t[1]}},launchParams:function(){return enyo.json.parse(PalmSystem.launchParams||"{}")||{}},deviceInfo:function(){return this._deviceInfo||(this._deviceInfo=window.PalmSystem?enyo.json.parse(PalmSystem.deviceInfo):{platfromVersionMajor:"",modelName:"Browser"}),this._deviceInfo},isPhone:function(){return 2>=this.deviceInfo().platformVersionMajor},isTablet:function(){return 3===this.deviceInfo().platformVersionMajor},isLuneOS:function(){return this.deviceInfo().modelName.indexOf("Lune")>=0},fetchAppRootPath:function(){var t=window.location.href;if("baseURI"in window.document)t=window.document.baseURI;else{var e=window.document.getElementsByTagName("base");e.length>0&&(t=e[0].href)}var i=t.match(RegExp(".*://[^#]*/"));return i?i[0]:""},fetchAppInfo:function(){if(!webos.appInfo)try{var t,e=webos.fetchAppRootPath()+"appinfo.json";t=window.palmGetResource?palmGetResource(e):enyo.xhr.request({url:e,sync:!0}).responseText,webos.appInfo=enyo.json.parse(t)}catch(i){webos.appInfo=void 0}return webos.appInfo},localeInfo:function(){return window.PalmSystem?{locale:PalmSystem.locale,localeRegion:PalmSystem.localeRegion,phoneRegion:PalmSystem.phoneRegion}:{locale:"en",localeRegion:"US",phoneRegion:"001"}},isTwelveHourFormat:function(){return window.PalmSystem?"HH12"===PalmSystem.timeFormat:!0},pasteClipboard:function(){window.PalmSystem&&PalmSystem.paste()},getWindowOrientation:function(){return window.PalmSystem?PalmSystem.screenOrientation:"up"},setWindowOrientation:function(t){window.PalmSystem&&PalmSystem.setWindowOrientation(t)},setFullScreen:function(t){window.PalmSystem&&PalmSystem.enableFullScreenMode(t)},indicateNewContent:function(t){return window.PalmSystem?(webos._throbId&&(PalmSystem.removeNewContentIndicator(webos._throbId),webos._throbId=void 0),t&&(webos._throbId=PalmSystem.addNewContentIndicator()),void 0):!0},isActivated:function(t){return t=t||window,t.PalmSystem?t.PalmSystem.isActivated:!1},activate:function(t){t=t||window,t.PalmSystem&&t.PalmSystem.activate()},deactivate:function(t){t=t||window,t.PalmSystem&&t.PalmSystem.deactivate()},addBannerMessage:function(){return window.PalmSystem?PalmSystem.addBannerMessage.apply(PalmSystem,arguments):0},removeBannerMessage:function(){window.PalmSystem&&PalmSystem.removeBannerMessage.apply(PalmSystem,arguments)},setWindowProperties:function(t,e){1==arguments.length&&(e=t,t=window),t.PalmSystem&&t.PalmSystem.setWindowProperties(e)},runTextIndexer:function(t,e){return t&&t.length>0&&window.PalmSystem&&PalmSystem.runTextIndexer?PalmSystem.runTextIndexer(t,e):t},ready:function(){setTimeout(function(){PalmSystem.stageReady()},1)}},window.PalmSystem&&window.addEventListener("load",webos.ready,!1),enyo.webos=webos;

// lib\webos-lib\source\VirtualKeyboard.js
webos.keyboard={types:{text:0,password:1,search:2,range:3,email:4,number:5,phone:6,url:7,color:8},isShowing:function(){return webos.keyboard._isShowing||!1},show:function(t){webos.keyboard.isManualMode()&&PalmSystem.keyboardShow(t||0)},hide:function(){webos.keyboard.isManualMode()&&PalmSystem.keyboardHide()},setManualMode:function(t){webos.keyboard._manual=t,PalmSystem.setManualKeyboardEnabled(t)},isManualMode:function(){return enyo.webOS.keyboard._manual||!1},forceShow:function(){webos.keyboard.setManualMode(!0),PalmSystem.keyboardShow(inType||0)},forceHide:function(){webos.keyboard.setManualMode(!0),PalmSystem.keyboardHide()}},window.PalmSystem&&enyo.platform.webos&&enyo.platform.webos>=3?(Mojo=window.Mojo||{},Mojo.keyboardShown=function(t){webos.keyboard._isShowing=t,enyo.Signals.send("onvirtualkeyboard",{type:"virtualkeyboard",showing:t})}):webos.keyboard=void 0;

// lib\webos-lib\source\SymKey.js
enyo.platform.webos&&3>enyo.platform.webos&&enyo.singleton({name:"enyo.SymKey",kind:enyo.Component,components:[{kind:"enyo.Signals",onkeydown:"keydown",onrelaunch:"relaunch"}],show:function(t){this.symKeyTarget=t||document,this.request=new enyo.ServiceRequest({service:"palm://com.palm.applicationManager",method:"launch"}),this.request.error(this,"serviceFailure"),this.request.go({id:"com.palm.systemui",params:{action:"showAltChar"}})},keydown:function(t,e){17===e.keyCode&&this.show(e.target)},serviceFailure:function(t,e){enyo.error(enyo.json.stringify(e))},relaunch:function(){var t=enyo.json.parse(window.PalmSystem.launchParams).altCharSelected;if(!t)return!1;var e,i;e=window.getSelection(),e&&e.rangeCount>0&&e.getRangeAt(0)&&document.execCommand("insertText",!0,t),i=t.charCodeAt(0),this.sendFakeKey("keydown",i),this.sendFakeKey("keypress",i),this.sendFakeKey("keyup",i)},sendFakeKey:function(t,e){var i=document.createEvent("Events");return i.initEvent(t,!0,!0),i.keyCode=e,i.charCode=e,i.which=e,this.symKeyTarget.dispatchEvent(i),i}}),enyo.webos.showSymTable=function(t){enyo.platform.webos&&3>enyo.platform.webos&&enyo.SymKey.show(t)};

// lib\webos-lib\source\LunaBindings.js
window.PalmSystem&&(Mojo=window.Mojo||{},Mojo.stageActivated=function(){enyo.Signals.send("onactivate")},Mojo.stageDeactivated=function(){enyo.Signals.send("ondeactivate")},Mojo.relaunch=function(){var t=webos.launchParams();return"open-app-menu"==t["palm-command"]?enyo.Signals.send("onmenubutton"):enyo.Signals.send("onrelaunch",t),!0},Mojo.show=function(){enyo.Signals.send("onappshown")},Mojo.hide=function(){enyo.Signals.send("onapphide")},Mojo.lowMemoryNotification=function(t){enyo.Signals.send("onlowmemory",{type:"lowmemory",state:t.state})});

// lib\webos-lib\source\BackGesture.js
(function(){enyo.dispatcher.listen(document,"keyup",function(t){(27==t.keyCode||"U+1200001"==t.keyIdentifier||"U+001B"==t.keyIdentifier||"Back"==t.keyIdentifier)&&enyo.Signals.send("onbackbutton",t)})})();

// lib\webos-lib\source\ApplicationEvents.js
enyo.kind({name:"enyo.ApplicationEvents",kind:enyo.Signals,onbackbutton:"",onactivate:"",ondeactivate:"",onmenubutton:"",onrelaunch:"",onlowmemory:"",onvirtualkeyboard:""});

// lib\webos-lib\source\ServiceRequest.js
enyo.kind({name:"enyo.ServiceRequest",kind:enyo.Async,resubscribeDelay:1e4,published:{service:"",method:"",subscribe:!1,resubscribe:!1},constructor:function(t){enyo.mixin(this,t),this.inherited(arguments),void 0==enyo._serviceCounter?enyo._serviceCounter=1:enyo._serviceCounter++,this.id=enyo._serviceCounter},go:function(t){if(!window.PalmServiceBridge)return this.fail({errorCode:-1,errorText:"Invalid device for Palm services. PalmServiceBridge not found."}),void 0;this.params=t||{},this.bridge=new PalmServiceBridge,this.bridge.onservicecallback=this.clientCallback=enyo.bind(this,"serviceCallback");var e=this.service;return this.method.length>0&&("/"!=e.charAt(e.length-1)&&(e+="/"),e+=this.method),-1===e.indexOf("://")&&(e="palm://"+e),this.subscribe&&(this.params.subscribe=this.subscribe),this.bridge.call(e,enyo.json.stringify(this.params)),this},cancel:function(){this.cancelled=!0,this.responders=[],this.errorHandlers=[],this.resubscribeJob&&enyo.job.stop(this.resubscribeJob),this.bridge&&(this.bridge.cancel(),this.bridge=void 0)},serviceCallback:function(t){var e,i;if(!this.cancelled){try{e=enyo.json.parse(t)}catch(n){var i={errorCode:-1,errorText:t};return this.serviceFailure(i),void 0}e.errorCode||e.returnValue===!1?this.serviceFailure(e):this.serviceSuccess(e)}},serviceSuccess:function(t){var e=void 0;this.responders.length>0&&(e=this.responders[0]),this.respond(t),this.subscribe&&e&&this.response(e)},serviceFailure:function(t){var e=void 0;this.errorHandlers.length>0&&(e=this.errorHandlers[0]),this.fail(t),this.resubscribe&&this.subscribe&&(e&&this.error(e),this.resubscribeJob=this.id+"resubscribe",enyo.job(this.resubscribeJob,enyo.bind(this,"goAgain"),this.resubscribeDelay))},goAgain:function(){this.go(this.params)}});

// lib\webos-lib\source\PalmService.js
enyo.kind({name:"enyo.PalmService",kind:enyo.Component,published:{service:"",method:"",subscribe:!1,resubscribe:!1},events:{onResponse:"",onError:"",onComplete:""},create:function(){this.inherited(arguments),this.activeRequests=[],this.activeSubscriptionRequests=[]},send:function(t){var e=new enyo.ServiceRequest({service:this.service,method:this.method,subscribe:this.subscribe,resubscribe:this.resubscribe});return e.originalCancel=e.cancel,e.cancel=enyo.bind(this,"cancel",e),e.response(this,"requestSuccess"),e.error(this,"requestFailure"),this.subscribe?(t.subscribe=this.subscribe,this.activeSubscriptionRequests.push(e)):this.activeRequests.push(e),e.go(t),e},cancel:function(t){this.removeRequest(t),t.originalCancel()},removeRequest:function(t){var e=-1;e=this.activeRequests.indexOf(t),-1!==e?this.activeRequests.splice(e,1):(e=this.activeSubscriptionRequests.indexOf(t),-1!==e&&this.activeSubscriptionRequests.splice(e,1))},requestSuccess:function(t,e){this.doResponse({request:t,data:e}),this.requestComplete(t,e)},requestFailure:function(t,e){this.doError({request:t,data:e}),this.requestComplete(t,e)},requestComplete:function(t,e){var i=-1;i=this.activeRequests.indexOf(t),-1!==i&&this.activeRequests.splice(i,1),this.doComplete({request:t,data:e})},destroy:function(){var t;for(t=0;this.activeRequests.length>t;t++)this.activeRequests[t].originalCancel();for(delete this.activeRequests,t=0;this.activeSubscriptionRequests.length>t;t++)this.activeSubscriptionRequests[t].originalCancel();delete this.activeSubscriptionRequests,this.inherited(arguments)}});

// lib\webos-lib\source\ProgressOrb.js
enyo.kind({name:"enyo.Pie",published:{angle:0},style:"width: 90%; height: 90%;",components:[{name:"PieBackground",tag:"div",classes:"pie pie-background"},{name:"LeftMask",classes:"pie",components:[{name:"PieLeftHalf",classes:"pie pie-foreground"}]},{name:"RightMask",classes:"pie",components:[{name:"PieRightHalf",classes:"pie pie-foreground"}]}],rendered:function(){this.setupClipping(),this.applyRotation()},angleChanged:function(){this.applyRotation()},setupClipping:function(){var t=this.hasNode().clientWidth;this.$.LeftMask.addStyles("clip: rect(0, "+t/2+"px, "+t+"px, 0);"),this.$.PieLeftHalf.addStyles("clip: rect(0,"+t/2+"px"+","+t+"px"+",0);"),this.$.RightMask.addStyles("clip: rect(0,"+t+"px"+","+t+"px"+","+t/2+"px"+");"),this.$.PieRightHalf.addStyles("clip: rect(0,"+t+"px"+","+t+"px"+","+t/2+"px"+");")},applyRotation:function(){this.$.PieRightHalf.addStyles("-webkit-transform: rotateZ("+Math.min(this.angle-180,0)+"deg);"),this.$.PieLeftHalf.addStyles("-webkit-transform: rotateZ("+Math.max(this.angle,180)+"deg);")}}),enyo.kind({name:"enyo.ProgressOrb",fit:!0,published:{value:0,min:0,max:1e3},style:"position: absolute; width: 48px; height: 48px;",events:{onButtonTap:""},components:[{name:"ProgressAnimator",kind:"Animator",duration:500,onStep:"animatorStep"},{name:"OuterRing",style:"width: 90%; height: 90%; padding: 5%; background-color: #000; border-radius: 50%;",components:[{name:"Pie",kind:"Pie",style:"position: absolute;"},{name:"CenterButton",kind:"onyx.Button",classes:"onyx-toolbar",style:"position: absolute; width:65%; height: 65%; margin: 12.5%; padding: 0; border-radius: 50%;",ontap:"buttonTapped"}]}],rendered:function(){this.inherited(arguments),this.$.CenterButton.applyStyle("font-size",this.$.CenterButton.hasNode().clientHeight/2+"px"),this.$.CenterButton.setContent(this.content)},buttonTapped:function(){this.doButtonTap()},valueChanged:function(){var t=this.$.ProgressAnimator.value;this.$.ProgressAnimator.setStartValue(void 0!=t?t:0),this.$.ProgressAnimator.setEndValue(this.value),this.$.ProgressAnimator.play()},animatorStep:function(t){var e=0,i=1,n=this.max,o=this.min,s=n-o,a=i-e,r=a*(t.value-o)/s+e,r=Math.max(Math.min(r,i),e),h=360*r;this.$.Pie.setAngle(h)}});

// lib\webos-lib\source\NumberPad.js
enyo.kind({name:"enyo.NumberPad",layoutKind:"FittableRowsLayout",events:{onKeyTapped:""},defaultKind:enyo.kind({kind:"onyx.Button",classes:"onyx-toolbar",style:"width: 33.3%; height: 25%; font-size: 32pt; font-weight: bold;",ontap:"keyTapped"}),components:[{content:"1",style:"border-radius: 16px 0 0 0;"},{content:"2",style:"border-radius: 0;"},{content:"3",style:"border-radius: 0 16px 0 0;"},{content:"4",style:"border-radius: 0;"},{content:"5",style:"border-radius: 0;"},{content:"6",style:"border-radius: 0;"},{content:"7",style:"border-radius: 0;"},{content:"8",style:"border-radius: 0;"},{content:"9",style:"border-radius: 0;"},{content:"*",style:"border-radius: 0 0 0 16px;"},{content:"0",style:"border-radius: 0;"},{content:"#",style:"border-radius: 0 0 16px 0;"}],keyTapped:function(t){this.doKeyTapped({value:t.content})}});

// lib\webos-lib\source\CrossAppUI.js
enyo.kind({name:"enyo.CrossAppUI",tag:"iframe",style:"border: 0;",published:{app:"",path:"",params:null},events:{onResult:""},create:function(){this.inherited(arguments),this.params=this.params||{},this.appPath="",this.checkLoadBound=enyo.bind(this,"checkLoad"),this.handleMessageBound=enyo.bind(this,"handleMessage"),window.addEventListener("message",this.handleMessageBound)},destroy:function(){window.removeEventListener("message",this.handleMessageBound),this.inherited(arguments)},rendered:function(){this.inherited(arguments),this.app?this.appChanged():this.path&&this.pathChanged()},appChanged:function(){if(this.appPath="",this.app){var t=new enyo.ServiceRequest({service:"palm://com.palm.applicationManager",method:"getAppBasePath"});t.response(this,"gotAppInfo"),t.go({appId:this.app})}else this.pathChanged()},gotAppInfo:function(t){return t&&t.returnValue?(this.appPath=t.basePath,this.appPath=this.appPath||"",this.appPath&&(this.appPath=this.appPath.slice(0,this.appPath.lastIndexOf("/")+1),this.pathChanged()),void 0):(console.error("Could not get app path: "+(t&&t.errorText)),void 0)},pathChanged:function(){var t="";this.path&&(this.appPath?t=this.appPath+this.path:this.app||(t=this.path),t&&(enyo.log("CrossAppUI: Loading cross-app UI at "+t),t=t+"?enyoWindowParams="+encodeURIComponent(JSON.stringify(this.params)),this._checkLoadTimerId||(this._checkLoadTimerId=window.setTimeout(this.checkLoadBound,1e3)))),this.setSrc(t)},checkLoad:function(){var t=this.hasNode(),e=t&&t.contentDocument;this._checkLoadTimerId=void 0,e&&"complete"===e.readyState&&"about:blank"===e.location.href&&this.path?(console.log("CrossAppUI: checkLoad: Kicking iframe."),this.pathChanged()):console.log("CrossAppUI: checkLoad: things look okay.")},paramsChanged:function(){this.path&&this.hasNode()&&this.hasNode().contentWindow&&this.hasNode().contentWindow.postMessage("enyoWindowParams="+enyo.json.stringify(this.params),"*")},handleMessage:function(t){enyo.log(JSON.stringify(t.data));var e="enyoCrossAppResult=";t.source===(this.hasNode()&&this.hasNode().contentWindow)&&0===t.data.indexOf(e)&&this.doResult(JSON.parse(t.data.slice(e.length)))}});

// lib\webos-lib\source\FilePicker.js
enyo.kind({name:"enyo.FilePicker",kind:"onyx.Popup",style:"width: 100%; height: 80%;",published:{fileType:void 0,previewLabel:void 0,extensions:void 0,allowMultiSelect:!1,currentRingtonePath:void 0,cropWidth:void 0,cropHeight:void 0},events:{onPickFile:""},autoDismiss:!1,floating:!0,centered:!0,modal:!0,scrim:!0,filePickerPath:"/usr/palm/applications/com.palm.systemui/app/FilePicker/filepicker.html",components:[{name:"CrossApp",kind:"CrossAppUI",style:"width: 100%; height: 100%;",onResult:"handleResult"}],pickFile:function(){this.updateParams(),this.$.CrossApp.setPath(this.filePickerPath),this.show()},updateParams:function(){var t={},e=this;Object.keys(this.published).forEach(function(i){void 0!==e[i]&&(t[i]=e[i])}),this.fileType&&"string"!=typeof this.fileType&&(t.fileTypes=this.fileType,t.fileType=void 0),this.$.CrossApp.setParams(t)},handleResult:function(t,e){this.$.CrossApp.setPath(""),this.hide(),e.result&&this.doPickFile(e.result)}});

// lib\webos-lib\source\AppMenu.js
enyo.kind({name:"enyo.AppMenu",kind:onyx.Menu,classes:"enyo-appmenu",style:"overflow: hidden;",defaultKind:"enyo.AppMenuItem",published:{maxHeight:400},components:[{kind:enyo.Signals,onmenubutton:"toggle"}],toggle:function(){this.showing?this.hide():this.show()},show:function(){var t=30*this.controls.length-1;t>this.maxHeight&&(t=this.maxHeight),this.setBounds({height:t}),this.inherited(arguments)},maxHeightChanged:function(){this.showing&&this.show()}}),enyo.kind({name:"enyo.AppMenuItem",kind:onyx.MenuItem,classes:"enyo-item"});

// lib\webos-lib\source\HtmlContent.js
enyo.kind({name:"enyo.HtmlContent",kind:enyo.Control,tag:"div",allowHtml:!0});

// lib\webos-lib\source\ModalDialog.js
enyo.kind({name:"enyo.ModalDialog",kind:onyx.Popup,modal:!0,autoDismiss:!1,openAtCenter:function(){this.setCentered(!0),this.show()}});

// lib\webos-lib\source\WebView.js
enyo.weightedAverage={data:{},count:4,weights:[1,2,4,8],compute:function(t,e){this.data[e]||(this.data[e]=[]);var i=this.data[e];i.push(t),i.length>this.count&&i.shift();for(var n,o,s=0,a=0,r=0;(n=i[s])&&(o=this.weights[s]);s++)r+=n*o,a+=o;return a=a||1,r/=a},clear:function(t){this.data[t]=[]}},enyo.kind({name:"enyo.BasicWebView",kind:enyo.Control,tag:"object",published:{identifier:"",url:"",minFontSize:16,enableJavascript:!0,blockPopups:!0,acceptCookies:!0,headerHeight:0,redirects:[],systemRedirects:[],networkInterface:"",dnsServers:[],ignoreMetaTags:!1,cacheAdapter:!0},attributes:{tabIndex:0},handlers:{onblur:"blurHandler",ontap:"clickHandler",onkeypress:"keypressHandler"},requiresDomMousedown:!0,events:{onMousehold:"",onResized:"",onPageTitleChanged:"",onUrlRedirected:"",onSingleTap:"",onLoadStarted:"",onLoadProgress:"",onLoadStopped:"",onLoadComplete:"",onFileLoad:"",onAlertDialog:"",onConfirmDialog:"",onPromptDialog:"",onSSLConfirmDialog:"",onUserPasswordDialog:"",onOpenSelect:"",onNewPage:"",onPrint:"",onEditorFocusChanged:"",onScrolledTo:"",onConnected:"",onDisconnected:"",onError:""},lastUrl:"",domStyles:{display:"block","-webkit-transform":"translate3d(0, 0, 0)"},create:function(){this.inherited(arguments),window.zoomFactor===void 0&&(window.zoomFactor=1),this.history=[],this.callQueue=[],this.dispatcher=enyo.dispatcher,this.setAttribute("type","application/x-palm-browser"),this.setAttribute("x-palm-cache-plugin",this.cacheAdapter),this._flashGestureLock=!1},destroy:function(){this.callQueue=null,this.node.eventListener=null,this.inherited(arguments)},rendered:function(){this.inherited(arguments),this.hasNode()&&(this.node.eventListener=this,this.node.addEventListener("touchstart",enyo.bind(this,"touchHandler")),this.node.addEventListener("touchmove",enyo.bind(this,"touchHandler")),this.node.addEventListener("touchend",enyo.bind(this,"touchHandler")),this.history=[],this.lastUrl="",this.adapterReady()&&this.connect())},blurHandler:function(){window.PalmSystem&&!webos.isPhone()&&window.PalmSystem.editorFocused(!1,0,0),webos.isPhone()&&this.callBrowserAdapter("blur")},touchHandler:function(){},adapterReady:function(){return this.hasNode()&&(this.node.openURL||webos.isPhone())},adapterInitialized:function(){this._serverConnected=!1,this.connect()},serverConnected:function(){this._serverConnected=!0,this.initView(),this.doConnected()},connect:function(){this.adapterReady()&&!this._serverConnected&&this._connect()},_connect:function(){try{this.node.setPageIdentifier(this.identifier||this.id),this.node.connectBrowserServer(),webos.isPhone()&&this.serverConnected()}catch(t){}},initView:function(){this.adapterReady()&&this._serverConnected&&(this.cacheBoxSize(),this.node.interrogateClicks(!1),this.node.setShowClickedLink(!0),this.node.pageFocused(!0),this.blockPopupsChanged(),this.acceptCookiesChanged(),this.enableJavascriptChanged(),this.systemRedirectsChanged(),this.redirectsChanged(),this.updateViewportSize(),this.minFontSizeChanged(),this.urlChanged())},resize:function(){var t=this.getBounds();!this._boxSize||this._boxSize.width==t.width&&this._boxSize.height==t.height||this.cacheBoxSize(),this.updateViewportSize()},getBounds:function(){var t=this.owner.owner.getBounds(),e=0,i=0,n=0,o=0,s=0;return this.owner.owner.hasNode()&&(e=enyo.dom.getComputedStyleValue(this.owner.owner.node,"padding-top").replace("px",""),i=enyo.dom.getComputedStyleValue(this.owner.owner.node,"padding-left").replace("px",""),n=enyo.dom.getComputedStyleValue(this.owner.owner.node,"padding-right").replace("px",""),o=enyo.dom.getComputedStyleValue(this.owner.owner.node,"padding-bottom").replace("px",""),s=enyo.dom.getComputedStyleValue(this.owner.owner.node,"border-top-width").replace("px","")),s=parseInt(s,10),{width:t.width-(parseInt(i,10)+parseInt(n,10))-2*s,height:t.height-(parseInt(e,10)+parseInt(o,10))-2*s}},cacheBoxSize:function(){this._boxSize=this.getBounds(),this.applyStyle("width",this._boxSize.width+"px"),this.applyStyle("height",this._boxSize.height+"px")},updateViewportSize:function(){var t=this.getBounds();t.width&&t.height&&this.callBrowserAdapter("setVisibleSize",[t.width,t.height]),webos.isPhone()&&this.callBrowserAdapter("setViewportSize",[t.width,t.height])},urlChanged:function(){this.url&&this.callBrowserAdapter("openURL",[this.url])},minFontSizeChanged:function(){this.callBrowserAdapter("setMinFontSize",[Number(this.minFontSize)])},dispatchDomEvent:function(t){var e=!0,i="gesturechange"==t.type||"gesturestart"==t.type||"gestureend"==t.type,n=t.centerX||t.clientX||t.pageX,o=t.centerY||t.clientY||t.pageY;return t.preventDefault&&(0>n||0>o)?(t.preventDefault(),!0):((i||!this._flashGestureLock&&!this._mouseInInteractive||this._flashGestureLock&&!this._mouseInFlash)&&(e=this.inherited(arguments)),e)},dragstartHandler:function(){return!0},flickHandler:function(t,e){return this.callBrowserAdapter("handleFlick",[e.xVel,e.yVel]),!0},clickHandler:function(t,e){if(webos.isPhone()){var i=this.hasNode().getBoundingClientRect();this.callBrowserAdapter("clickAt",[(-i.left+e.screenX)*window.zoomFactor,(-i.top+e.screenY)*window.zoomFactor,0])}},keypressHandler:function(){webos.isPhone()&&this.callBrowserAdapter("insertStringAtCursor",[String.fromCharCode(event.charCode)])},enableJavascriptChanged:function(){this.callBrowserAdapter("setEnableJavaScript",[this.enableJavascript])},blockPopupsChanged:function(){this.callBrowserAdapter("setBlockPopups",[this.blockPopups])},acceptCookiesChanged:function(){this.callBrowserAdapter("setAcceptCookies",[this.acceptCookies])},headerHeightChanged:function(){this.callBrowserAdapter("setHeaderHeight",[this.headerHeight])},systemRedirectsChanged:function(t){this._redirectsChanged(this.systemRedirects,t)},redirectsChanged:function(t){this._redirectsChanged(this.redirects,t)},_redirectsChanged:function(t,e){for(var i,n=0;i=e&&e[n];n++)this.callBrowserAdapter("addUrlRedirect",[i.regex,!1,i.cookie,i.type||0]);for(n=0,i;i=t[n];n++)this.callBrowserAdapter("addUrlRedirect",[i.regex,i.enable,i.cookie,i.type||0])},networkInterfaceChanged:function(){this.networkInterface&&this.callBrowserAdapter("setNetworkInterface",[this.networkInterface])},dnsServersChanged:function(){if(this.networkInterface){var t=this.dnsServers.join(",");this.callBrowserAdapter("setDNSServers",[t])}},ignoreMetaTagsChanged:function(){this.callBrowserAdapter("ignoreMetaTags",[this.ignoreMetaTags])},clearHistory:function(){this.callBrowserAdapter("clearHistory")},cutHandler:function(){this.callBrowserAdapter("cut")},copyHandler:function(){this.callBrowserAdapter("copy")},pasteHandler:function(){this.callBrowserAdapter("paste")},selectAllHandler:function(){this.callBrowserAdapter("selectAll")},callBrowserAdapter:function(t,e){if(this.adapterReady()&&this._serverConnected){for(var i,n=0;i=this.callQueue[n];n++)this._callBrowserAdapter(i.name,i.args);this.callQueue=[],this._callBrowserAdapter(t,e)}else"disconnectBrowserServer"!==t&&(this.callQueue.push({name:t,args:e}),this.adapterReady()&&!this._serverConnected&&this.connect())},_callBrowserAdapter:function(t,e){this.node[t]?this.node[t].apply(this.node,e):this.log("No method ",t," on browserAdapter")},showFlashLockedMessage:function(){null==this.flashPopup&&(this.flashPopup=this.createComponent({kind:"Popup",modal:!0,style:"text-align:center",components:[{content:$L("Tap outside or pinch when finished")}]}),this.flashPopup.render(),this.flashPopup.hasNode()&&(this.flashTransitionEndHandler=enyo.bind(this,"flashPopupTransitionEndHandler"),this.flashPopup.node.addEventListener("webkitTransitionEnd",this.flashTransitionEndHandler,!1))),this.flashPopup.applyStyle("opacity",1),this.flashPopup.openAtCenter(),enyo.job(this.id+"-hideFlashPopup",enyo.bind(this,"hideFlashLockedMessage"),2e3)},hideFlashLockedMessage:function(){this.flashPopup.addClass("enyo-webview-flashpopup-animate"),this.flashPopup.applyStyle("opacity",0)},flashPopupTransitionEndHandler:function(){this.flashPopup.removeClass("enyo-webview-flashpopup-animate"),this.flashPopup.close()},urlTitleChanged:function(t,e,i,n){this.lastUrl=this.url,this.url=t,this.doPageTitleChanged({inTitle:e,inUrl:t,inCanGoBack:i,inCanGoForward:n})},loadStarted:function(){this.doLoadStarted()},loadProgressChanged:function(t){this.doLoadProgress({inProgress:t})},loadStopped:function(){this.log(),this.doLoadStopped()},documentLoadFinished:function(){this.doLoadComplete()},mainDocumentLoadFailed:function(t,e,i,n){this.doError({errorCode:e,message:n+": "+i})},linkClicked:function(){},urlRedirected:function(t,e){this.doUrlRedirected({inUrl:t,inCookie:e})},updateGlobalHistory:function(){},firstPaintCompleted:function(){},editorFocused:function(t,e,i){window.PalmSystem&&(webos.isPhone()?t?this.callBrowserAdapter("focus"):this.callBrowserAdapter("blur"):(t&&this.node.focus(),window.PalmSystem.editorFocused(t,e,i))),this.doEditorFocusChanged({inFocused:t,inFieldType:e,inFieldActions:i})},scrolledTo:function(t,e){this.doScrolledTo({x:t,y:e})},dialogAlert:function(t){this.doAlertDialog({message:t})},dialogConfirm:function(t){this.doConfirmDialog({message:t})},dialogPrompt:function(t,e){this.doPromptDialog({message:t,defaultValue:e})},dialogSSLConfirm:function(t,e,i){this.doSSLConfirmDialog({host:t,code:e,certFile:i})},dialogUserPassword:function(t){this.doUserPasswordDialog({message:t})},mimeNotSupported:function(t,e){this.doFileLoad({mimeType:t,url:e})},mimeHandoffUrl:function(t,e){this.doFileLoad({mimeType:t,url:e})},mouseInInteractiveChange:function(t){this._mouseInInteractive=t},mouseInFlashChange:function(t){this._mouseInFlash=t},flashGestureLockChange:function(t){this._flashGestureLock=t,this._flashGestureLock&&this.showFlashLockedMessage()},createPage:function(t){this.doNewPage(t)},scrollTo:function(){},metaViewportSet:function(){},browserServerDisconnected:function(){this._serverConnected=!1,this.doDisconnected()},showPrintDialog:function(){this.doPrint()},textCaretRectUpdate:function(){},eventFired:function(t,e){var i={type:t.type,pageX:t.pageX,pageY:t.pageY},n={isNull:e.isNull,isLink:e.isLink,isImage:e.isImage,x:e.x,y:e.y,bounds:{left:e.bounds&&e.bounds.left||0,top:e.bounds&&e.bounds.top||0,right:e.bounds&&e.bounds.right||0,bottom:e.bounds&&e.bounds.bottom||0},element:e.element,title:e.title,linkText:e.linkText,linkUrl:e.linkUrl,linkTitle:e.linkTitle,altText:e.altText,imageUrl:e.imageUrl,editable:e.editable,selected:e.selected},o="do"+t.type.substr(0,1).toUpperCase()+t.type.substr(1);return this[o]&&this[o].apply(this,{event:i,extra:n})},showPopupMenu:function(t,e){this.doOpenSelect({id:t,items:e})},didFinishDocumentLoad:function(){this.documentLoadFinished()},failedLoad:function(){},setMainDocumentError:function(t,e,i,n){this.mainDocumentLoadFailed(t,e,i,n)},firstPaintComplete:function(){this.firstPaintCompleted()},loadProgress:function(t){this.loadProgressChanged(t)},pageDimensions:function(){},smartZoomCalculateResponseSimple:function(){},titleURLChange:function(t,e,i,n){this.urlTitleChanged(e,t,i,n)}}),enyo.kind({name:"enyo.WebView",kind:enyo.Control,published:{identifier:"",url:"",minFontSize:16,enableJavascript:!0,blockPopups:!0,acceptCookies:!0,headerHeight:0,redirects:[],networkInterface:"",dnsServers:[],ignoreMetaTags:!1,cacheAdapter:!0},events:{onMousehold:"",onResized:"",onPageTitleChanged:"",onUrlRedirected:"",onSingleTap:"",onLoadStarted:"",onLoadProgress:"",onLoadStopped:"",onLoadComplete:"",onFileLoad:"",onAlertDialog:"",onConfirmDialog:"",onPromptDialog:"",onSSLConfirmDialog:"",onUserPasswordDialog:"",onNewPage:"",onPrint:"",onEditorFocusChanged:"",onScrolledTo:"",onError:"",onDisconnected:""},components:[{name:"view",kind:enyo.BasicWebView,onclick:"webviewClick",onMousehold:"doMousehold",onResized:"doResized",onPageTitleChanged:"pageTitleChanged",onUrlRedirected:"doUrlRedirected",onSingleTap:"doSingleTap",onLoadStarted:"doLoadStarted",onLoadProgress:"doLoadProgress",onLoadStopped:"doLoadStopped",onLoadComplete:"doLoadComplete",onFileLoad:"doFileLoad",onAlertDialog:"alertDialog",onConfirmDialog:"confirmDialog",onPromptDialog:"promptDialog",onSSLConfirmDialog:"sslConfirmDialog",onUserPasswordDialog:"userPasswordDialog",onOpenSelect:"showSelect",onNewPage:"doNewPage",onPrint:"doPrint",onEditorFocusChanged:"doEditorFocusChanged",onScrolledTo:"doScrolledTo",onConnected:"connected",onDisconnected:"disconnected",onError:"doError",cacheAdapter:!0}],_freeSelectPopups:[],_cachedSelectPopups:{},create:function(){this.inherited(arguments),this.identifierChanged(),this.minFontSizeChanged(),this.enableJavascriptChanged(),this.blockPopupsChanged(),this.acceptCookiesChanged(),this.headerHeightChanged(),this.addSystemRedirects(),this.redirectsChanged(),this.networkInterfaceChanged(),this.ignoreMetaTagsChanged(),this.urlChanged()},identifierChanged:function(){this.$.view.setIdentifier(this.identifier)},urlChanged:function(){this.$.view.setUrl(this.url)},minFontSizeChanged:function(){this.$.view.setMinFontSize(this.minFontSize)},enableJavascriptChanged:function(){this.$.view.setEnableJavascript(this.enableJavascript)},blockPopupsChanged:function(){this.$.view.setBlockPopups(this.blockPopups)},acceptCookiesChanged:function(){this.$.view.setAcceptCookies(this.acceptCookies)},headerHeightChanged:function(){this.$.view.setHeaderHeight(this.headerHeight)},redirectsChanged:function(){this.$.view.setRedirects(this.redirects)},networkInterfaceChanged:function(){this.$.view.setNetworkInterface(this.networkInterface)},dnsServersChanged:function(){this.$.view.setDnsServers(this.dnsServers)},ignoreMetaTagsChanged:function(){this.$.view.setIgnoreMetaTags(this.ignoreMetaTags)},showSelect:function(t,e,i){this._cachedSelectPopups[e]?(this._cachedSelectPopups[e]._response=-1,this.openSelect(this._cachedSelectPopups[e])):enyo.asyncMethod(this,"createSelectPopup",e,i)},openSelect:function(t){var e=this._selectRect;if(e){var i=t.calcSize(),n=this.getOffset(),o=Math.max(0,e.right-(e.right-e.left)/2-i.width/2),s=Math.max(0,e.bottom-(e.bottom-e.top)/2-i.height/2);t.openAt({left:o+n.left,top:s+n.top})}else t.openAtCenter()},createSelectPopup:function(t,e){var i=this._freeSelectPopups.pop();i?(i._webviewId=t,i._response=-1):i=this.createComponent({kind:"PopupList",name:"select-"+t,_webviewId:t,_response:-1,onSelect:"selectPopupSelect",onClose:"selectPopupClose"});for(var n,o=[],s=enyo.json.parse(e),a=0;n=s.items[a];a++)o.push({caption:n.text,disabled:!n.isEnabled});i.setItems(o),i.render(),this._cachedSelectPopups[t]=i,this.openSelect(i)},selectPopupSelect:function(t,e){t._response=e},selectPopupClose:function(t){enyo.asyncMethod(this,"selectPopupReply",t)},selectPopupReply:function(t){this.callBrowserAdapter("selectPopupMenuItem",[t._webviewId,t._response])},connected:function(){},disconnected:function(){var t=this._requestDisconnect;this._requestDisconnect?this._requestDisconnect=!1:setTimeout(enyo.bind(this,"reinitialize"),5e3),this.doDisconnected(t)},reinitialize:function(){this.$.view.connect()},showSpinner:function(){},hideSpinner:function(){},pageTitleChanged:function(t,e){for(var i in this._cachedSelectPopups)this._freeSelectPopups.push(this._cachedSelectPopups[i]);this._cachedSelectPopups={},this.doPageTitleChanged(e)},alertDialog:function(){this.handleDialog("AlertDialog",arguments)},confirmDialog:function(){this.handleDialog("ConfirmDialog",arguments)},promptDialog:function(){this.handleDialog("PromptDialog",arguments)},sslConfirmDialog:function(){this.handleDialog("SSLConfirmDialog",arguments)},userPasswordDialog:function(){this.handleDialog("UserPasswordDialog",arguments)},handleDialog:function(t,e){var i=this["on"+t];if(this.owner&&this.owner[i]){var n=Array.prototype.slice.call(e,1);this["do"+t].apply(this,n)}else this.cancelDialog()},activate:function(){this.$.view.callBrowserAdapter("pageFocused",[!0])},deactivate:function(){this.$.view.callBrowserAdapter("pageFocused",[!1])},deferSetUrl:function(t){this.setUrl(t)},resize:function(){},resizeHandler:function(){this.$.view.resize()},disconnect:function(){this.$.view.callBrowserAdapter("disconnectBrowserServer"),this._requestDisconnect=!0},clearCache:function(){this.$.view.callBrowserAdapter("clearCache")},clearCookies:function(){this.$.view.callBrowserAdapter("clearCookies")},clearHistory:function(){this.$.view.clearHistory()},deleteImage:function(t){this.$.view.callBrowserAdapter("deleteImage",[t])},generateIconFromFile:function(t,e,i,n,o,s){this.$.view.callBrowserAdapter("generateIconFromFile",[t,e,i,n,o,s])},goBack:function(){this.$.view.callBrowserAdapter("goBack")},goForward:function(){this.$.view.callBrowserAdapter("goForward")},reloadPage:function(){this.$.view.callBrowserAdapter("reloadPage")},resizeImage:function(t,e,i,n){this.$.view.callBrowserAdapter("resizeImage",[t,e,i,n])},saveViewToFile:function(t,e,i,n,o){this.$.view.callBrowserAdapter("saveViewToFile",[t,e,i,n,o])},stopLoad:function(){this.$.view.callBrowserAdapter("stopLoad")},acceptDialog:function(){var t=[].slice.call(arguments);t.unshift("1"),this.$.view.callBrowserAdapter("sendDialogResponse",t)},cancelDialog:function(){this.$.view.callBrowserAdapter("sendDialogResponse",["0"])},sendDialogResponse:function(t){this.$.view.callBrowserAdapter("sendDialogResponse",[t])},inspectUrlAtPoint:function(t,e,i){this.$.view.callBrowserAdapter("inspectUrlAtPoint",[t,e,i])},insertStringAtCursor:function(t){this.$.view.callBrowserAdapter("insertStringAtCursor",[t])},saveImageAtPoint:function(t,e,i,n){this.$.view.callBrowserAdapter("saveImageAtPoint",[t,e,i,n])},getImageInfoAtPoint:function(t,e,i){this.$.view.callBrowserAdapter("getImageInfoAtPoint",[t,e,i])},setHTML:function(t,e){this.$.view.callBrowserAdapter("setHTML",[t,e])},printFrame:function(t,e,i,n,o,s,a){this.$.view.callBrowserAdapter("printFrame",[t,e,i,n,o,s,a])},findInPage:function(t){this.$.view.callBrowserAdapter("findInPage",[t])},getHistoryState:function(t){this.$.view.getHistoryState(t)},redirectUrl:function(t,e,i){this.$.view.callBrowserAdapter("addUrlRedirect",[t,i,e,0])},addSystemRedirects:function(){},gotSystemRedirects:function(t,e){for(var i,n=e&&enyo.json.parse(e.responseText),o=[],s=0;n&&n.redirects&&(i=n.redirects[s]);s++)i.appId!=enyo.fetchAppId()&&o.push({regex:i.url,enable:!0,cookie:i.appId,type:0});for(s=0,i;n&&n.commands&&(i=n.commands[s]);s++)i.appId!=enyo.fetchAppId()&&"com.palm.app.browser"!=i.appId&&o.push({regex:i.url,enable:!0,cookie:i.appId,type:1});this.$.view.setSystemRedirects(o)},callBrowserAdapter:function(t,e){this.$.view.callBrowserAdapter(t,e)},webviewClick:function(t,e){var i=e.extra;i&&(this._selectRect="SELECT"==i.element?i.bounds:null,this.doClick(e.event))}});

// lib\webos-lib\source\CoreNavi.js
enyo.kind({name:"CoreNavi",style:"background-color: black;",layoutKind:"FittableColumnsLayout",fingerTracking:!1,showing:!0,components:[{style:"width: 33%;"},{kind:"Image",src:"$lib/webos-lib/assets/lightbar.png",fit:!0,style:"width: 33%; height: 24px; padding-top: 2px;",ondragstart:"handleDragStart",ondrag:"handleDrag",ondragfinish:"handleDragFinish"},{style:"width: 33%;"}],create:function(){this.inherited(arguments),window.PalmSystem&&(this.showing=!1)},handleDragStart:function(t,e){0==this.fingerTracking?-1==e.xDirection&&(evB=document.createEvent("HTMLEvents"),evB.initEvent("keyup","true","true"),evB.keyIdentifier="U+1200001",document.dispatchEvent(evB)):enyo.Signals&&enyo.Signals.send&&enyo.Signals.send("onCoreNaviDragStart",e)},handleDrag:function(t,e){1==this.fingerTracking&&enyo.Signals&&enyo.Signals.send&&enyo.Signals.send("onCoreNaviDrag",e)},handleDragFinish:function(t,e){1==this.fingerTracking&&enyo.Signals&&enyo.Signals.send&&enyo.Signals.send("onCoreNaviDragFinish",e)}});

// lib\webos-lib\source\CoreNaviArranger.js
enyo.kind({name:"enyo.CoreNaviArranger",kind:"Arranger",layoutClass:"enyo-arranger enyo-arranger-fit",calcArrangementDifference:function(){return.5*this.containerBounds.width},destroy:function(){for(var t,e=this.container.children,i=0;t=e[i];i++)this.pushPopControl(t,0,1),t.setShowing(!0),t.resized();this.inherited(arguments)},arrange:function(t){for(var e,i,n,o=0;e=t[o];o++){switch(n=0==o?1:0,o){case 0:i=1;break;case 1:i=.66;break;case t.length-1:i=1.33}this.arrangeControl(e,{scale:i,opacity:n})}},start:function(){this.inherited(arguments);for(var t,e=this.container.children,i=0;t=e[i];i++)t.setShowing(i==this.container.fromIndex||i==this.container.toIndex),t.showing&&t.resized();this.vendor||(this.vendor=this.getVendor())},finish:function(){this.inherited(arguments);for(var t,e=this.container.children,i=0;t=e[i];i++)t.setShowing(i==this.container.toIndex)},flowControl:function(t,e){enyo.Arranger.positionControl(t,e);var i=e.scale,n=e.opacity;null!=i&&null!=n&&this.pushPopControl(t,i,n)},pushPopControl:function(t,e,i){var n=e;enyo.dom.canAccelerate?t.applyStyle(this.vendor+"transform","scale3d("+n+","+n+",1)"):t.applyStyle(this.vendor+"transform","scale("+n+","+n+")"),enyo.Arranger.opacifyControl(t,i)},getVendor:function(){var t="",e=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],n=document.createElement("div");for(i=0;e.length>i;i++){if(n.style[e[i]]!==void 0){t=e[i];break}t=null}switch(t){case"transform":t="";break;case"WebkitTransform":t="-webkit-";break;case"MozTransform":t="-moz-";break;case"OTransform":t="-o-";break;case"msTransform":t="-ms-"}return t}});

// lib\webos-lib\source\PortsHeader.js
enyo.kind({name:"PortsHeader",kind:"onyx.Toolbar",classes:"ports-header",title:"WebOS Ports Header",taglines:["Random Tagline Here."],components:[{kind:"Image",src:"icon.png",style:"height: 100%; margin: 0;"},{tag:"div",style:"height: 100%; margin: 0 0 0 8px;",components:[{name:"Title",content:"",style:"vertical-align: top; margin: 0; font-size: 21px;"},{name:"Tagline",content:"",style:"display: block; margin: 0; font-size: 13px;"}]}],rendered:function(){this.inherited(arguments),this.$.Title.setContent(this.title),this.$.Tagline.setContent(this.taglines[Math.floor(Math.random()*this.taglines.length)])}});

// lib\webos-lib\source\PortsSearch.js
enyo.kind({name:"PortsSearch",kind:"PortsHeader",title:"WebOS Ports Search",taglines:["Shiny search button, PRESS IT!"],events:{onSearch:""},components:[{name:"SearchAnimator",kind:"Animator",onStep:"animatorStep",onStop:"animatorStop"},{name:"Icon",kind:"Image",src:"icon.png",style:"height: 100%; margin: 0;"},{name:"TextDiv",tag:"div",style:"height: 100%; margin: 0;",components:[{name:"Title",content:"",style:"vertical-align: top; margin: 0; font-size: 21px;"},{name:"Tagline",content:"",style:"display: block; margin: 0; font-size: 13px;"}]},{name:"SearchDecorator",kind:"onyx.InputDecorator",style:"position: absolute; top: 10px; right: 8px; width: 32px; padding: 2px 4px 3px 3px; max-width: 100%; float: right",components:[{name:"SearchInput",id:"searchBox",kind:"onyx.Input",selectOnFocus:!1,style:"width: 0;",oninput:"inputChanged",onblur:"closeSearch"},{kind:"Image",src:"$lib/webos-lib/assets/search-input-search.png",style:"width: 24px; height: 24px;",onmousedown:"openSearch"}]}],openSearch:function(){this.$.SearchAnimator.setStartValue(0),this.$.SearchAnimator.setEndValue(1),this.$.SearchAnimator.play()},closeSearch:function(){this.$.SearchInput.selectOnFocus=!0,this.$.SearchAnimator.setStartValue(1),this.$.SearchAnimator.setEndValue(0),this.$.SearchAnimator.play()},animatorStep:function(t){25e-5>1-t.value||(this.$.SearchInput.applyStyle("width",this.hasNode().offsetWidth*t.value-52+"px"),this.$.SearchDecorator.applyStyle("width",this.$.SearchInput.hasNode().offsetWidth+32+"px"),this.$.Icon.applyStyle("opacity",1-t.value),this.$.TextDiv.applyStyle("opacity",1-t.value),0==this.$.SearchAnimator.getStartValue()&&this.$.SearchInput.focus())},animatorStop:function(){},inputChanged:function(){this.doSearch({value:this.$.SearchInput.getValue()})},searchActive:function(){return""!=this.$.SearchInput.getValue()}});

// source\data\EnyoPatches.js
enyo.gesture.drag.holdPulseDefaultConfig.delay=600;

// source\data\ListItems\SearchListItem.js
enyo.kind({name:"SearchListItem",classes:"item enyo-border-box",style:"padding: 10px;",published:{itemId:"",itemName:"",itemAddress:"",itemDistance:"",itemRating:"",itemIcon:""},components:[{name:"itemIcon",kind:"Image",classes:"item-icon",src:""},{name:"itemName",content:"",classes:"item-name truncating-text"},{name:"itemRating",content:"",classes:"item-rating",showing:!1},{name:"itemRatingStar",content:"",allowHtml:!0,classes:"rating-container",showing:!1},{name:"itemDistance",content:"",classes:"item-distance"},{name:"itemAddress",content:"",classes:"item-address"}],create:function(){this.inherited(arguments),this.nameChanged()},setSelected:function(t){this.addRemoveClass("item-selected",t)},setItemName:function(t){this.itemName=t,this.nameChanged()},setItemAddress:function(t){this.itemAddress=t,this.addressChanged()},setItemDistance:function(t){t.contains("NaN")&&this.$.itemIcon.src.contains("blue_dot")||this.$.itemDistance.setContent(t)},setItemRating:function(t){this.itemRating=t,this.ratingChanged()},setItemIcon:function(t){this.itemIcon=t,this.iconChanged()},nameChanged:function(){this.$.itemName.setContent(this.itemName)},addressChanged:function(){this.$.itemAddress.setContent(this.itemAddress)},ratingChanged:function(){this.itemRating?(this.$.itemRating.show(),this.$.itemRatingStar.show()):(this.$.itemRating.hide(),this.$.itemRatingStar.hide()),this.$.itemRating.setContent(this.itemRating);var t='<div class="rating_bar"><div id="ratingstar" style="width: '+20*this.itemRating+'%;"></div></div>';this.$.itemRatingStar.setContent(t)},iconChanged:function(){this.$.itemIcon.setSrc(this.itemIcon)}});

// source\data\ListItems\DirectListItem.js
enyo.kind({name:"DirectListItem",classes:"direct-item onyx-toolbar-inline enyo-border-box",style:"padding: 10px;",published:{itemStep:"",itemInstructions:"",itemDistance:"",itemIcon:""},components:[{name:"itemStep",showing:!1,content:"",classes:"direct-item-step"},{name:"itemIcon",style:"zoom: 0.5; width: 64px; height: 64px;"},{name:"centered",components:[{name:"itemInstructions",content:"",allowHtml:!0,classes:"direct-item-instructions"},{name:"itemDistance",content:"",classes:"direct-item-distance"}]}],create:function(){this.inherited(arguments)},setSelected:function(t){this.addRemoveClass("item-selected",t)},setItemStep:function(t){this.itemStep=t,this.stepChanged()},setItemInstructions:function(t){this.itemInstructions=t,this.instructionsChanged()},setItemDistance:function(t){this.itemDistance=t,this.distanceChanged()},setItemIcon:function(t){this.itemIcon=t,this.iconChanged()},stepChanged:function(){this.$.itemStep.setContent(this.itemStep)},instructionsChanged:function(){this.$.itemInstructions.setContent(this.itemInstructions)},distanceChanged:function(){this.$.itemDistance.setContent(this.itemDistance)},iconChanged:function(){this.$.itemIcon.setClasses(this.itemIcon)}});

// source\data\LabeledItem.js
enyo.kind({name:"LabeledItem",published:{label:"",icon:"",checked:!1},components:[{name:"icon",kind:"Image",classes:"labeled-item-icon"},{name:"label",kind:"Control"},{name:"input",classes:"label-item-input",checked:!1,value:!1}],defaultKind:"onyx.Checkbox",create:function(){this.inherited(arguments),this.labelChanged(),this.iconChanged(),this.$.input.checked=this.checked},inputChanged:function(){this.$.input.checked=this.checked,this.$.input.value=this.checked},labelChanged:function(){this.$.label.setContent(this.label)},iconChanged:function(){this.$.icon.setSrc(this.icon)},getValue:function(){return this.$.input.getValue()},getActive:function(){return this.$.input.checked}});

// source\data\SettingsItem.js
enyo.kind({name:"SettingsItem",published:{label:"",icon:"",value:!1},events:{onIconTap:""},components:[{name:"icon",kind:"onyx.Icon",classes:"labeled-item-icon",ontap:"iconTap"},{name:"label",allowHtml:!0,kind:"Control"},{name:"input",classes:"settings-item-input",value:!1}],defaultKind:"onyx.Checkbox",create:function(){this.inherited(arguments),this.labelChanged(),this.iconChanged(),this.$.input.value=this.value},inputChanged:function(){this.$.input.value=this.value},labelChanged:function(){this.$.label.setContent(this.label)},iconChanged:function(){this.$.icon.setSrc(this.icon)},getValue:function(){return this.$.input.getValue()},iconTap:function(){this.doIconTap()}});

// source\data\webOSAccel.js
enyo.kind({name:"webOSAccel",kind:"Component",events:{onAcceleration:""},components:[{kind:"Signals",name:"Signal",onacceleration:"accelerationHandler"}],start:function(){enyo.dispatcher.listen(document,"acceleration")},stop:function(){enyo.dispatcher.stopListening(document,"acceleration")},accelerationHandler:function(t,e){this.doAcceleration(e)}});

// source\data\webOSCompass.js
enyo.kind({name:"webOSCompass",kind:"Component",events:{onHeading:"",onTrackingHeading:""},components:[{kind:"Signals",name:"compassSignal"}],blockScreenTimeout:function(t){window.PalmSystem.setWindowProperties({blockScreenTimeout:t})},getCurrentHeading:function(){this.$.compassSignal.oncompass="compassSingle",this.blockScreenTimeout(!0),enyo.dispatcher.listen(document,"compass")},startTracking:function(){this.$.compassSignal.oncompass="compassTracking",this.blockScreenTimeout(!0),enyo.dispatcher.listen(document,"compass")},stopTracking:function(){enyo.dispatcher.stopListening(document,"compass"),this.blockScreenTimeout(!1)},compassTracking:function(t,e){var i=Math.round(Number(e.trueHeading));this.doTrackingHeading({heading:i})},compassSingle:function(t,e){var i=Math.round(Number(e.trueHeading));this.doHeading({heading:i}),this.stopTracking()}});

// source\data\W3CGeolocation.js
enyo.kind({name:"W3CGeolocation",kind:"Component",events:{onSuccess:"",onFailure:""},destroy:function(){this.stopTracking(),this.inherited(arguments)},stopTracking:function(){this._watchId&&navigator.geolocation.clearWatch(this._watchId)},getCurrentPosition:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(enyo.bind(this,"doSuccess"),enyo.bind(this,"doFailure"),{maximumAge:600,timeout:5e3,enableHighAccuracy:!1}):(enyo.log("Geolocation error: Device does not support navigator.geolocation!"),this.doFailure("Geolocation error: Device does not support navigator.geolocation!"))},startTracking:function(){navigator.geolocation?this._watchId=navigator.geolocation.watchPosition(enyo.bind(this,"doSuccess"),enyo.bind(this,"doFailure"),{maximumAge:6e3,timeout:5e3,enableHighAccuracy:!1}):(enyo.log("Geolocation error: Device does not support navigator.geolocation!"),this.doFailure("Geolocation error: Device does not support navigator.geolocation!"))}});

// source\data\webOSGeolocation.js
enyo.kind({name:"webOSGeolocation",kind:"Component",events:{onSuccess:"",onFailure:""},components:[{name:"singleLocationService",kind:"PalmService",service:"palm://com.palm.location/",method:"getCurrentPosition",subscribe:!1,resubscribe:!1,onResponse:"LocationSuccess",onError:"LocationFail"},{name:"trackingLocationService",kind:"PalmService",service:"palm://com.palm.location/",method:"startTracking",subscribe:!0,onResponse:"LocationSuccess",onError:"LocationFail"}],getCurrentPosition:function(){this.$.singleLocationService.send({accuracy:3,maximumAge:5,responseTime:1})},LocationSuccess:function(t,e){this.doSuccess(this.webOStoW3C(e.data))},LocationFail:function(t,e){var i="errorCode: "+e.data.errorCode+"errorText: "+e.data.errorText;this.errorCodes[e.data.errorCode]&&(i=this.errorCodes[e.data.errorCode]),this.log(i),this.doFailure({message:i})},startTracking:function(){this.$.trackingLocationService.send({subscribe:!0})},stopTracking:function(){this.$.trackingLocationService.cancel()},webOStoW3C:function(t){return{coords:{latitude:t.latitude,longitude:t.longitude,altitude:t.altitude,accuracy:t.horizAccuracy,altitudeAccuracy:t.vertAccuracy,heading:t.heading,speed:t.velocity},timestamp:t.timestamp}},errorCodes:["Success","Timeout","Position_Unavailable","Unknown","GPS_Permanent_Error - No GPS fix but can still get the cell and Wifi fixes. A TouchPad without GPS returns this error.","LocationServiceOFF - No Location source available. Both Google and GPS are off.","Permission Denied - The user has not accepted the terms of use for the Google Location Service, or the Google Service is off.","The application already has a pending message ","The application has been temporarily blacklisted. (The user is not allowing this application to use this service.)"]});

// source\data\Helper.js
function getAppInfo(){var t=new XMLHttpRequest;return t.open("GET","../appinfo.json",!1),t.send(null),0==t.status?JSON.parse(t.responseText):void 0}function findWithAttr(t,e,i){for(var n=0;t.length>n;n+=1)if(t[n][e]===i)return n}function getDistanceInCorrectUnits(t){switch(Prefs.lengthUnits){case"metric":return(t/1e3).toFixed(2)+" km ";case"imperial":return(.000621371192*t).toFixed(2)+" "+$L("miles")+" "}}function $L(t){return Localized.getString(t)}var Localized=new ilib.ResBundle({locale:Prefs.lang}),atanh=function(t){return.5*Math.log((1+t)/(1-t))},MERCATOR_RANGE=256,degreesToRadians=function(t){return t*(Math.PI/180)},radiansToDegrees=function(t){return t/(Math.PI/180)},bound=function(t,e,i){return null!=e&&(t=Math.max(t,e)),null!=i&&(t=Math.min(t,i)),t},YandexProjection=function(){this.pixelOrigin_=new google.maps.Point(128,128),this.pixelsPerLonDegree_=MERCATOR_RANGE/360,this.pixelsPerLonRadian_=MERCATOR_RANGE/(2*Math.PI)};YandexProjection.prototype.fromLatLngToPoint=function(t){var e=this,i=new google.maps.Point(0,0),n=e.pixelOrigin_;bound(Math.sin(degreesToRadians(t.lat())),-.9999,.9999),i.x=n.x+t.lng()*e.pixelsPerLonDegree_;var o=.0818197,s=Math.sin(t.lat()/180*Math.PI);return i.y=Math.abs(n.y-e.pixelsPerLonRadian_*(atanh(s)-o*atanh(o*s))),i},YandexProjection.prototype.fromPointToLatLng=function(t){for(var e=this,i=e.pixelOrigin_,n=(t.x-i.x)/e.pixelsPerLonDegree_,o=(t.y-i.y)/-e.pixelsPerLonRadian_,s=Math.abs(180*(2*Math.atan(Math.exp(o))-Math.PI/2)/Math.PI),a=s/(180/Math.PI),r=a+1,h=.0818197,l=-Math.abs(t.y-128);Math.abs(r-a)>1e-7;)r=a,a=Math.asin(1-(1+Math.sin(r))*Math.pow(1-h*Math.sin(r),h)/(Math.exp(2*l/-(256/(2*Math.PI)))*Math.pow(1+h*Math.sin(r),h)));return s=t.y>128?180*-a/Math.PI:180*a/Math.PI,new google.maps.LatLng(s,n)},Array.prototype.remove=function(t,e){var i=this.slice((e||t)+1||this.length);return this.length=0>t?this.length+t:t,this.push.apply(this,i)},String.prototype.insert=function(t,e){return t>0?this.substring(0,t)+e+this.substring(t,this.length):e+this},String.prototype.contains=function(t){return-1!=this.indexOf(t)};

// source\data\Pullout.js
enyo.kind({name:"Pullout",kind:"enyo.Slideable",published:{lastPanel:null},events:{onShowTraffic:"",onShowTransit:"",onShowBicycling:"",onShowWeather:"",onMapTypeSelect:"",onCacheOSM:"",onBookmarkSelect:"",onLanguageChange:"",onDirectOptions:"",onFillDirectField:"",onSetDirectStep:"",onSavePrefs:""},components:[{name:"shadow",classes:"pullout-shadow"},{kind:"FittableRows",classes:"enyo-fit",components:[{name:"client",classes:"pullout-toolbar"},{fit:!0,style:"position: relative;",components:[{name:"maptypepanel",kind:"Scroller",touch:!0,fixedTime:!1,showing:!0,classes:"enyo-fit",components:[{name:"mapType",kind:"Group",classes:"onyx-groupbox settings",highlander:!0,onchange:"mapTypeChange",components:[{kind:"onyx.GroupboxHeader",content:$L("Map Type (Google)")},{kind:"LabeledItem",name:"Road",label:$L("Roadmap"),mapType:"ROADMAP",isRetina:!0,icon:"assets/map-type-road.png"},{kind:"LabeledItem",name:"Satellite",label:$L("Satellite"),mapType:"SATELLITE",isRetina:!1,icon:"assets/map-type-satellite.png"},{kind:"LabeledItem",name:"Hybrid",label:$L("Hybrid"),mapType:"HYBRID",isRetina:!0,icon:"assets/map-type-hybrid.png"},{kind:"LabeledItem",name:"Terrain",label:$L("Terrain"),mapType:"TERRAIN",isRetina:!0,icon:"assets/map-type-terrain.png"},{kind:"onyx.GroupboxHeader",content:$L("Map Type (Others)")},{kind:"LabeledItem",name:"OSM",label:$L("OpenStreetMap"),mapType:"OSM",isRetina:!1,icon:"assets/map-type-osm.png"},{kind:"LabeledItem",name:"OCM",label:$L("OpenCycleMap"),mapType:"OCM",isRetina:!1,icon:"assets/map-type-ocm.png"},{kind:"LabeledItem",name:"NokiaHere",label:$L("Nokia Maps"),mapType:"NOKIA",isRetina:!1,icon:"assets/map-type-nokia.jpg"},{kind:"LabeledItem",name:"Yandex",label:$L("Yandex Maps"),mapType:"Yandex",isRetina:!1,icon:"assets/map-type-yandex.png"}]}]},{name:"layerspanel",kind:"Scroller",touch:!0,fixedTime:!1,showing:!1,classes:"enyo-fit",components:[{kind:"onyx.Groupbox",classes:"settings",components:[{kind:"onyx.GroupboxHeader",content:"Layers"},{kind:"LabeledItem",label:$L("Traffic"),name:"trafficToggle",icon:"assets/icon-traffic.png",defaultKind:"onyx.ToggleButton",onChange:"showTrafficChange"},{kind:"LabeledItem",label:$L("Transit"),name:"transitToggle",icon:"assets/icon-transit.png",defaultKind:"onyx.ToggleButton",onChange:"showTransitChange"},{kind:"LabeledItem",label:$L("Bike"),name:"bikeToggle",icon:"assets/icon-bicycle.png",defaultKind:"onyx.ToggleButton",onChange:"showBicyclingChange"},{kind:"LabeledItem",label:$L("Weather"),name:"weatherToggle",icon:"assets/icon-weather.png",defaultKind:"onyx.ToggleButton",onChange:"showWeatherChange"}]}]},{name:"bookmarkpanel",showing:!1,classes:"bookmark-panel enyo-fit",components:[{kind:"onyx.Groupbox",classes:"settings",components:[{kind:"onyx.GroupboxHeader",components:[{content:$L("Places"),classes:"inheader-left"},{name:"markerCount",content:"0",classes:"inheader-right"}]}]},{kind:"onyx.RadioGroup",classes:"bookmark-header",components:[{content:$L("Current"),name:"current",panel:"currentlist",active:!0,ontap:"togglePlaces"},{content:$L("Saved"),name:"saved",disabled:!0,panel:"savedlist",ontap:"togglePlaces"}]},{kind:"Scroller",touch:!0,fixedTime:!1,horizontal:"hidden",classes:"enyo-fit",style:"top: 100px",components:[{kind:"List",name:"currentlist",onSetupItem:"setupSearchData",showing:!1,reorderable:!1,enableSwipe:!1,components:[{kind:"SearchListItem",name:"listItem",ontap:"",content:""}]},{kind:"List",name:"recentslist",onSetupItem:"",showing:!1,components:[]},{kind:"List",name:"savedlist",onSetupItem:"",showing:!1,components:[]}]}]},{kind:"Scroller",name:"directpanel",showing:!1,touch:!0,fixedTime:!1,classes:"enyo-fit directions-panel",components:[{kind:"onyx.Groupbox",classes:"settings",components:[{kind:"onyx.GroupboxHeader",content:$L("Directions")}]},{kind:"onyx.RadioGroup",style:"text-align: center",classes:"travel-radio",components:[{param:"travelMode",value:"DRIVING",active:!0,ontap:"setDirectOptions",components:[{kind:"onyx.Icon",src:"assets/travel-mode-sprite.png",style:"background-position-y: -40px",active:!0}]},{param:"travelMode",value:"WALKING",ontap:"setDirectOptions",components:[{kind:"onyx.Icon",src:"assets/travel-mode-sprite.png",style:"background-position-y: -120px"}]},{param:"travelMode",value:"TRANSIT",ontap:"setDirectOptions",components:[{kind:"onyx.Icon",src:"assets/travel-mode-sprite.png",style:"background-position-y: -80px"}]},{param:"travelMode",value:"BICYCLING",ontap:"setDirectOptions",components:[{kind:"onyx.Icon",src:"assets/travel-mode-sprite.png",style:"background-position-y: -160px"}]}]},{kind:"gts.DividerDrawer",name:"moreOptionsCollapsible",caption:$L("Options"),open:!1,components:[{kind:"gts.ToggleBar",label:$L("Route alternatives"),sublabel:"",param:"provideRouteAlternatives",name:"routeAlternativesToggle",onChange:"setDirectOptions"},{kind:"gts.ToggleBar",label:$L("Avoid tolls"),sublabel:"",param:"avoidTolls",name:"avoidTollsToggle",onChange:"setDirectOptions"},{kind:"gts.ToggleBar",label:$L("Avoid highways"),sublabel:"",param:"avoidHighways",name:"avoidHighwaysToggle",onChange:"setDirectOptions"}]},{kind:"onyx.Button",name:"directWarnings",classes:"onyx-negative",style:"width: 320px; height: auto",showing:!1,ontap:"activateWarningsDrawer"},{kind:"List",name:"directions",onSetupItem:"setupDirectData",showing:!0,components:[{kind:"DirectListItem",name:"listItemStep",ontap:"",content:""}]},{kind:"onyx.Button",name:"directCopyrights",classes:"onyx-blue",style:"width: 320px; height: auto",showing:!1}]},{name:"settingspanel",kind:"Scroller",touch:!0,fixedTime:!1,showing:!1,classes:"enyo-fit",components:[{kind:"onyx.Groupbox",classes:"settings",components:[{kind:"onyx.GroupboxHeader",content:$L("General settings")},{kind:"SettingsItem",label:$L("Fullscreen"),showing:!1,icon:"assets/help.png",help:$L("Switch between fullscreen and normal mode"),name:"FullscreenToggle",defaultKind:"onyx.ToggleButton",onChange:"Fullscreen",onIconTap:"settingsHelp"},{components:[{name:"Lang",classes:"onyx-toolbar-inline",components:[{kind:"Image",src:"assets/help.png",classes:"labeled-item-icon",ontap:"settingsHelp",help:$L("Overrides Google API and app language, needs application restart")},{name:"labelLang",kind:"Control",content:$L("Language")},{kind:"onyx.PickerDecorator",classes:"lang-picker",components:[{name:"langPickerButton",classes:"lang-picker"},{name:"langPicker",kind:"onyx.FlyweightPicker",classes:"zoom-pre3",count:55,onSetupItem:"setupLangs",onSelect:"LanguageChange",components:[{name:"language"}]}]},{name:"langNotice",showing:!1,kind:"Control",classes:"settings-notice",content:$L("Relaunch the app to apply the change!")}]}]},{showing:!1,components:[{name:"GPSupdate",classes:"onyx-toolbar-inline",components:[{kind:"Image",src:"assets/help.png",classes:"labeled-item-icon",ontap:"settingsHelp",help:$L("Sets how often will be updated the position")},{name:"labelGPS",kind:"Control",content:$L("GPS update interval")},{kind:"onyx.PickerDecorator",classes:"lang-picker",components:[{name:"GPSupdatePickerButton",classes:"lang-picker",content:""},{kind:"onyx.Picker",name:"GPSupdatePicker",classes:"zoom-pre3 lang-picker",onSelect:"GPSUpdateInterval",components:[{content:"1sec",name:"gpsInterval1",value:1},{content:"5sec",name:"gpsInterval5",value:5},{content:"20sec",name:"gpsInterval20",value:20},{content:"1min",name:"gpsInterval60",value:60},{content:"5min",name:"gpsInterval300",value:300},{content:"30min",name:"gpsInterval1800",value:1800}]}]}]}]},{kind:"onyx.GroupboxHeader",content:$L("Map settings")},{kind:"SettingsItem",label:$L("High DPI tiles"),showing:!0,icon:"assets/help.png",help:$L("It uses the tiles for high-dpi devices (e.g. HP Pre3). Only for Google map types."),name:"retina",defaultKind:"onyx.ToggleButton",onChange:"retinaTiles",onIconTap:"settingsHelp"},{kind:"SettingsItem",label:$L("Smart caching"),showing:!1,icon:"assets/help.png",help:$L("Enables smart caching, tiles are loaded from local storage and every new tile is saved to local storage for future use. Needs restart."),name:"OSMMapCache",defaultKind:"onyx.ToggleButton",onChange:"cacheOSM",onIconTap:"settingsHelp"},{kind:"SettingsItem",label:$L("Use MapTool cache"),showing:!1,icon:"assets/help.png",help:$L("If enabled, the map use the MappingTool cache in /media/internal/.MapTool directory"),name:"MapCacheExternal",defaultKind:"onyx.ToggleButton",onChange:"cacheOSM",onIconTap:"settingsHelp"}]}]},{name:"aboutpanel",kind:"Scroller",touch:!0,fixedTime:!1,showing:!1,classes:"enyo-fit",components:[{kind:"onyx.Groupbox",classes:"settings",components:[{kind:"onyx.GroupboxHeader",content:"About"},{name:"aboutGroup",components:[{kind:"Image",name:"aboutIcon",style:"width: 64px; height: 64px; float: right;",src:"icon-256x256.png"},{content:"<span style='font-size: 22px'>"+appInfo.title+"</span>",allowHtml:!0},{tag:"br"},{content:"<span style='color: gray; font-size: 16px'>v"+appInfo.version+"</span>",allowHtml:!0},{tag:"br"},{name:"APIver",allowHtml:!0},{components:[,{classes:"onyx-sample-divider",content:"Authors:"},{content:appInfo.vendor},{content:"<br>This application is trying to be a replacement of unsupported Google Maps application for WebOS devices and for LuneOS. The application is based on the Google Maps API V3 and also replaces the older Mojo version. Do you like this application? If do, you can support me in development. Thank you!<form action='https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business=5CTRZJLKKUBS4&lc=CZ&item_name=Jan%20Herman&currency_code=USD&bn=PP%2dDonationsBF%3abtn_donate_SM%2egif%3aNonHosted' target='_blank' href='https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business=5CTRZJLKKUBS4&lc=CZ&item_name=Jan%20Herman&currency_code=USD&bn=PP%2dDonationsBF%3abtn_donate_SM%2egif%3aNonHosted' method='post'><input type='image' src='assets/x-click-butcc-donate.gif' style='text-align: center' border='0' name='submit' alt='PayPal - The safer, easier way to pay online!'></form>",allowHtml:!0,showing:!1,name:"authorCredits"},{classes:"onyx-sample-divider",content:"Project page:"},{content:appInfo.vendor_url},{classes:"onyx-sample-divider",content:"License:"},{style:"font-size: 12px; text-align: justify",content:"Licensed under the Apache License, Version 2.0<br>You may obtain a <a href='http://www.apache.org/licenses/LICENSE-2.0'>copy of the License.</a><br>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.",allowHtml:!0}]}]}]}]}]},{kind:"onyx.Popup",name:"settingsHelpPopUp",classes:"zoom-pre3-text",centered:!0,floating:!0,scrim:!0},{kind:"onyx.Toolbar",style:"width: 320px",components:[{kind:"onyx.Grabber",ontap:"closePullout",components:[{name:"grabberText",classes:"grabber-text",allowHtml:!0}]},{kind:"onyx.Button",content:"Close",classes:"onyx-dark",style:"float: right",ontap:"closePullout"}]}]}],languages:[{code:"",content:"Default"},{code:"ar",content:"Arabic"},{code:"eu",content:"Basque"},{code:"bg",content:"Bulgarian"},{code:"bn",content:"Bengali"},{code:"ca",content:"Catalan"},{code:"cs",content:"Czech"},{code:"da",content:"Danish"},{code:"de",content:"German"},{code:"el",content:"Greek"},{code:"en",content:"English"},{code:"en-AU",content:"English (Australian "},{code:"en-GB",content:"English (Greatbritain "},{code:"es",content:"Spanish"},{code:"fa",content:"Farsi"},{code:"fi",content:"Finnish"},{code:"fil",content:"Filipino"},{code:"fr",content:"French"},{code:"gl",content:"Galician"},{code:"gu",content:"Gujarati"},{code:"hi",content:"Hindi"},{code:"hr",content:"Croatian"},{code:"hu",content:"Hungarian"},{code:"id",content:"Indonesian"},{code:"it",content:"Italian"},{code:"iw",content:"Hebrew"},{code:"ja",content:"Japanese"},{code:"kn",content:"Kannada"},{code:"ko",content:"Korean"},{code:"lt",content:"Lithuanian"},{code:"lv",content:"Latvian"},{code:"ml",content:"Malayalam"},{code:"mr",content:"Marathi"},{code:"nl",content:"Dutch"},{code:"no",content:"Norwegian"},{code:"pl",content:"Polish"},{code:"pt",content:"Portuguese"},{code:"pt-BR",content:"Portuguese (Brazil "},{code:"pt-PT",content:"Portuguese (Portugal "},{code:"ro",content:"Romanian"},{code:"ru",content:"Russian"},{code:"sk",content:"Slovak"},{code:"sl",content:"Slovenian"},{code:"sr",content:"Serbian"},{code:"sv",content:"Swedish"},{code:"tl",content:"Tagalog"},{code:"ta",content:"Tamil"},{code:"te",content:"Telugu"},{code:"th",content:"Thai"},{code:"tr",content:"Turkish"},{code:"uk",content:"Ukrainian"},{code:"vi",content:"Vietcontentse"},{code:"zh-CN",content:"Chinese (Simplified "},{code:"zh-TW",content:"Chinese (Traditional "},{code:"zh-HK",content:"Chinese (Hong Kong "}],max:320,min:0,value:320,unit:"px",overMoving:!1,toggle:function(t){var e=this.$[t];e.showing&&this.isAtMin()?this.animateToMax():(this.animateToMin(),this.$.maptypepanel.hide(),this.$.layerspanel.hide(),this.$.bookmarkpanel.hide(),this.$.directpanel.hide(),this.$.settingspanel.hide(),this.$.aboutpanel.hide(),e.show())},pulloutInit:function(){switch(this.route=[],Prefs.mapType){case"ROADMAP":case"ROADMAP_HDPI":this.$.Road.checked=!0,this.$.Road.inputChanged();break;case"OSM":this.$.OSM.checked=!0,this.$.OSM.inputChanged();break;case"OCM":this.$.OCM.checked=!0,this.$.OCM.inputChanged();break;case"NOKIA":this.$.NokiaHere.checked=!0,this.$.NokiaHere.inputChanged();break;case"SATELLITE":this.$.Satellite.checked=!0,this.$.Satellite.inputChanged();break;case"HYBRID":case"HYBRID_HDPI":this.$.Hybrid.checked=!0,this.$.Hybrid.inputChanged();break;case"TERRAIN":case"TERRAIN_HDPI":this.$.Terrain.checked=!0,this.$.Terrain.inputChanged()}try{var t=findWithAttr(this.languages,"code",Prefs.lang);this.$.langPickerButton.setContent(this.languages[t].content)}catch(e){this.$.langPickerButton.setContent("Default")}var i="gpsInterval"+Prefs.GPSinterval;this.$[i].setActive(!0),enyo.platform.webos&&this.$.OSMMapCache.show(),enyo.platform.webos&&Prefs.OSMMapCache&&this.$.MapCacheExternal.show(),enyo.platform.webos&&this.$.FullscreenToggle.show(),enyo.platform.webos&&this.$.authorCredits.show(),this.$.retina.value=Prefs.retina,this.$.retina.inputChanged(),this.$.OSMMapCache.value=Prefs.OSMMapCache,this.$.OSMMapCache.inputChanged(),this.$.MapCacheExternal.value=Prefs.MapCacheExternal,this.$.MapCacheExternal.inputChanged(),this.$.trafficToggle.checked=Prefs.layers.traffic,this.$.trafficToggle.inputChanged(),this.$.transitToggle.checked=Prefs.layers.transit,this.$.transitToggle.inputChanged(),this.$.bikeToggle.checked=Prefs.layers.bike,this.$.bikeToggle.inputChanged(),this.$.weatherToggle.checked=Prefs.layers.weather,this.$.weatherToggle.inputChanged()},togglePlaces:function(t){var e=this.$[t.panel],i=this.$[t.name];this.$.currentlist.hide(),this.$.savedlist.hide(),e.show(),i&&i.setActive(!0)},openPullout:function(t){var e=this.$[t];this.animateToMin(),this.$.maptypepanel.hide(),this.$.layerspanel.hide(),this.$.bookmarkpanel.hide(),this.$.directpanel.hide(),this.$.settingspanel.hide(),this.$.aboutpanel.hide(),e.show()},closePullout:function(){this.animateToMax()},setGrabberText:function(t){this.$.grabberText.setContent(t)},valueChanged:function(){this.inherited(arguments),this.$.shadow.setShowing(this.value!==this.max)},showTransitChange:function(t){this.doShowTransit({value:t.getValue()})},showTrafficChange:function(t){this.doShowTraffic({value:t.getValue()})},showWeatherChange:function(t){this.doShowWeather({value:t.getValue()})},showBicyclingChange:function(t){this.doShowBicycling({value:t.getValue()})},mapTypeChange:function(t,e){var i=e.originator;this.doMapTypeSelect({mapType:i.parent.mapType,isRetina:i.parent.isRetina})},itemSelect:function(t,e){this.doBookmarkSelect({item:e.item})},setSearchData:function(t){this.$.markerCount.setContent(t.length),this.results=t,this.$.currentlist.setCount(this.results.length),this.$.currentlist.refresh(),this.$.currentlist.reset(),this.togglePlaces({panel:"currentlist"}),this.$.current.setActive(!0)},setupSearchData:function(t,e){var i=e.index,n=this.results[i].place;this.$.listItem.setItemName(n.name),"mylocation"==n.lunetype&&(new ilib.Date,n.formatted_address=$L("Loc: ")+n.geometry.location.toUrlValue(8)),this.$.listItem.setItemAddress(n.formatted_address),n.photos?this.$.listItem.setItemIcon(n.photos[0].getUrl({maxWidth:100,maxHeight:100})):n.icon.contains("geocode-71")?this.$.listItem.setItemIcon(this.results[i].icon.url):this.$.listItem.setItemIcon(n.icon),this.$.listItem.setItemDistance(getDistanceInCorrectUnits(n.distance)),this.$.listItem.setItemRating(n.rating);var o=t.isSelected(i);if(this.$.listItem.setSelected(o),o&&!selectMode){map.panTo(n.geometry.location);try{map.fitBounds(place.geometry.viewport)}catch(s){map.setZoom(17)}}else o&&selectMode&&this.doFillDirectField(n)},LanguageChange:function(){var t=this.languages[this.$.langPicker.getSelected()].code;this.$.langNotice.show(),this.doLanguageChange({value:t})},setupLangs:function(t,e){return this.$.language.setContent(this.languages[e.index].content),!0},setSomething:function(t,e,i){this.$[t].active=i},GPSUpdateInterval:function(t,e){this.doSavePrefs({GPSinterval:e.selected.value})},cacheOSM:function(t){this.doCacheOSM({value:t.getValue(),property:t.name}),this.$.MapCacheExternal.setShowing(this.$.OSMMapCache.getValue())},retinaTiles:function(t){this.doSavePrefs({retina:t.getValue()}),Prefs.retina=t.getValue(),this.$.mapType.getActive().owner.isRetina&&this.doMapTypeSelect({mapType:this.$.mapType.getActive().owner.mapType,isRetina:t.getValue()})},settingsHelp:function(t){this.$.settingsHelpPopUp.setContent(t.help),this.$.settingsHelpPopUp.show()},Fullscreen:function(t,e){enyo.platform.webos&&enyo.webos.setFullScreen(e.value)},getPanelNode:function(){return this.$.directions.node},setDirectOptions:function(t){var e={};try{e[t.param]=t.getValue()}catch(i){e[t.param]=t.value}this.doDirectOptions({params:e,route:this.route})},setDirectData:function(t){this.route=t.routes[0].legs[0].steps,this.$.directions.setCount(this.route.length),this.$.directions.reset(),this.doSetDirectStep(this.route[0]),this.$.directWarnings.hide(),this.$.directCopyrights.hide();for(var e,i="",n=0;e=t.routes[0].warnings[n];n++)i+=" "+e;t.routes[0].warnings.length>0&&(this.$.directWarnings.setContent(i),this.$.directWarnings.show()),t.routes[0].copyrights&&(this.$.directCopyrights.setContent(t.routes[0].copyrights),this.$.directCopyrights.show())},clearDirectData:function(){this.route=[],this.$.directions.setCount(0),this.$.directions.reset(),this.$.directWarnings.hide(),this.$.directCopyrights.hide()},setupDirectData:function(t,e){var i=e.index,n=this.route[i];n.step=i,this.$.listItemStep.setItemInstructions(n.instructions),this.$.listItemStep.setItemDistance(n.distance.text),this.$.listItemStep.setItemStep(i),n.maneuver?this.$.listItemStep.setItemIcon(n.maneuver):this.$.listItemStep.setItemIcon("straight");var o=t.isSelected(i);this.$.listItemStep.setSelected(o),o&&(this.doSetDirectStep(n),map.panTo(n.start_location))},goToStep:function(t){this.$.directions.select(t);var e=this.$.directions.getIndexPosition(t);return this.$.directpanel.setScrollTop(e.top-40),this.route[t]},activateWarningsDrawer:function(t){this.toggleClass(t,"wrap-text")},toggleClass:function(t,e){t.addRemoveClass(e,!t.classes.contains(e))},test:function(t,e){enyo.log("inSender",t),enyo.log("inEvent",e),t.parent.hide()}});

// source\plugins\markerclusterer\markerclusterer_compiled.js
function d(t){return function(e){this[t]=e}}function f(t){return function(){return this[t]}}function l(t,e,i){this.extend(l,google.maps.OverlayView),this.b=t,this.a=[],this.f=[],this.da=[53,56,66,78,90],this.j=[],this.A=!1,i=i||{},this.g=i.gridSize||60,this.l=i.minimumClusterSize||2,this.K=i.maxZoom||null,this.j=i.styles||[],this.Y=i.imagePath||this.R,this.X=i.imageExtension||this.Q,this.P=!0,void 0!=i.zoomOnClick&&(this.P=i.zoomOnClick),this.r=!1,void 0!=i.averageCenter&&(this.r=i.averageCenter),m(this),this.setMap(t),this.L=this.b.getZoom();var n=this;google.maps.event.addListener(this.b,"zoom_changed",function(){var t=n.b.getZoom(),e=n.b.minZoom||0,i=Math.min(n.b.maxZoom||100,n.b.mapTypes[n.b.getMapTypeId()].maxZoom),t=Math.min(Math.max(t,e),i);n.L!=t&&(n.L=t,n.m())}),google.maps.event.addListener(this.b,"idle",function(){n.i()}),e&&(e.length||Object.keys(e).length)&&this.C(e,!1)}function m(t){if(!t.j.length)for(var e,i=0;e=t.da[i];i++)t.j.push({url:t.Y+(i+1)+"."+t.X,height:e,width:e})}function s(t,e){e.s=!1,e.draggable&&google.maps.event.addListener(e,"dragend",function(){e.s=!1,t.M()}),t.a.push(e)}function t(t,e){var i=-1;if(t.a.indexOf)i=t.a.indexOf(e);else for(var n,o=0;n=t.a[o];o++)if(n==e){i=o;break}return-1==i?!1:(e.setMap(null),t.a.splice(i,1),!0)}function p(t){if(t.A)for(var e,i=new google.maps.LatLngBounds(t.b.getBounds().getSouthWest(),t.b.getBounds().getNorthEast()),i=t.v(i),n=0;e=t.a[n];n++)if(!e.s&&i.contains(e.getPosition())){for(var o=t,s=4e4,a=null,r=0,h=void 0;h=o.f[r];r++){var l=h.getCenter();if(l){var c=e.getPosition();if(l&&c)var d=(c.lat()-l.lat())*Math.PI/180,u=(c.lng()-l.lng())*Math.PI/180,l=Math.sin(d/2)*Math.sin(d/2)+Math.cos(l.lat()*Math.PI/180)*Math.cos(c.lat()*Math.PI/180)*Math.sin(u/2)*Math.sin(u/2),l=12742*Math.atan2(Math.sqrt(l),Math.sqrt(1-l));else l=0;s>l&&(s=l,a=h)}}a&&a.F.contains(e.getPosition())?a.q(e):(h=new v(o),h.q(e),o.f.push(h))}}function v(t){this.k=t,this.b=t.getMap(),this.g=t.I(),this.l=t.l,this.r=t.r,this.d=null,this.a=[],this.F=null,this.n=new w(this,t.w())}function A(t){var e=new google.maps.LatLngBounds(t.d,t.d);t.F=t.k.v(e)}function w(t,e){t.k.extend(w,google.maps.OverlayView),this.j=e,this.u=t,this.d=null,this.b=t.getMap(),this.B=this.c=null,this.t=!1,this.setMap(this.b)}function C(t,e){var i=t.getProjection().fromLatLngToDivPixel(e);return i.x-=parseInt(t.p/2,10),i.y-=parseInt(t.h/2,10),i}function B(t){t.c&&(t.c.style.display="none"),t.t=!1}function D(t,e){var i=[];return i.push("background-image:url("+t.ea+");"),i.push("background-position:"+(t.D?t.D:"0 0")+";"),"object"==typeof t.e?("number"==typeof t.e[0]&&t.e[0]>0&&t.e[0]<t.h?i.push("height:"+(t.h-t.e[0])+"px; padding-top:"+t.e[0]+"px;"):i.push("height:"+t.h+"px; line-height:"+t.h+"px;"),"number"==typeof t.e[1]&&t.e[1]>0&&t.e[1]<t.p?i.push("width:"+(t.p-t.e[1])+"px; padding-left:"+t.e[1]+"px;"):i.push("width:"+t.p+"px; text-align:center;")):i.push("height:"+t.h+"px; line-height:"+t.h+"px; width:"+t.p+"px; text-align:center;"),i.push("cursor:pointer; top:"+e.y+"px; left:"+e.x+"px; color:"+(t.N?t.N:"black")+"; position:absolute; font-size:"+(t.O?t.O:11)+"px; font-family:Arial,sans-serif; font-weight:bold"),i.join("")}var k;k=l.prototype,k.R="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/images/m",k.Q="png",k.extend=function(t,e){return function(t){for(var e in t.prototype)this.prototype[e]=t.prototype[e];return this}.apply(t,[e])},k.onAdd=function(){this.A||(this.A=!0,p(this))},k.draw=function(){},k.T=function(){for(var t,e=this.o(),i=new google.maps.LatLngBounds,n=0;t=e[n];n++)i.extend(t.getPosition());this.b.fitBounds(i)},k.w=f("j"),k.o=f("a"),k.W=function(){return this.a.length},k.ca=d("K"),k.J=f("K"),k.G=function(t,e){for(var i=0,n=t.length,o=n;0!==o;)o=parseInt(o/10,10),i++;return i=Math.min(i,e),{text:n,index:i}},k.aa=d("G"),k.H=f("G"),k.C=function(t,e){if(t.length)for(var i,n=0;i=t[n];n++)s(this,i);else if(Object.keys(t).length)for(i in t)s(this,t[i]);e||this.i()},k.q=function(t,e){s(this,t),e||this.i()},k.Z=function(e,i){var n=t(this,e);return!i&&n?(this.m(),this.i(),!0):!1},k.$=function(e,i){for(var n,o=!1,s=0;n=e[s];s++)n=t(this,n),o=o||n;return!i&&o?(this.m(),this.i(),!0):void 0},k.V=function(){return this.f.length},k.getMap=f("b"),k.setMap=d("b"),k.I=f("g"),k.ba=d("g"),k.v=function(t){var e=this.getProjection(),i=new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()),n=new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()),i=e.fromLatLngToDivPixel(i);return i.x+=this.g,i.y-=this.g,n=e.fromLatLngToDivPixel(n),n.x-=this.g,n.y+=this.g,i=e.fromDivPixelToLatLng(i),e=e.fromDivPixelToLatLng(n),t.extend(i),t.extend(e),t},k.S=function(){this.m(!0),this.a=[]},k.m=function(t){for(var e,i=0;e=this.f[i];i++)e.remove();for(i=0;e=this.a[i];i++)e.s=!1,t&&e.setMap(null);this.f=[]},k.M=function(){var t=this.f.slice();this.f.length=0,this.m(),this.i(),window.setTimeout(function(){for(var e,i=0;e=t[i];i++)e.remove()},0)},k.i=function(){p(this)},k=v.prototype,k.q=function(t){var e;t:if(this.a.indexOf)e=-1!=this.a.indexOf(t);else{e=0;for(var i;i=this.a[e];e++)if(i==t){e=!0;break t}e=!1}if(e)return!1;if(this.d?this.r&&(i=this.a.length+1,e=(this.d.lat()*(i-1)+t.getPosition().lat())/i,i=(this.d.lng()*(i-1)+t.getPosition().lng())/i,this.d=new google.maps.LatLng(e,i),A(this)):(this.d=t.getPosition(),A(this)),t.s=!0,this.a.push(t),e=this.a.length,this.l>e&&t.getMap()!=this.b&&t.setMap(this.b),e==this.l)for(i=0;e>i;i++)this.a[i].setMap(null);if(e>=this.l&&t.setMap(null),t=this.b.getZoom(),(e=this.k.J())&&t>e)for(t=0;e=this.a[t];t++)e.setMap(this.b);else this.a.length<this.l?B(this.n):(e=this.k.H()(this.a,this.k.w().length),this.n.setCenter(this.d),t=this.n,t.B=e,t.c&&(t.c.innerHTML=e.text),e=Math.max(0,t.B.index-1),e=Math.min(t.j.length-1,e),e=t.j[e],t.ea=e.url,t.h=e.height,t.p=e.width,t.N=e.textColor,t.e=e.anchor,t.O=e.textSize,t.D=e.backgroundPosition,this.n.show());return!0},k.getBounds=function(){for(var t,e=new google.maps.LatLngBounds(this.d,this.d),i=this.o(),n=0;t=i[n];n++)e.extend(t.getPosition());return e},k.remove=function(){this.n.remove(),this.a.length=0,delete this.a},k.U=function(){return this.a.length},k.o=f("a"),k.getCenter=f("d"),k.getMap=f("b"),k=w.prototype,k.onAdd=function(){if(this.c=document.createElement("DIV"),this.t){var t=C(this,this.d);this.c.style.cssText=D(this,t),this.c.innerHTML=this.B.text}this.getPanes().overlayMouseTarget.appendChild(this.c);var e=this;google.maps.event.addDomListener(this.c,"click",function(){var t=e.u.k;google.maps.event.trigger(t,"clusterclick",e.u),t.P&&e.b.fitBounds(e.u.getBounds())})},k.draw=function(){if(this.t){var t=C(this,this.d);this.c.style.top=t.y+"px",this.c.style.left=t.x+"px"}},k.show=function(){if(this.c){var t=C(this,this.d);this.c.style.cssText=D(this,t),this.c.style.display=""}this.t=!0},k.remove=function(){this.setMap(null)},k.onRemove=function(){this.c&&this.c.parentNode&&(B(this),this.c.parentNode.removeChild(this.c),this.c=null)},k.setCenter=d("d"),window.MarkerClusterer=l,l.prototype.addMarker=l.prototype.q,l.prototype.addMarkers=l.prototype.C,l.prototype.clearMarkers=l.prototype.S,l.prototype.fitMapToMarkers=l.prototype.T,l.prototype.getCalculator=l.prototype.H,l.prototype.getGridSize=l.prototype.I,l.prototype.getExtendedBounds=l.prototype.v,l.prototype.getMap=l.prototype.getMap,l.prototype.getMarkers=l.prototype.o,l.prototype.getMaxZoom=l.prototype.J,l.prototype.getStyles=l.prototype.w,l.prototype.getTotalClusters=l.prototype.V,l.prototype.getTotalMarkers=l.prototype.W,l.prototype.redraw=l.prototype.i,l.prototype.removeMarker=l.prototype.Z,l.prototype.removeMarkers=l.prototype.$,l.prototype.resetViewport=l.prototype.m,l.prototype.repaint=l.prototype.M,l.prototype.setCalculator=l.prototype.aa,l.prototype.setGridSize=l.prototype.ba,l.prototype.setMaxZoom=l.prototype.ca,l.prototype.onAdd=l.prototype.onAdd,l.prototype.draw=l.prototype.draw,v.prototype.getCenter=v.prototype.getCenter,v.prototype.getSize=v.prototype.U,v.prototype.getMarkers=v.prototype.o,w.prototype.onAdd=w.prototype.onAdd,w.prototype.draw=w.prototype.draw,w.prototype.onRemove=w.prototype.onRemove,Object.keys=Object.keys||function(t){var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(e);return i};

// source\plugins\enyo-keyboard\Keyboard.js
enyo.kind({name:"gts.Keyboard",kind:enyo.Control,keyboardJSON:[[{type:"symbol",on:"!",off:"1"},{type:"symbol",on:"@",off:"2"},{type:"symbol",on:"#",off:"3"},{type:"symbol",on:"$",off:"4"},{type:"symbol",on:"%",off:"5"},{type:"symbol",on:"^",off:"6"},{type:"symbol",on:"&amp;",off:"7"},{type:"symbol",on:"*",off:"8"},{type:"symbol",on:"(",off:"9"},{type:"symbol",on:")",off:"0"}],[{type:"letter",value:"q"},{type:"letter",value:"w"},{type:"letter",value:"e"},{type:"letter",value:"r"},{type:"letter",value:"t"},{type:"letter",value:"y"},{type:"letter",value:"u"},{type:"letter",value:"i"},{type:"letter",value:"o"},{type:"letter",value:"p"}],[{type:"letter",value:"a"},{type:"letter",value:"s"},{type:"letter",value:"d"},{type:"letter",value:"f"},{type:"letter",value:"g"},{type:"letter",value:"h"},{type:"letter",value:"j"},{type:"letter",value:"k"},{type:"letter",value:"l"},{type:"return",value:"enter"}],[{type:"letter",value:"z"},{type:"letter",value:"x"},{type:"letter",value:"c"},{type:"letter",value:"v"},{type:"letter",value:"b"},{type:"letter",value:"n"},{type:"letter",value:"m"}],[{type:"space",value:"space"}]],symbolIds:[],letterIds:[],shift:!1,capslock:!1,published:{write:""},components:[{name:"keyboardWrapper",classes:"gts-keyboard"}],rendered:function(){this.inherited(arguments),this.buildKeyBoardUI()},buildKeyBoardUI:function(){this.symbolIds=[],this.letterIds=[],this.shift=!1,this.capslock=!1;for(var t=[],e=0;this.keyboardJSON.length>e;e++){for(var i=[],n=0;this.keyboardJSON[e].length>n;n++){var o="-"+e+"-"+n+"-";"symbol"===this.keyboardJSON[e][n].type?(this.symbolIds.push(o),i.push({name:o,classes:"key symbol",allowHtml:!0,content:this.keyboardJSON[e][n].off,offKey:this.keyboardJSON[e][n].off,onKey:this.keyboardJSON[e][n].on,ontap:"keyTapped"})):"letter"===this.keyboardJSON[e][n].type?(this.letterIds.push(o),i.push({name:o,classes:"key letter",content:this.keyboardJSON[e][n].value,ontap:"keyTapped"})):i.push({name:o,classes:"key "+this.keyboardJSON[e][n].type,content:this.keyboardJSON[e][n].value,ontap:"keyTapped"})}t.push({classes:"keyboard-row",defaultKind:"onyx.Button",components:i})}this.$.keyboardWrapper.destroyClientControls(),this.$.keyboardWrapper.createComponents(t,{owner:this}),this.$.keyboardWrapper.render()},keyTapped:function(t){var e={};if(t.hasClass("left-shift")||t.hasClass("right-shift"))this.shift=!this.shift,this.adjustLetters(),this.adjustSymbols(),e.which=16;else if(t.hasClass("capslock"))this.capslock=!this.capslock,this.adjustLetters(),e.which=20;else{var i=t.getContent();if(i=t.hasClass("symbol")?i.replace("&amp;","&").replace("&lt;","<").replace("&gt;",">"):i,i=t.hasClass("space")?" ":i,i=t.hasClass("tab")?"	":i,i=t.hasClass("return")?"\r":i,i=t.hasClass("uppercase")?i.toUpperCase():i.toLowerCase(),this.shift===!0&&(this.shift=!1,this.adjustSymbols(),this.adjustLetters()),this.write!==void 0&&""!==this.write)if(t.hasClass("delete")){if(this.write.kind.match(/input/gi)){var n=this.write.getValue();this.write.setValue(n.substr(0,n.length-1))}else{var o=this.write.getContent();this.write.setContent(o.substr(0,o.length-1))}e.which=8}else this.write.kind.match(/input/gi)?this.write.setValue(this.write.getValue()+i):this.write.setContent(this.write.getContent()+i),e.which=i.charCodeAt(0)}this.write.bubble("oninput",e),this.write.bubble("onkeyup",e),this.write.bubble("onkeydown",e)},adjustSymbols:function(){for(var t=0;this.symbolIds.length>t;t++)this.$[this.symbolIds[t]].setContent(this.$[this.symbolIds[t]][this.shift?"onKey":"offKey"])},adjustLetters:function(){for(var t=0;this.letterIds.length>t;t++)this.$[this.letterIds[t]].addRemoveClass("uppercase",this.shift&&!this.capslock||!this.shift&&this.capslock)}});

// source\plugins\DividerDrawer\DividerDrawer.js
enyo.kind({name:"gts.DividerDrawer",classes:"gts-DividerDrawer",published:{caption:"",open:!0},events:{onChange:""},components:[{name:"base",kind:"FittableColumns",noStretch:!0,classes:"base-bar",ontap:"toggleOpen",components:[{classes:"end-cap"},{name:"caption",classes:"caption"},{classes:"bar",fit:!0},{name:"switch",classes:"toggle",value:!1},{classes:"end-cap bar"}]},{name:"client",kind:"onyx.Drawer"}],rendered:function(){this.inherited(arguments),this.captionChanged(),this.openChanged()},reflow:function(){this.$.client.reflow(),this.$.base.reflow()},openChanged:function(){this.$["switch"].value=this.open,this.$.client.setOpen(this.$["switch"].value),this.$["switch"].addRemoveClass("checked",this.$["switch"].value),this.reflow()},captionChanged:function(){this.$.caption.setContent(this.caption),this.$.caption.applyStyle("display",this.caption?"":"none"),this.reflow()},toggleOpen:function(){return this.open=!this.$["switch"].value,this.$["switch"].value=this.open,this.openChanged(),this.doChange(this,{caption:this.getCaption(),open:this.getOpen()}),!0}});

// source\plugins\ToggleBar\ToggleBar.js
enyo.kind({name:"gts.ToggleBar",kind:"onyx.Item",classes:"gts-ToggleBar",published:{label:"Toggle Button",sublabel:"",onContent:"On",offContent:"Off",value:!1},events:{onChange:""},components:[{name:"base",kind:"enyo.FittableColumns",components:[{fit:!0,components:[{name:"label"},{name:"sublabel",style:"font-size: 75%;"}]},{name:"switch",kind:"onyx.ToggleButton",ontap:"switchToggled",onChange:"switchChanged"}]}],handlers:{ontap:"barTapped"},rendered:function(){this.inherited(arguments),this.labelChanged(),this.sublabelChanged(),this.onContentChanged(),this.offContentChanged(),this.valueChanged()},reflow:function(){this.$.base.reflow()},barTapped:function(){this.$["switch"].setValue(!this.getValue()),this.doChange(this.$["switch"])},switchToggled:function(){return this.doChange(this.$["switch"]),!0},switchChanged:function(){return!0},labelChanged:function(){this.$.label.setContent(this.label)},sublabelChanged:function(){this.$.sublabel.setContent(this.sublabel)},onContentChanged:function(){this.$["switch"].setOnContent(this.onContent)},offContentChanged:function(){this.$["switch"].setOffContent(this.offContent)},valueChanged:function(){this.$["switch"].setValue(this.value),this.reflow()},getValue:function(){return this.$["switch"].getValue()}});

// source\views\main.js
enyo.kind({name:"Maps.MainView",published:{},components:[{kind:"Signals",onload:"load",onunload:"cleanup"},{kind:"Signals",name:"keyDownSignal",onkeydown:"handleKeyDown"},{kind:"enyo.Signals",onbackbutton:"handleBackGesture"},{name:"general",components:[{kind:"FittableRows",name:"layout",classes:"zoom-pre3",components:[{name:"mainPane",kind:"onyx.Toolbar",classes:"toolbar-main",layoutKind:"FittableColumnsLayout",components:[{name:"searchBox",classes:"search-box",showing:!0,kind:"onyx.InputDecorator",fit:!0,layoutKind:"FittableColumnsLayout",components:[{name:"searchLocation",classes:"truncating-text",kind:"onyx.Input",fit:!0,selectOnFocus:!0,defaultFocus:!1,onfocus:"mainPaneTap",onchange:"searchChange",onclick:"searchChange",onenter:"searchChange",onblur:"blurSearch"}]},{name:"directBoxResult",classes:"search-box top-bar",showing:!1,fit:!0,ontap:"toggleSearchDirections",components:[{kind:"onyx.IconButton",name:"directResultsBarIcon",ontap:"updateDirections",style:"float: left;",src:"assets/menu-icon-swap.png"},{kind:"enyo.Control",name:"directResultsBar",allowHtml:!0}]},{name:"directBox",showing:!1,fit:!0,ontap:"",components:[{kind:"FittableColumns",components:[{kind:"onyx.ToggleIconButton",description:$L("origin"),classes:"toggleicon-in-fittable",name:"bookmarkA",src:"assets/menu-icon-bookmark.png",ontap:"bookmarkSelect"},{name:"directionBoxA",showing:!0,fit:!0,kind:"onyx.InputDecorator",layoutKind:"FittableColumnsLayout",components:[{name:"directionStart",what:"origin",selectOnFocus:!0,fit:!0,classes:"search-input",kind:"onyx.Input",placeholder:"Starting Location",onfocus:"bindAutocompleter"}]},{kind:"onyx.Button",content:"Close",classes:"onyx-dark direct-button",ontap:"toggleSearchDirections"}]},{kind:"FittableColumns",components:[{kind:"onyx.ToggleIconButton",description:$L("destination"),classes:"toggleicon-in-fittable",name:"bookmarkB",src:"assets/menu-icon-bookmark.png",ontap:"bookmarkSelect"},{name:"directionBoxB",showing:!0,fit:!0,kind:"onyx.InputDecorator",layoutKind:"FittableColumnsLayout",components:[{name:"directionEnd",what:"destination",selectOnFocus:!0,fit:!0,classes:"search-input",kind:"onyx.Input",placeholder:"Ending Location",onchange:"codeDirection",onfocus:"bindAutocompleter"}]},{kind:"onyx.Button",name:"getDirectButton",disabled:!1,content:"Go",classes:"onyx-blue direct-button",ontap:"calcRoute"}]}]},{name:"buttonsBox",classes:"buttons-box",showing:!0,components:[{name:"clearButton",kind:"onyx.IconButton",showing:!1,src:"lib/onyx/images/progress-button-cancel.png",panel:"info",ontap:"clearMap"},{kind:"onyx.IconButton",name:"directionButton",src:"assets/topbar-direct-icon.png",ontap:"toggleSearchDirections"},{kind:"onyx.ToggleIconButton",name:"myLocation",showing:!0,value:!1,src:"assets/menu-icon-mylocation.png",style:"opacity: 0.3",onChange:""}]}]}]},{name:"initPopUp",showing:!0,classes:"initpopup zoom-pre3",kind:"enyo.Control",components:[{kind:"onyx.Spinner",style:"margin-top: 150px;"},{name:"initText",content:"Loading...",style:"color: gray;"}]},{name:"mapdiv",id:"map_canvas",classes:"enyo-googlemap",ondragstart:"dragStart",ondrag:"dragging",ondragfinish:"dragEnd",onflick:"flick",ongesturestart:"gestureStart",ongesturechange:"gestureChange",ongestureend:"gestureEnd",onhold:"mapTapHold",ontap:"mapTap"},{name:"streetdiv",id:"street_canvas",classes:"enyo-street",showing:!1,ondragstart:"SdragStart",ondrag:"Sdragging",ondragfinish:"",onflick:"",ongesturestart:"",ongesturechange:"",ongestureend:""},{name:"markerPopup",classes:"marker-popup zoom-pre3",kind:"onyx.Popup",ontap:"markerPopupTap",onShow:"showPopUp",onHide:"hidePopUp",components:[{name:"popIcon",kind:"Image",classes:"item-icon",src:""},{name:"popName",content:"",classes:"pop-name truncating-text"},{name:"popRating",content:"",classes:"item-rating",showing:!1},{name:"popRatingStar",content:"",allowHtml:!0,classes:"rating-container",showing:!1},{name:"popAddress",content:"",allowHtml:!0,classes:"item-address"}]},{name:"directPopup",classes:"direct-marker-popup zoom-pre3",style:"background: none; border: none; box-shadow: none; width: 100%",kind:"onyx.Popup",ontap:"",onShow:"showPopUp",components:[{name:"directPopoupBordered",style:"color: #F1F1F1; background: #0B775D url(lib/onyx/images/gradient.png) repeat-x bottom; background-size: contain;",classes:"direct-border",components:[{name:"directpop-centered",style:"width: 64px; float: left;",components:[{name:"directPopIcon",kind:"onyx.Icon",style:"background-image: url(assets/maneuvers-white.png); width: 64px; height: 64px;",src:""},{name:"directPopDistance",content:"0.4 km",style:"text-align: center; font-weight: bold;"}]},{name:"directPopInstructionsContainer",classes:"direct-pop-instructions-container",components:[{name:"directPopInstructions",content:"Odbocte doleva na west Maude Eve a je to",allowHtml:!0,classes:"vertical-align"}]}]},{name:"directPopupNavigation",style:"width: 294px",components:[{name:"directStepBack",kind:"onyx.IconButton",src:"assets/menu-icon-back.png",style:"float: left;",step:-1,ontap:"directStepGo"},{name:"directStepForward",kind:"onyx.IconButton",src:"assets/menu-icon-forward.png",style:"float: right;",step:1,ontap:"directStepGo"}]}]},{name:"markerPopupMenu",centered:!1,floating:!0,classes:"marker-popup-menu zoom-pre3",defaultKind:"onyx.MenuItem",kind:"onyx.Popup",onShow:"showPopUp",onHide:"hidePopUp",components:[{kind:"onyx.Icon",classes:"marker-popup-menu-icon",src:"assets/info.png"},{name:"markerInfo",classes:"marker-popup-menu-item",content:$L("Info"),ontap:"markerInfo"},{classes:"onyx-menu-divider"},{kind:"onyx.Icon",name:"streetMenuIcon",classes:"marker-popup-menu-icon",src:"assets/streetview-icon.png"},{name:"markerStreet",classes:"marker-popup-menu-item",content:$L("Street View"),ontap:"onMarkerStreet"},{classes:"onyx-menu-divider"},{kind:"onyx.Icon",classes:"marker-popup-menu-icon",src:"assets/flagA.png"},{name:"markerStart",classes:"marker-popup-menu-item",content:$L("Route from here"),ontap:"routeFromTo"},{classes:"onyx-menu-divider"},{kind:"onyx.Icon",classes:"marker-popup-menu-icon",src:"assets/flagB.png"},{name:"markerEnd",classes:"marker-popup-menu-item",content:$L("Route to here"),ontap:"routeFromTo"},{name:"markerNavitDivider",classes:"onyx-menu-divider",showing:!1},{name:"markerNavitIcon",kind:"onyx.Icon",classes:"marker-popup-menu-icon",src:"assets/navit_icon.png",showing:!1},{name:"markerNavit",classes:"marker-popup-menu-item",content:$L("Route with Navit"),ontap:"routeWithNavit",showing:!1},{classes:"onyx-menu-divider"},{kind:"onyx.Icon",classes:"marker-popup-menu-icon",src:"assets/delete.png"},{name:"markerRemove",classes:"marker-popup-menu-item",content:$L("Remove"),ontap:"removeMarker"}]},{name:"infoDialog",kind:"onyx.Popup",classes:"zoom-pre3-text",scrim:!0,centered:!0,modal:!0,floating:!0,components:[{name:"infoDialogContent"},{tag:"br"},{kind:"onyx.Button",style:"width: 100%",content:$L("Close"),ontap:"closeInfoDialog"}]},{name:"statuspanel",classes:"status-shadow zoom-pre3",content:""},{name:"bottomRightButtons",showing:!1,classes:"bottom-right-buttons onyx-toolbar zoom-pre3",components:[{kind:"onyx.IconButton",name:"exitStreet",classes:"button-bottom",src:"lib/onyx/images/progress-button-cancel.png",ontap:"exitStreetView"},{kind:"onyx.IconButton",name:"zoomIn",value:1,classes:"button-bottom",src:"assets/zoomin.png",ontap:"setZoomS"},{kind:"onyx.IconButton",name:"zoomOut",value:-1,classes:"button-bottom",src:"assets/zoomout.png",ontap:"setZoomS"}]},{name:"bottomLeftButtons",showing:!0,classes:"bottom-left-buttons onyx-toolbar zoom-pre3",components:[{kind:"onyx.Grabber",ontap:"togglePullout",ondragstart:"togglePullout"}]},{kind:"Pullout",classes:"pullout zoom-pre3",onShowTransit:"showTransit",onShowTraffic:"showTraffic",onShowBicycling:"showBicycling",onShowWeather:"showWeather",onMapTypeSelect:"mapTypeSelect",onCacheOSM:"cacheOSM",onBookmarkSelect:"bookmarkSelect",onLanguageChange:"langChange",onDirectOptions:"directOptions",onFillDirectField:"fillDirectField",onSetDirectStep:"setDirectStep",onSavePrefs:"savePrefs",onAnimateFinish:"pulloutToggled",components:[{classes:"pullout-menu",defaultKind:"onyx.IconButton",components:[{kind:"onyx.RadioGroup",classes:"pullout-toolbar",onActivate:"",components:[{kind:"onyx.Button",name:"maptypeRadio",classes:"header-button",panel:"maptypepanel",active:!0,ontap:"togglePullout",components:[{kind:"onyx.Icon",src:"assets/icon-map-type.png"}]},{kind:"onyx.Button",name:"layersRadio",classes:"header-button",panel:"layerspanel",ontap:"togglePullout",components:[{kind:"onyx.Icon",src:"assets/icon-layers.png"}]},{kind:"onyx.Button",name:"bookmarkRadio",classes:"header-button",panel:"bookmarkpanel",ontap:"togglePullout",components:[{kind:"onyx.Icon",src:"assets/icon-places.png"}]},{kind:"onyx.Button",name:"directRadio",classes:"header-button",panel:"directpanel",ontap:"togglePullout",components:[{kind:"onyx.Icon",src:"assets/icon-directions.png"}]},{kind:"onyx.Button",name:"settingsRadio",classes:"header-button",panel:"settingspanel",ontap:"togglePullout",components:[{kind:"onyx.Icon",src:"assets/icon-settings.png"}]},{kind:"onyx.Button",name:"aboutRadio",classes:"header-button",panel:"aboutpanel",ontap:"togglePullout",components:[{kind:"onyx.Icon",src:"assets/icon-info.png"}]}]}]}]},{kind:"webOSAccel",name:"webOSAccel",onAcceleration:"accelHandler"},{kind:"webOSCompass",name:"webOSCompass",onHeading:"compassHandler",onTrackingHeading:"compassHandler"},{kind:"W3CGeolocation",name:"W3CGeolocation",onSuccess:"firstLocationSuccess",onFailure:"currentLocationFailure"},{kind:"webOSGeolocation",name:"webOSGeolocation",onSuccess:"firstLocationSuccess",onFailure:"currentLocationFailure"}]},{kind:"placeDetails",showing:!1,onGoBack:"toggleDetails"}],create:function(){this.inherited(arguments),this.API=!1,this.lastPanel="maptypepanel",this.droppedCount=1,this.optimizedMarkers=!enyo.platform.webos,this.haveCompass=!1,this.compassOpacity=0,this.transform=enyo.platform.platformName.contains("firefox")?"":"-webkit-",this.trackPosition=!1,this.locationMethod=enyo.platform.webos?"webOSGeolocation":"W3CGeolocation",this.$.pullout.pulloutInit(),this.$.initText.setContent("Loading Google Maps API..."),this.$.initPopUp.show()},load:function(){API?(this.init(),console.log("*** API LOADED **** ",google.maps.version)):setTimeout(function(){this.load()}.bind(this),1e3)},cleanup:function(){Prefs.lastPosLat=map.getCenter().lat(),Prefs.lastPosLng=map.getCenter().lng(),Prefs.lastZoom=map.getZoom(),this.savePrefs(),enyo.platform.webos&&(this.$.webOSCompass.stopTracking(),this.$.webOSAccel.stop()),enyo.log("*** EXIT ***")},init:function(){this.$.layout.rendered(),enyo.platform.webos&&(window.PalmSystem.stageReady(),window.PalmSystem.setWindowOrientation("free"),window.devicePixelRatio=window.innerWidth/this.$.mainPane.node.offsetWidth),this.$.pullout.$.APIver.setContent("<span style='color: gray; font-size: 12px'>Google Maps API: v"+google.maps.version+"</span>"),this.$.initText.setContent("Initializing map...");var t={zoom:Prefs.lastZoom,center:new google.maps.LatLng(Prefs.lastPosLat,Prefs.lastPosLng),disableDefaultUI:!0,streetViewControl:!1,draggable:!1,mapTypeId:google.maps.MapTypeId.ROADMAP};t.mapTypeId=this.getMapOptions(Prefs).mapTypeId,map=new google.maps.Map(document.getElementById("map_canvas"),t),new google.maps.event.addListenerOnce(map,"idle",this.initAfterIdle.bind(this))},initAfterIdle:function(){enyo.platform.webos&&(window.PalmSystem.stageReady(),window.PalmSystem.setWindowOrientation("free"),this.compassContainer=document.createElement("div"),this.compassContainer.id="compass",this.needleContainer=document.createElement("div"),this.needleContainer.id="needle",this.$.webOSCompass.startTracking(),this.$.webOSAccel.start(),this.checkNavit()),this.initMainSearch(),this.initCustomMapTypes(),Prefs.layers.traffic&&this.showTraffic(null,{value:!0}),Prefs.layers.transit&&this.showTransit(null,{value:!0}),Prefs.layers.bike&&this.showBicycling(null,{value:!0}),Prefs.layers.weather&&this.showWeather(null,{value:!0}),this.setupDirectionService(),elevator=new google.maps.ElevationService;var t=[{url:"assets/lune-marker-red-64-64-cluster.png",height:64,width:64,anchor:[64,64],textColor:"black",textSize:24}];this.markerCluster=new MarkerClusterer(map,markers,{styles:t}),enyo.log("************ INIT DONE ************ "),this.$.initPopUp.hide(),this.findCurrentLocation(),new google.maps.event.addListener(map,"idle",this.mapIdle.bind(this)),new google.maps.event.addListener(map,"bounds_changed",this.mapBoundsChanged.bind(this))},initMainSearch:function(){this.MainAutocomplete=new google.maps.places.SearchBox(this.$.searchLocation.node),this.MainAutocomplete.bindTo("bounds",map),new google.maps.event.addListener(this.MainAutocomplete,"places_changed",this.SelectedAutocomplete.bind(this))},savePrefs:function(t,e){try{Prefs=enyo.mixin(Prefs,e.prefs)}catch(i){}enyo.setCookie("mapsAppPrefs",enyo.json.stringify(Prefs))},SelectedAutocomplete:function(){this.$.layout.rendered(),this.$.keyDownSignal.onkeydown="handleKeyDown";var t=this.MainAutocomplete.getPlaces();this.$.searchLocation.place=t[0],this.PlaceMarker(t)},setZoom:function(t){map.setZoom(map.getZoom()+t.value)},setZoomS:function(t){this.panorama.setPov({heading:this.panorama.getPov().heading,pitch:this.panorama.getPov().pitch,zoom:this.panorama.getPov().zoom+t.value})},PlaceMarker:function(t){for(var e,i=new google.maps.LatLngBounds,n="assets/lune-marker-red-64-64.png",o=64*window.devicePixelRatio,s=0;e=t[s];s++){if(e.lunetype)switch(e.lunetype){case"current":n="assets/lune-marker-red-64-64.png";break;case"recent":n="assets/lune-marker-green-64-64.png";break;case"dropped":n="assets/lune-marker-blue-64-64.png"}var a={url:n,size:new google.maps.Size(o,o),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(o/2,o),scaledSize:new google.maps.Size(o,o)},r=new google.maps.Marker({map:map,icon:a,title:e.name,optimized:this.optimizedMarkers,position:e.geometry.location});e.distance=google.maps.geometry.spherical.computeDistanceBetween(map.getCenter(),e.geometry.location),r.place=e,markers.push(r),google.maps.event.addListener(r,"click",this.MarkerClick.bind(this,r)),i.extend(e.geometry.location)}this.$.pullout.setSearchData(markers),this.markerCluster.clearMarkers(),this.markerCluster.addMarkers(markers),t.length>1?(window.innerWidth>480&&(this.$.pullout.openPullout("bookmarkpanel"),this.$.pullout.togglePlaces({panel:"currentlist"},{name:"current"}),this.$.bookmarkRadio.setActive(!0)),map.fitBounds(i)):1==t.length&&(this.MarkerClick(r),"dropped"!=t[0].lunetype&&(t[0].geometry.viewport?map.fitBounds(t[0].geometry.viewport):(map.panTo(t[0].geometry.location),map.setZoom(14)))),this.lastPanel="bookmarkpanel",this.searchChange(null,{type:"change"})},MarkerClick:function(t){var e=t.place;if(this.fromLatLngToPixel(e.geometry.location),"mylocation"==e.lunetype){var i=new ilib.Date,n=new ilib.DateFmt({locale:Prefs.lang}).formatRelative(i,this.myLocationMarker.place.lastfix);e.formatted_address=$L("Loc: ")+currentPos.toUrlValue(8)+"<br>"+$L("Updated")+": "+n}this.$.placeDetails.setPlaceDetails(e),this.$.popName.setContent(e.name),this.$.popAddress.setContent(e.formatted_address),e.photos?this.$.popIcon.setSrc(e.photos[0].getUrl({maxWidth:100,maxHeight:100})):this.$.popIcon.setSrc(t.icon.url),e.rating?(this.$.popRating.show(),this.$.popRatingStar.show()):(this.$.popRating.hide(),this.$.popRatingStar.hide()),this.$.popRating.setContent(e.rating);var o='<div class="rating_bar"><div id="ratingstar" style="width: '+20*e.rating+'%;"></div></div>';this.$.popRatingStar.setContent(o),this.$.markerPopup.applyStyle("top",this.$.mainPane.node.offsetHeight+5+"px"),this.$.markerPopup.applyStyle("left",(this.$.mainPane.node.offsetWidth-294)/2+"px"),this.$.markerPopup.show(),this.lastClickedMarker=t},directMarkerClick:function(t,e){e.maneuver?this.$.directPopIcon.setClasses(e.maneuver):this.$.directPopIcon.setClasses("straight"),this.$.directPopInstructions.setContent(e.instructions),this.$.directPopDistance.setContent(e.distance.text),this.$.directPopup.applyStyle("top",this.$.mainPane.node.offsetHeight+5+"px"),this.$.directPopup.applyStyle("left",(this.$.mainPane.node.offsetWidth-294)/2+"px"),this.$.directPopup.show()},mapTypeSelect:function(t,e){var i=e.isRetina?Prefs.retina?"_HDPI":"":"";e.mapType=e.mapType+i;var n=this.getMapOptions(e);Prefs.mapType=e.mapType,this.savePrefs(),map.setOptions(n)},getMapOptions:function(t){var e={};switch(t.mapType){default:e.mapTypeId=t.mapType;break;case"OSM":e.mapTypeId=Prefs.OSMMapCache?"OSMCached":"OSM";break;case"ROADMAP":e.mapTypeId=google.maps.MapTypeId.ROADMAP;break;case"SATELLITE":e.mapTypeId=google.maps.MapTypeId.SATELLITE;break;case"HYBRID":e.mapTypeId=google.maps.MapTypeId.HYBRID;break;case"TERRAIN":e.mapTypeId=google.maps.MapTypeId.TERRAIN}return e},resizeHandler:function(){enyo.log("window size changed")},togglePullout:function(t){t.panel&&(this.lastPanel=t.panel),this.$.pullout.toggle(this.lastPanel)},toggleSearchDirections:function(t){var e="routeFromTo"==t?!0:!1;this.$.searchBox.setShowing(!this.$.searchBox.showing||this.$.directBoxResult.getShowing()),this.$.directBox.setShowing(!this.$.directBox.showing&&!this.$.getDirectButton.getDisabled()&&!this.$.searchBox.getShowing()),this.$.directBoxResult.setShowing(!this.$.searchBox.getShowing()&&this.$.getDirectButton.getDisabled()&&!this.$.directBox.showing),this.$.buttonsBox.setShowing(this.$.searchBox.getShowing()||this.$.directBoxResult.getShowing()),""==this.$.directionStart.getValue()&&(this.directRequest.origin=currentPos,this.$.directionStart.setValue($L("My Location"))),""==this.$.searchLocation.getValue()||e||(this.directRequest.destination=this.$.searchLocation.place.geometry.location,this.$.directionEnd.setValue(this.$.searchLocation.place.name)),this.$.keyDownSignal.onkeydown=this.$.searchBox.getShowing()?"handleKeyDown":"",this.$.layout.rendered(),google.maps.event.trigger(map,"resize")},showTraffic:function(t,e){map.overlayMapTypes.setAt(0,e.value?this.trafficMapType:null),Prefs.layers.traffic=e.value,this.savePrefs()},showTransit:function(t,e){map.overlayMapTypes.setAt(1,e.value?this.transitMapType:null),Prefs.layers.transit=e.value,this.savePrefs()},showBicycling:function(t,e){bikeLayer.setMap(e.value?map:null),Prefs.layers.bike=e.value,this.savePrefs()},showWeather:function(t,e){weatherLayer.setMap(e.value?map:null),cloudLayer.setMap(e.value?map:null),Prefs.layers.weather=e.value,this.savePrefs()},findCurrentLocation:function(){this.$[this.locationMethod].getCurrentPosition()},startTracking:function(){this.$[this.locationMethod].startTracking()},goCurrentLocation:function(t){this.trackPosition=t.getValue(),map.fitBounds(this.circle.getBounds()),map.getZoom()>14&&map.setZoom(14)},firstLocationSuccess:function(t,e){currentPos=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);var i=42*window.devicePixelRatio;this.statusPanel("Current location found...",3),enyo.platform.webos&&map.getDiv().firstChild.firstChild.appendChild(this.compassContainer);var n={url:"assets/enyo-map-marker_blue_dot.png",size:new google.maps.Size(i,i),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(i/2,i/2)};this.myLocationMarker=new google.maps.Marker({position:currentPos,map:map,optimized:this.optimizedMarkers,icon:n}),this.myLocationMarker.place=[],this.myLocationMarker.place.geometry=[],this.myLocationMarker.place.name=$L("My Location"),this.myLocationMarker.place.icon=n.url,this.myLocationMarker.place.lunetype="mylocation",this.myLocationMarker.place.id=Date.now(),this.myLocationMarker.place.geometry.location=currentPos,this.myLocationMarker.place.lastfix=new ilib.Date,this.myLocationMarker.place.formatted_address="Loc: "+currentPos.toUrlValue(8),markers.push(this.myLocationMarker),this.$.pullout.setSearchData(markers),this.$.myLocation.applyStyle("opacity",1),this.$.myLocation.onChange="goCurrentLocation",this.$.myLocation.setShowing(!0),this.accuracy=350,e.coords.accuracy&&(this.accuracy=e.coords.accuracy),this.circle=new google.maps.Circle({center:currentPos,radius:this.accuracy,map:map,optimized:!0,fillColor:"#60bbe5",fillOpacity:.1,strokeColor:"#60bbe5",strokeOpacity:.4,strokeWeight:1}),this.circle.bindTo("center",this.myLocationMarker,"position"),map.fitBounds(this.circle.getBounds()),map.getZoom()>14&&map.setZoom(14),this.startTracking(),this.updateCompassPosition(currentPos),this.$[this.locationMethod].onSuccess="trackingLocationSuccess",google.maps.event.addListener(this.myLocationMarker,"click",this.MarkerClick.bind(this,this.myLocationMarker))},trackingLocationSuccess:function(t,e){currentPos=new google.maps.LatLng(e.coords.latitude,e.coords.longitude),this.trackPosition&&map.setCenter(currentPos),this.myLocationMarker.place.geometry.location=currentPos,this.myLocationMarker.place.lastfix=new ilib.Date,this.myLocationMarker.place.formatted_address=currentPos,this.myLocationMarker.setPosition(currentPos),this.circle.setRadius(e.coords.accuracy),this.updateCompassPosition(currentPos)},currentLocationFailure:function(t,e){enyo.log("Geolocation failed: ",e.message),this.statusPanel("Location error: "+e.message,10)},pulseDot:function(t){if(document.getElementById("pulse")){var e=this.fromLatLngToPixel(t);e.x=Math.round(e.x-25),e.y=Math.round(e.y-25),this.pulseContainer.style.top=e.y+"px;",this.pulseContainer.style.left=e.x+"px;",this.pulseContainer.style.display="block",this.blockpulse=!0,setTimeout(function(){this.pulseContainer.style.display="none"}.bind(this),500)}else try{map.getDiv().firstChild.firstChild.appendChild(this.pulseContainer)}catch(i){enyo.log("Map not loaded yet...")}},gestureStart:function(t,e){new google.maps.event.addListenerOnce(map,"bounds_changed",this.MapCenterChanged.bind(this)),this.GestureCenter=map.getCenter(),this.Zooming=!0,this.previouszoom=map.getZoom(),this.previousScale=e.scale,this.previousS=0,this.oldeventg=e,this.TilesContainer=map.getDiv().firstChild.firstChild,this.TilesContainer.style.overflow="visible !important;",this.addpaneventg=[],this.addpaneventg.cx=0,this.addpaneventg.cy=0,this.addpaneventg.oldcenter=this.fromLatLngToPixel(map.getCenter())},gestureChange:function(t,e){e.preventDefault(),e.rotation;var i="";this.TilesContainer.style[this.transform+"transform"]=i+"scale3d("+e.scale+","+e.scale+",0)"+" translate3d("+(-this.oldeventg.centerX+e.centerX)/e.scale+"px,"+(-this.oldeventg.centerY+e.centerY)/e.scale+"px, 0px)",this.addpaneventg.cx=this.addpaneventg.oldcenter.x+(this.oldeventg.centerX-e.centerX),this.addpaneventg.cy=this.addpaneventg.oldcenter.y+(this.oldeventg.centerY-e.centerY);var n=e.scale;.187>=n&&(n=-3),n>.187&&.375>=n&&(n=-2),n>.375&&.75>=n&&(n=-1),n>.75&&1.5>=n&&(n=0),n>1.5&&3>=n&&(n=1),n>3&&6>=n&&(n=2),n>6&&(n=3),this.previousS!=n&&(this.z=this.previouszoom+n,this.previousS=n)},gestureEnd:function(){map.setZoom(this.z);var t=new google.maps.Point(this.addpaneventg.cx,this.addpaneventg.cy);map.setCenter(this.fromPixelToLatLng(t))},dragStart:function(t,e){this.$.markerPopup.hide(),new google.maps.event.addListenerOnce(map,"bounds_changed",this.MapCenterChanged.bind(this)),e.preventDefault(),this.TilesContainer=map.getDiv().firstChild.firstChild,this.TilesContainer.style.overflow="visible",this.oldcenter=this.fromLatLngToPixel(map.getCenter()),this.wasflicked=!1},dragging:function(t,e){this.moveMapBy(e.dx,e.dy),this.draggingEvent=e},moveMapBy:function(t,e){this.TilesContainer.style[this.transform+"transform"]="translate3d("+t+"px,"+e+"px, 0px)"},dragEnd:function(t,e){this.wasflicked||this.mapEndMove(e)},flick:function(t,e){this.wasflicked=!0;var i=400*Math.sqrt(e.xVelocity*e.xVelocity+e.yVelocity*e.yVelocity);e.dx=this.draggingEvent.dx+Math.abs(this.draggingEvent.dx)*e.xVelocity,e.dy=this.draggingEvent.dy+Math.abs(this.draggingEvent.dy)*e.yVelocity,this.TilesContainer.style[this.transform+"transition"]=this.transform+"transform "+i/1e3+"s ease-out",this.moveMapBy(e.dx,e.dy),setTimeout(function(){this.mapEndMove(e)}.bind(this),i)},mapEndMove:function(t){var e=new google.maps.Point(this.oldcenter.x-t.dx,this.oldcenter.y-t.dy);this.residuePos=t,map.setCenter(this.fromPixelToLatLng(e))},MapCenterChanged:function(){this.TilesContainer.style[this.transform+"transition"]="",this.TilesContainer.style[this.transform+"transform"]="",this.wasflicked=!1},fromLatLngToPixel:function(t){var e=Math.pow(2,map.getZoom()),i=map.getProjection(),n=map.getBounds(),o=i.fromLatLngToPoint(new google.maps.LatLng(n.getNorthEast().lat(),n.getSouthWest().lng())),s=i.fromLatLngToPoint(t);return new google.maps.Point(Math.floor((s.x-o.x)*e),Math.floor((s.y-o.y)*e))},fromPixelToLatLng:function(t){var e=Math.pow(2,map.getZoom()),i=map.getProjection(),n=map.getBounds(),o=i.fromLatLngToPoint(new google.maps.LatLng(n.getNorthEast().lat(),n.getSouthWest().lng())),s=new google.maps.Point;return s.x=t.x/e+o.x,s.y=t.y/e+o.y,i.fromPointToLatLng(s)},clearMap:function(){this.clearMarkers(),this.$.clearButton.hide(),this.$.searchLocation.setValue(""),this.$.searchLocation.place=null,this.directionsDisplay.setMap(null),this.$.getDirectButton.setDisabled(!1),this.$.searchBox.setShowing(!1),this.directStepMarker&&this.directStepMarker.setMap(null),this.directStepMarker=null,this.$.directPopup.hide(),this.$.directionStart.setValue(""),this.$.directionEnd.setValue(""),this.$.directionStart.place=null,this.$.directionEnd.place=null,this.$.pullout.clearDirectData([]),this.toggleSearchDirections(),this.droppedCount=1,this.$.layout.rendered()},clearMarkers:function(){for(this.markerCluster&&this.markerCluster.clearMarkers(),e=0;markers.length>e;e++)markers[e].setMap(null);markers=[],this.myLocationMarker&&(markers.push(this.myLocationMarker),this.myLocationMarker.setMap(map)),this.$.pullout.setSearchData(markers)},mainPaneTap:function(){this.$.pullout.closePullout()},searchChange:function(t,e){switch(e.type){case"click":this.$.clearButton.hide();break;case"change":this.$.clearButton.show(),this.$.searchLocation.blur()}this.$.layout.rendered()},langChange:function(t,e){Prefs.lang=e.value,this.savePrefs()},handleKeyDown:function(t,e){this.$.markerPopup.hide(),this.$.markerPopupMenu.hide(),"Back"!=e.keyIdentifier&&(e.preventDefault(),this.$.pullout.closePullout(),this.$.searchLocation.selectOnFocus=!1,this.$.searchLocation.hasNode().focus(),this.$.searchLocation.focus(),this.$.searchLocation.setValue(String.fromCharCode(e.keyCode).toLowerCase()),this.$.keyDownSignal.onkeydown="",this.$.searchLocation.selectOnFocus=!0)},GeocodeFromLatLng:function(t){geocoder=new google.maps.Geocoder,geocoder.geocode({latLng:t},function(e,i){if(i==google.maps.GeocoderStatus.OK){var n=e[0];n.geometry.location=t,n.name="Dropped pin #"+this.droppedCount,n.id=Date.now(),n.lunetype="dropped",n.icon="assets/lune-marker-blue-64-64.png",this.droppedCount++,this.PlaceMarker([n]),this.statusPanel("Pin dropped ...",1)}else enyo.log("Geocoder failed due to: "+i),this.statusPanel("Can't drop a pin here: "+i,5)}.bind(this))},onMarkerStreet:function(){this.$.markerPopup.hide(),this.$.markerPopupMenu.hide(),this.goStreetView(this.lastClickedMarker.place)},goStreetView:function(t){this.$.streetdiv.show();var e={position:t.geometry.location,visible:!1,addressControl:!0,linksControl:!0,panControl:!1,zoomControl:!1,enableCloseButton:!1,pov:{heading:34,pitch:10,zoom:1}};this.panorama=new google.maps.StreetViewPanorama(document.getElementById("street_canvas"),e),this.panorama.setVisible(!0),this.$.bottomRightButtons.show(),this.$.bottomLeftButtons.hide(),this.$.mainPane.hide()},exitStreetView:function(){this.$.streetdiv.hide(),this.panorama.setVisible(!1),this.$.bottomRightButtons.hide(),this.$.bottomLeftButtons.show(),this.$.mainPane.show()},SdragStart:function(t,e){this.Soldx=e.clientX,this.Soldy=e.clientY},Sdragging:function(t,e){this.headingoffset=Math.round(.25*(this.Soldx-e.clientX)),this.pitchoffset=Math.round(.25*(this.Soldy-e.clientY)),this.panorama.setPov({heading:this.panorama.getPov().heading+this.headingoffset,pitch:this.panorama.getPov().pitch-this.pitchoffset,zoom:this.panorama.getPov().zoom}),this.Soldx=e.clientX,this.Soldy=e.clientY},initCustomMapTypes:function(){map.mapTypes.set("ROADMAP_HDPI",new google.maps.ImageMapType({getTileUrl:function(t,e){return"http://mts0.google.com/vt?lyrs=m@216000000,seconds_into_week:-1&x="+t.x+"&y="+t.y+"&z="+e+"&style=2"},tileSize:new google.maps.Size(256,256),isPng:!0,maxZoom:17,name:"ROADMAP_HDPI"})),map.mapTypes.set("TERRAIN_HDPI",new google.maps.ImageMapType({getTileUrl:function(t,e){return"http://mts0.google.com/vt?lyrs=p@216000000,seconds_into_week:-1&x="+t.x+"&y="+t.y+"&z="+e+"&style=2"},tileSize:new google.maps.Size(256,256),isPng:!0,maxZoom:17,name:"TERRAIN_HDPI"})),map.mapTypes.set("HYBRID_HDPI",new google.maps.ImageMapType({getTileUrl:function(t,e){return"http://mts0.google.com/vt?lyrs=y@216000000,seconds_into_week:-1&x="+t.x+"&y="+t.y+"&z="+e+"&style=2"},tileSize:new google.maps.Size(256,256),isPng:!0,maxZoom:17,name:"HYBRID_HDPI"})),map.mapTypes.set("OSM",new google.maps.ImageMapType({getTileUrl:function(t,e){return"http://a.tile.openstreetmap.org/"+e+"/"+t.x+"/"+t.y+".png"},tileSize:new google.maps.Size(256,256),isPng:!0,name:"OpenStreetMap",credit:"OpenStreetMap",maxZoom:18})),OSMMapType.tileSize=new google.maps.Size(256,256),map.mapTypes.set("OSMCached",new OSMMapType(Prefs)),map.mapTypes.set("NOKIA",new google.maps.ImageMapType({getTileUrl:function(t,e){return"http://maptile.maps.svc.ovi.com/maptiler/maptile/newest/normal.day/"+e+"/"+t.x+"/"+t.y+"/256/png8"},tileSize:new google.maps.Size(256,256),isPng:!0,maxZoom:17,name:"NOKIA"})),map.mapTypes.set("OCM",new google.maps.ImageMapType({getTileUrl:function(t,e){return"http://tile.opencyclemap.org/cycle/"+e+"/"+t.x+"/"+t.y+".png"},tileSize:new google.maps.Size(256,256),name:"OpenCycleMap",maxZoom:18})),map.mapTypes.set("Yandex",new google.maps.ImageMapType({getTileUrl:function(t,e){return"http://vec0"+(t.x+t.y)%5+".maps.yandex.net/tiles?l=map&v=2.26.0&x="+t.x+"&y="+t.y+"&z="+e},tileSize:new google.maps.Size(256,256),name:"Yandex maps",maxZoom:18})),map.mapTypes.Yandex.projection=new YandexProjection,map.mapTypes.set("Bing",new google.maps.ImageMapType({getTileUrl:function(t,e){var i=17-e,n=this.getMsveString(t.x,t.y,i),o=this.getMsveServer(t.x,t.y,i);return"http://r"+o+".ortho.tiles.virtualearth.net/tiles/r"+n+".png?g=1"},getMsveDirection:function(t,e){if(1==t){if(1==e)return"3";if(0==e)return"1"}else if(0==t){if(1==e)return"2";if(0==e)return"0"}return""},getMsveString:function(t,e,i){for(var n,t,o,e,s="",a=17;a>i;a--)n=t%2,t=Math.floor(t/2),o=e%2,e=Math.floor(e/2),s=this.getMsveDirection(n,o)+s;return s},getMsveServer:function(t,e,i){for(var n,t,o,e,s="",a=17;a>i;a--)n=t%2,t=Math.floor(t/2),o=e%2,e=Math.floor(e/2),s=this.getMsveDirection(n,o);return s},tileSize:new google.maps.Size(256,256),name:"Bing",maxZoom:18})),map.mapTypes.set("Wikimapia",new google.maps.ImageMapType({getTileUrl:function(t,e){return"http://i"+(t.x%4+4*(t.y%4))+".wikimapia.org/?x="+t.x+"&y="+t.y+"&zoom="+e+"&r=0&type=&lng=0"},tileSize:new google.maps.Size(256,256),isPng:!0,alt:"Wikimapia",name:"Wikimapia",maxZoom:22,minZoom:0})),map.mapTypes.set("2GIS",new google.maps.ImageMapType({getTileUrl:function(t,e){return"http://tile"+(t.x+t.y)%5+".maps.2gis.ru/tiles?x="+t.x+"&y="+t.y+"&z="+e},tileSize:new google.maps.Size(256,256),isPng:!0,alt:"2\u0413\u0418\u0421",name:"\u0414\u0443\u0431\u043b\u044c\u0413\u0418\u0421",maxZoom:13,minZoom:0})),map.mapTypes.set("Visicom",new google.maps.ImageMapType({getTileUrl:function(t,e){var i=Math.pow(2,e)-1-t.y;return"http://tms"+(t.x+t.y)%4+".visicom.ua/1.0.3/world_ru/"+e+"/"+t.x+"/"+i+".png"},tileSize:new google.maps.Size(256,256),isPng:!0,alt:"Visicom",name:"Visicom",maxZoom:18,minZoom:0})),map.mapTypes.set("Apple",new google.maps.ImageMapType({getTileUrl:function(t,e){return"http://gsp2.apple.com/tile?api=1&style=slideshow&layers=default&lang=en_EN&z="+e+"&x="+t.x+"&y="+t.y+"&v=9"},tileSize:new google.maps.Size(256,256),name:"Apple",alt:"\u042d\u043f\u043b",minZoom:3,maxZoom:14})),this.transitMapType=new google.maps.ImageMapType({getTileUrl:function(t,e){return"http://mts0.googleapis.com/vt?lyrs=a,transit|seconds_into_week:-1&x="+t.x+"&y="+t.y+"&z="+e+"&style=1"
},tileSize:new google.maps.Size(256,256),isPng:!0}),this.trafficMapType=new google.maps.ImageMapType({getTileUrl:function(t,e){return"http://mts0.googleapis.com/vt?lyrs=h,traffic|seconds_into_week:-1&x="+t.x+"&y="+t.y+"&z="+e+"&style=3"},tileSize:new google.maps.Size(256,256),isPng:!0})},markerPopupTap:function(){this.isStreet(this.lastClickedMarker.place.geometry.location),this.$.markerPopupMenu.setStyle(this.$.markerPopup.getStyle()),this.$.markerPopupMenu.show()},showPopUp:function(t){t.applyStyle("opacity",1)},hidePopUp:function(t){t.applyStyle("opacity",0),this.$.markerStreet.setStyle("color: grey;"),this.$.markerStreet.ontap="",this.$.streetMenuIcon.setSrc("lib/onyx/images/spinner-dark.gif")},markerInfo:function(){this.$.markerPopup.hide(),this.$.markerPopupMenu.hide(),this.toggleDetails()},toggleDetails:function(){this.$.general.setShowing(this.$.placeDetails.getShowing()),this.$.placeDetails.setShowing(!this.$.general.getShowing())},removeMarker:function(){for(e=0;markers.length>e;e++)this.lastClickedMarker.place.id==markers[e].place.id&&(enyo.log("Removing marker from array: ",e),markers[e].setMap(null),markers.remove(e),this.$.pullout.setSearchData(markers),this.markerCluster.clearMarkers(),this.markerCluster.addMarkers(markers));this.$.markerPopup.hide(),this.$.markerPopupMenu.hide()},isStreet:function(t){this.streetViewCheck=new google.maps.StreetViewService,this.streetViewCheck.getPanoramaByLocation(t,50,function(t,e){"OK"==e?(this.$.markerStreet.ontap="onMarkerStreet",this.$.markerStreet.setStyle("color: white;"),this.$.streetMenuIcon.setSrc("assets/streetview-icon.png")):(this.$.markerStreet.ontap="",this.$.markerStreet.setStyle("color: grey;"),this.$.streetMenuIcon.setSrc("assets/streetview-icon-inactive.png"))}.bind(this))},updateGPS:function(){setTimeout(function(){this.$[this.locationMethod].getCurrentPosition()}.bind(this),1e3*Prefs.GPSinterval)},checkNavit:function(){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==t.readyState){if(200==t.status)return this.isNavit=!0,enyo.log("**** Navit installed ****"),this.$.markerNavitDivider.show(),this.$.markerNavitIcon.show(),this.$.markerNavit.show(),!0;this.isNavit=!1,enyo.log("**** Navit is not installed ****")}}.bind(this),t.open("HEAD","/media/internal/appdata/org.webosinternals.navit/navit.xml",!0),t.send()},routeWithNavit:function(){this.openNavit(this.lastClickedMarker.place),this.$.markerNavit.setContent($L("Opening Navit..."))},openNavit:function(t){var e=t.name,i=1,n=t.geometry.location,o=JSON.stringify(n.lat()),s=JSON.stringify(n.lng());o=o.substring(0,o.indexOf(".")+5),s=s.substring(0,s.indexOf(".")+5),"0"==i?(stFile="/media/internal/appdata/org.webosinternals.navit/command.txt",stText='navit.pitch=0;navit.tracking=0;navit.follow_cursor=0;navit.set_center("'+s+" "+o+'");',writeMode=!1):(stFile="/media/internal/appdata/org.webosinternals.navit/command.txt",stText='navit.set_destination("'+s+" "+o+'","'+e+'");',writeMode=!1),enyo.log("Opening Navit adr:%s lng:%s lat:%s type:%s",e,s,o,i),this.request=new enyo.ServiceRequest({service:"palm://ca.canucksoftware.filemgr",method:"write"}),this.request.response(this,"navitResponseSuccess"),this.request.error(this,"navitResponseFailure"),this.request.go({file:stFile,str:stText,append:writeMode})},navitResponseSuccess:function(){var t=new enyo.ServiceRequest({service:"palm://com.palm.applicationManager",method:"open"});t.go({id:"org.webosinternals.navit",params:{}}),delete this.request,this.$.markerPopup.hide(),this.$.markerPopupMenu.hide()},navitResponseFailure:function(){delete this.request,enyo.log("Set destination failed"),this.$.markerNavit.setContent($L("Navit failed..."))},cacheOSM:function(t,e){switch(e.property){case"OSMMapCache":Prefs.OSMMapCache=e.value;break;case"MapCacheExternal":Prefs.MapCacheExternal=e.value}this.savePrefs(),this.mapTypeSelect(null,{mapType:"OSM"})},handleBackGesture:function(){enyo.log("**** BACK ****")},blurSearch:function(){},bindAutocompleter:function(t){this.DirectAutocomplete=new google.maps.places.SearchBox(t.node),this.DirectAutocomplete.bindTo("bounds",map),new google.maps.event.addListener(this.DirectAutocomplete,"places_changed",this.SelectedDirectAutocomplete.bind(this,t))},SelectedDirectAutocomplete:function(t){var e=this.DirectAutocomplete.getPlaces();t.place=e[0],t.setValue(e[0].name),this.directRequest[t.what]=t.place.geometry.location,this.$.getDirectButton.setDisabled(!1)},directOptions:function(t,e){this.directRequest=enyo.mixin(this.directRequest,e.params),0!=e.route.length&&(this.$.getDirectButton.setDisabled(!1),this.calcRoute())},info:function(t){this.$.infoDialogContent.setContent(t),this.$.infoDialog.show()},closeInfoDialog:function(){this.$.infoDialog.hide()},setupDirectionService:function(){var t={map:map,suppressMarkers:!0,polylineOptions:{clickable:!1,strokeColor:"#4941e3",strokeOpacity:.7,strokeWeight:8},markerOptions:{optimized:!0},suppressInfoWindows:!0,draggable:!1};this.directRequest={origin:null,destination:null,travelMode:google.maps.DirectionsTravelMode.DRIVING},this.directionsService=new google.maps.DirectionsService,this.directionsDisplay=new google.maps.DirectionsRenderer(t)},calcRoute:function(){if(void 0!=this.directRequest.origin&&void 0!=this.directRequest.destination){this.routeIndex=0;var t=this.directRequest;t.travelMode=google.maps.TravelMode[this.directRequest.travelMode],this.directionsService.route(t,function(t,e){if(e==google.maps.DirectionsStatus.OK){this.directionsDisplay.setDirections(t),this.directionsDisplay.setMap(map),window.innerWidth>480&&(this.$.pullout.openPullout("directpanel"),this.$.directRadio.setActive(!0),map.panBy(-320,0)),this.lastPanel="directpanel",this.$.getDirectButton.setDisabled(!0),this.$.pullout.setDirectData(t),this.routeIndex=0;var i=t.routes[this.routeIndex].legs[0].distance.text+"; "+t.routes[this.routeIndex].legs[0].duration.text;this.toggleTopBar("directBoxResult","<span style='color: gray'>From: </span>"+this.$.directionStart.getValue()+"<br><span style='color: gray'>To: </span>"+this.$.directionEnd.getValue()+"<br>"+i)}else this.info($L("No route"))}.bind(this))}else this.info($L("Request is not complete, be sure that the Origin and Destination is set properly and try it again."))},bookmarkSelect:function(t){selectMode=t.getValue(),t.getValue()?(this.$.pullout.openPullout("bookmarkpanel"),this.statusPanel("Choose the place and set it as "+t.description,5)):this.$.pullout.closePullout(),this.$.bookmarkA.getValue()&&this.$.bookmarkB.getValue()&&(this.$.bookmarkB.setValue(!1),this.$.bookmarkA.setValue(!1),t.setValue(!0))},fillDirectField:function(t,e){this.$.pullout.closePullout(),this.$.bookmarkB.getValue()&&(this.$.bookmarkB.setValue(!1),this.$.directionEnd.setValue(e.name),this.$.directionEnd.place=e,this.directRequest.destination=e.geometry.location),this.$.bookmarkA.getValue()&&(this.$.bookmarkA.setValue(!1),this.$.directionStart.setValue(e.name),this.$.directionStart.place=e,this.directRequest.origin=e.geometry.location),this.$.getDirectButton.setDisabled(!1),selectMode=!1},setDirectStep:function(t,e){if(this.directStepMarker)this.directStepMarker.setPosition(e.start_point),this.directStepMarker.step=e.step,google.maps.event.addListener(this.directStepMarker,"click",this.directMarkerClick.bind(this,this.directStepMarker,e));else{var i=28*window.devicePixelRatio,n={url:"assets/poi_direction_step.png",size:new google.maps.Size(i,i),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(i/2,i/2),scaledSize:new google.maps.Size(i,i)};this.directStepMarker=new google.maps.Marker({position:e.start_point,map:map,optimized:this.optimizedMarkers,icon:n}),this.directStepMarker.step=e.step,google.maps.event.addListener(this.directStepMarker,"click",this.directMarkerClick.bind(this,this.directStepMarker,e)),map.panTo(e.start_point),map.setZoom(16)}},directStepGo:function(t){var e=this.$.pullout.goToStep(this.directStepMarker.step+t.step);this.setDirectStep(null,e),map.panTo(e.start_location),this.directMarkerClick(this.directStepMarker,e)},toggleTopBar:function(t,e){this.$.directBoxResult.hide(),this.$.searchBox.hide(),this.$.directBox.hide(),this.$.buttonsBox.show(),this.$.clearButton.show(),this.$.directResultsBar.setContent(e),this.$[t].show(),this.$.layout.rendered()},updateDirections:function(t,e){e.preventDefault(),this.$.getDirectButton.setDisabled(!1),this.$.searchBox.setShowing(!0),this.toggleSearchDirections()},mapTapHold:function(t,e){this.statusPanel("Dropping a pin ...",10);var i=new google.maps.Point(e.srcEvent.offsetX,e.srcEvent.offsetY);this.GeocodeFromLatLng(this.fromPixelToLatLng(i))},routeFromTo:function(t){var e,i;switch(t.name){case"markerStart":e="origin",i="directionStart";break;case"markerEnd":this.trackPosition,e="destination",i="directionEnd"}this.$.markerPopup.hide(),this.$.markerPopupMenu.hide(),this.$.directPopup.hide(),this.directRequest[e]=this.lastClickedMarker.place.geometry.location,this.$[i].setValue(this.lastClickedMarker.place.name),this.toggleSearchDirections("routeFromTo")},statusPanel:function(t,e){clearTimeout(this.panelTimer),e||(e=1),this.$.statuspanel.addClass("active"),this.$.statuspanel.setContent(t),this.panelTimer=setTimeout(function(){this.$.statuspanel.removeClass("active")}.bind(this),1e3*e)},pulloutToggled:function(){},accelHandler:function(t,e){this.haveCompass&&(this.compassOpacity=1-2*Math.max(Math.abs(e.accelX),Math.abs(e.accelY)),this.compassOpacity=.5>this.compassOpacity?0:this.compassOpacity,this.compassContainer.style.opacity=this.compassOpacity)},compassHandler:function(t,e){if(!(this.compassOpacity=0))if(document.getElementById("compass"))this.needleContainer.style[this.transform+"transform"]="rotate3d(0,0,1,"+e.heading+"deg)";else{this.haveCompass=!0;try{map.getDiv().firstChild.firstChild.appendChild(this.compassContainer),document.getElementById("compass").appendChild(this.needleContainer)}catch(i){enyo.log("Map not loaded yet...")}}},updateCompassPosition:function(t){if(this.haveCompass){var e=this.fromLatLngToPixel(t);e.x=Math.round(e.x-this.compassContainer.offsetWidth/2),e.y=Math.round(e.y-this.compassContainer.offsetHeight),this.compassContainer.style.top=e.y+"px",this.compassContainer.style.left=e.x+"px"}},blockScreenTimeout:function(t){window.PalmSystem.setWindowProperties({blockScreenTimeout:t})},mapIdle:function(){},mapTap:function(){this.trackPosition=!1,this.$.myLocation.setValue(!1)},mapBoundsChanged:function(){this.updateCompassPosition(currentPos)}});

// source\views\placeDetails.js
enyo.kind({name:"placeDetails",published:{place:""},events:{onGoBack:""},components:[{kind:"Signals",onload:"load",onunload:"cleanup"},{name:"detailspanel",classes:"details zoom-pre3",components:[{kind:"FittableRows",name:"layout",classes:"zoom-pre3",components:[{name:"mainPane",kind:"onyx.Toolbar",layoutKind:"FittableColumnsLayout",components:[{name:"back",kind:"onyx.IconButton",style:"width: 32px; height: 32px",src:"assets/menu-icon-back.png",ontap:"goBack"},{name:"titleOnPane",kind:"enyo.Control",content:"Place Deatils",classes:"truncating-text",ontap:""}]},{fit:!0,name:"details-panel",components:[{name:"PlaceDetailsImageContainer",components:[{name:"PlaceDetailsImage",classes:"details-image"}]},{classes:"onyx-sample-divider",content:"Summary:"},{name:"PlaceDetailsName",allowHtml:!0,classes:"item-name",ontap:"test"},{name:"PlaceDetailsRating",content:"",classes:"item-rating",showing:!1},{name:"PlaceDetailsRatingStar",content:"",allowHtml:!0,classes:"rating-container",showing:!1},{tag:"br"},{name:"PlaceDetailsAddress",allowHtml:!0,classes:"item-address",content:""},{tag:"br"},{name:"PlaceDetailsLocation",allowHtml:!0,classes:"item-address",content:""},{tag:"br"},{name:"PlaceDetailsElevation",allowHtml:!0,content:"",classes:"item-address",showing:!1},{tag:"br"}]}]},{showing:!1,components:[{classes:"onyx-sample-divider",content:"Opening hours:"},{name:"PlaceDetailsHours",kind:"enyo.Control",classes:"",content:"",allowHtml:!0,ontap:"openingHoursDetails"},{name:"openingHoursPopup",classes:"zoom-pre3",kind:"onyx.Popup",allowHtml:!0,content:""}]}]}],create:function(){this.inherited(arguments),this.resize()},load:function(){},cleanup:function(){enyo.log("*** EXIT DETAILS ***")},goBack:function(){this.doGoBack()},setPlaceDetails:function(t){var e=this.getImageForPlace(t);this.$.PlaceDetailsImage.applyStyle("background-image","url("+e+")"),this.$.PlaceDetailsImage.applyStyle("width",window.innerWidth+"px"),this.$.PlaceDetailsImage.applyStyle("height",window.innerHeight/3+"px"),this.$.PlaceDetailsImage.applyStyle("background-size","cover"),this.$.titleOnPane.setContent(t.name),this.$.PlaceDetailsName.setContent(t.name),this.$.PlaceDetailsAddress.setContent("Address:<br>"+t.formatted_address),this.$.PlaceDetailsLocation.setContent("Loc:<br>"+t.geometry.location.toUrlValue(8)),this.$.PlaceDetailsElevation.hide(),this.getElevations([t.geometry.location]),t.rating?(this.$.PlaceDetailsRating.show(),this.$.PlaceDetailsRatingStar.show()):(this.$.PlaceDetailsRating.hide(),this.$.PlaceDetailsRatingStar.hide()),this.$.PlaceDetailsRating.setContent(t.rating);var i='<div class="rating_bar"><div id="ratingstar" style="width: '+20*t.rating+'%;"></div></div>';if(this.$.PlaceDetailsRatingStar.setContent(i),t.opening_hours){var n,o,s=new Date,a=s.getDay()-1;if(t.opening_hours.periods){n=t.opening_hours.weekday_text[a],this.$.PlaceDetailsHours.setContent(n),this.$.PlaceDetailsHours.parent.show();var r="";for(day=0;7>day;day++){o=day==a?t.opening_hours.open_now?'color="green"':'color="red"':"";var l=a==day?" weight: bold ":" weight: normal ";r=r+"<font "+o+l+">"+t.opening_hours.weekday_text[day]+"</font>"+"<br>"}this.$.openingHoursPopup.setContent(r)}else n=t.opening_hours.open_now?"closed":"open",this.$.PlaceDetailsHours.setContent("<img src='assets/hours_"+n+".png'>"),this.$.PlaceDetailsHours.parent.show()}else this.$.PlaceDetailsHours.parent.hide()},getImageForPlace:function(t){var e="icon-256x256.png";return t.photos?e=t.photos[0].getUrl({maxWidth:window.innerWidth,maxHeight:Math.round(window.innerHeight/3)}):(this.streetViewCheck=new google.maps.StreetViewService,this.streetViewCheck.getPanoramaByLocation(t.geometry.location,50,function(i,n){"OK"==n?(e="https://maps.googleapis.com/maps/api/streetview?size="+window.innerWidth+"x"+Math.round(window.innerHeight/3)+"&location="+t.geometry.location.lat()+","+t.geometry.location.lng()+"&heading=235",this.$.PlaceDetailsImage.applyStyle("background-image","url("+e+")")):(e="https://maps.googleapis.com/maps/api/staticmap?center="+t.geometry.location.lat()+","+t.geometry.location.lng()+"&zoom=19&size="+window.innerWidth+"x"+Math.round(window.innerHeight/3)+"&maptype=satellite",this.$.PlaceDetailsImage.applyStyle("background-image","url("+e+")"))}.bind(this))),e},getElevations:function(t){var e={locations:t};elevator.getElevationForLocations(e,function(t,e){e==google.maps.ElevationStatus.OK?t[0]?this.setElevationResults(t):enyo.log("No results found"):enyo.log("Elevation service failed due to: "+e)}.bind(this))},setElevationResults:function(t){this.$.PlaceDetailsElevation.setContent("Elevation: <br>"+Math.round(t[0].elevation)+"m"),this.$.PlaceDetailsElevation.show()},openingHoursDetails:function(){this.$.openingHoursPopup.show()}});

// source\app.js
enyo.kind({name:"Maps.Application",kind:"enyo.Application",view:"Maps.MainView"}),enyo.ready(function(){enyo.log("****** APPLICATION LAUNCHED on "+enyo.platform.platformName+" PLATFORM ******* "),new Maps.Application});
